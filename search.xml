<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Jestï¼šå»ºç½®æ¸¬è©¦ç’°å¢ƒ (åŒ…å« Babel)</title>
      <link href="/article/jest-build-test-env.html"/>
      <url>/article/jest-build-test-env.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/jest.jpg" alt=""></p><p>æœ€è¿‘åœ¨å­¸ç¿’å–®å…ƒæ¸¬è©¦ï¼Œè€Œ Jest æ˜¯åœ¨å‰ç«¯è »å¸¸è¦‹çš„æ¸¬è©¦æ¡†æ¶ï¼Œå¯é€éå»ºç«‹æ¸¬è©¦ä¾†ç¢ºä¿è‡ªå·±å¯«çš„ç¨‹å¼ç¢¼æ˜¯å¦ç¬¦åˆéœ€æ±‚ï¼Œè€Œä¸”ç•¶æ”¹å‹•ç¨‹å¼ç¢¼æ™‚ï¼Œæ‰èƒ½ç¢ºä¿æ˜¯å¦å› ä¸å°å¿ƒè€Œç”¢ç”Ÿçš„ bugï¼Œæ¸¬è©¦èƒ½è®“æˆ‘æ›´æœ‰ä¿¡å¿ƒçš„å»é‡æ§‹ç¨‹å¼ç¢¼ã€‚</p><a id="more"></a><p>é‚£ Jest å¯ä»¥ç”¨åœ¨å“ªäº›å°ˆæ¡ˆï¼Ÿä½ å¯ç‚ºä¸‹é¢é€™äº›å°ˆæ¡ˆå»ºç«‹æ¸¬è©¦ï¼š</p><ul><li><a href="https://babeljs.io/" target="_blank" rel="noopener">Babel</a></li><li><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a></li><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node</a></li><li><a href="https://angular.io/" target="_blank" rel="noopener">Angular</a>ã€<a href="https://vuejs.org/" target="_blank" rel="noopener">Vue</a>ã€<a href="https://reactjs.org/" target="_blank" rel="noopener">React</a></li><li>â€¦ç­‰</li></ul><p>ä¸‹é¢ä¾†ä»‹ç´¹å¦‚ä½•å»ºç½® Jest çš„æ¸¬è©¦é–‹ç™¼ç’°å¢ƒã€‚</p><h1 id="å»ºç«‹é–‹ç™¼ç’°å¢ƒ"><a class="header-anchor" href="#å»ºç«‹é–‹ç™¼ç’°å¢ƒ"></a>å»ºç«‹é–‹ç™¼ç’°å¢ƒ</h1><h2 id="å»ºç«‹-npm-å°ˆæ¡ˆ"><a class="header-anchor" href="#å»ºç«‹-npm-å°ˆæ¡ˆ"></a>å»ºç«‹ npm å°ˆæ¡ˆ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm init -y</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£-Jest"><a class="header-anchor" href="#å®‰è£-Jest"></a>å®‰è£ Jest</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add -D jest</span><br></code></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install -D jest</span><br></code></pre></td></tr></table></figure><h2 id="è¨­å®š-package-json"><a class="header-anchor" href="#è¨­å®š-package-json"></a>è¨­å®š <code>package.json</code></h2><p>åœ¨ <code>package.json</code> åŠ ä¸Šä¸‹é¢å…§å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">"scripts"</span>: &#123;<br>    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"jest"</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å¯«ç¯„ä¾‹ç¨‹å¼ç¢¼"><a class="header-anchor" href="#å¯«ç¯„ä¾‹ç¨‹å¼ç¢¼"></a>å¯«ç¯„ä¾‹ç¨‹å¼ç¢¼</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// sum.js</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><span class="hljs-built_in">module</span>.exports = sum;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./sum'</span>);<br><br><span class="hljs-built_in">console</span>.log(sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));<br></code></pre></td></tr></table></figure><p>åŸ·è¡Œ <code>main.js</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> node main.js</span><br>3<br></code></pre></td></tr></table></figure><h1 id="å»ºç«‹æ¸¬è©¦"><a class="header-anchor" href="#å»ºç«‹æ¸¬è©¦"></a>å»ºç«‹æ¸¬è©¦</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// sum.test.js</span><br><span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./sum'</span>);<br><br>test(<span class="hljs-string">'adds 1 + 2 to equal 3'</span>, () =&gt; &#123;<br>  <span class="hljs-comment">// Arrange</span><br>  <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>, y = <span class="hljs-number">2</span>;<br>  <span class="hljs-keyword">let</span> expected = <span class="hljs-number">3</span>;<br><br>  <span class="hljs-comment">// Act</span><br>  <span class="hljs-keyword">let</span> actual = sum(x, y);<br><br>  <span class="hljs-comment">// Assert</span><br>  expect(actual).toBe(expected);<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="åŸ·è¡Œæ¸¬è©¦"><a class="header-anchor" href="#åŸ·è¡Œæ¸¬è©¦"></a>åŸ·è¡Œæ¸¬è©¦</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn <span class="hljs-built_in">test</span></span><br></code></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm run <span class="hljs-built_in">test</span></span><br></code></pre></td></tr></table></figure><p>æ¸¬è©¦é€šéï¼š</p><p><img src="../images/jest-build-test-env/2020-05-24-22-26-37.png" alt=""></p><h1 id="å¾æŒ‡ä»¤åˆ—åŸ·è¡Œæ¸¬è©¦"><a class="header-anchor" href="#å¾æŒ‡ä»¤åˆ—åŸ·è¡Œæ¸¬è©¦"></a>å¾æŒ‡ä»¤åˆ—åŸ·è¡Œæ¸¬è©¦</h1><p>ä¾‹å¦‚ï¼šJest åªåŸ·è¡Œ match <code>my-test</code> çš„æ¸¬è©¦æª”æ¡ˆï¼Œä»¥åŠä½¿ç”¨ <code>config.json</code> ä½œç‚ºé…ç½®æª”æ¡ˆï¼Œä¸¦ä¸”åœ¨åŸ·è¡Œå¾Œé¡¯ç¤º native çš„ OS é€šçŸ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> jest my-test --notify --config=config.json</span><br></code></pre></td></tr></table></figure><p>Jest CLI option èªªæ˜ï¼š</p><ul><li><code>jest &lt;regexForTestFiles&gt;</code>ï¼šmatch åˆ°åç‚º <code>&lt;regexForTestFiles&gt;</code> (åƒæ­¤ç¯„ä¾‹çš„ <code>my-test</code> ) çš„æª”æ¡ˆåŸ·è¡Œ Jest<ul><li>è‹¥åœ¨åŸ·è¡Œ <code>jest</code> æ™‚ä½¿ç”¨äº† <code>&lt;regexForTestFiles&gt;</code> argumentï¼Œè©² argument æœƒè¢«è¦–ç‚º regex patternï¼ŒJest åªæœƒåŸ·è¡Œèˆ‡ pattern match çš„æ¸¬è©¦æª”æ¡ˆ</li><li>æœ‰äº› terminal å¯èƒ½éœ€è¦ç”¨å¼•è™ŸæŠŠ argument åŒ…èµ·ä¾†ï¼Œä¾‹å¦‚ï¼š<code>jest &quot;my.*(complex)?pattern&quot;</code></li><li>Windows éœ€ä½¿ç”¨ <code>/</code> ä½œç‚ºè·¯å¾‘åˆ†éš”å­—å…ƒ (separator) æˆ–å°‡ <code>\</code> è½‰ç¾© (escape) æˆ <code>\\</code></li></ul></li><li><code>--config=&lt;path&gt;</code>ï¼Œ<code>-c=&lt;path&gt;</code>ï¼šä½¿ç”¨ <code>&lt;path&gt;</code> (åƒæ­¤ç¯„ä¾‹çš„ <code>config.json</code> ) ä½œç‚ºé…ç½®æª”æ¡ˆ<ul><li>Jest é…ç½®æª”æ¡ˆçš„è·¯å¾‘ä¾†æŒ‡å®šå¦‚ä½•æŸ¥æ‰¾å’ŒåŸ·è¡Œæ¸¬è©¦</li><li>å¦‚æœåœ¨é…ç½®ä¸­æœªè¨­å®š <code>rootDir</code>ï¼Œå‰‡å‡å®šåŒ…å«é…ç½®æª”æ¡ˆçš„ç›®éŒ„ç‚ºå°ˆæ¡ˆçš„ <code>rootDir</code></li><li>ä¹Ÿå¯ä»¥æ˜¯ JSON-encoded value ä½œç‚º Jest çš„é…ç½®</li></ul></li><li><code>--notify</code>ï¼šåŸ·è¡Œå®Œæˆå¾Œé¡¯ç¤ºåŸç”Ÿçš„ OS é€šçŸ¥<ul><li>æ¿€æ´» (activates) æ¸¬è©¦çµæœé€šçŸ¥</li><li>ç•¶ä½ ä¸å¸Œæœ›è‡ªå·±çš„æ„è­˜èƒ½å¤ å°ˆæ³¨æ–¼ JavaScript æ¸¬è©¦ä»¥å¤–çš„ä»»ä½•äº‹ç‰©æ™‚ï¼Œå¯ç”¨æ­¤ option</li><li>Bewareï¼šJest ä½¿ç”¨ <a href="https://github.com/mikaelbr/node-notifier" target="_blank" rel="noopener">node-notifier</a> ä¾†é¡¯ç¤ºæ¡Œé¢é€šçŸ¥<ul><li>åœ¨ Windows ä¸Šï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ™‚æœƒå»ºç«‹ä¸€å€‹æ–°çš„ start menu entryï¼Œä¸¦ä¸”ä¸æœƒé¡¯ç¤ºé€šçŸ¥ã€‚é€šçŸ¥å°‡åœ¨å¾ŒçºŒåŸ·è¡Œä¸­æ­£ç¢ºé¡¯ç¤º</li></ul></li></ul></li></ul><h1 id="Jest-Config"><a class="header-anchor" href="#Jest-Config"></a>Jest Config</h1><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ç”Ÿæˆ Jest çš„åŸºç¤é…ç½®æª”æ¡ˆ <code>jest.config.js</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> jest --init</span><br></code></pre></td></tr></table></figure><p>å› ç‚ºæˆ‘æ²’æœ‰åœ¨ global å®‰è£ <code>jest</code>ï¼Œæ‰€ä»¥éœ€è¦é€é <code>yarn</code> ä¾†åŸ·è¡Œ Jest CLI (æˆ–æ˜¯å¯é€é <code>npx</code> ä¾†åŸ·è¡Œ)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn <span class="hljs-built_in">test</span> --init</span><br>yarn run v1.21.1<br><span class="hljs-meta">$</span><span class="bash"> jest --init</span><br><br>The following questions will help Jest to create a suitable configuration for your project<br><br>âœ” Choose the test environment that will be used for testing â€º node<br>âœ” Do you want Jest to add coverage reports? â€¦ yes<br>âœ” Automatically clear mock calls and instances between every test? â€¦ no<br><br>ğŸ“  Configuration file created at /home/titan/.local/share/Trash/files/jest.config.js<br>Done in 7.41s.<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸€å€‹å•é¡Œæˆ‘é¸æ“‡ <code>node</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">? Choose the test environment that will be used for testing â€º - Use arrow-keys. Return to submit.<br>â¯   node<br>    jsdom (browser-like)<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒå€‹å•é¡Œï¼šæ˜¯å¦è¦æ¸¬è©¦æ¶µè“‹å ±å‘Š (coverage reports)ï¼Ÿæˆ‘é¸æ“‡ <code>yes</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">? Do you want Jest to add coverage reports? â€º (y/N)<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸‰å€‹å•é¡Œï¼šæ˜¯å¦è¦åœ¨æ¯å€‹æ¸¬è©¦ä¹‹é–“è‡ªå‹•æ¸…é™¤ mock calls å’Œ instanceï¼Ÿæˆ‘é¸æ“‡ <code>No</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">? Automatically clear mock calls and instances between every test? â€º (y/N)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å‰›å‰›åŸ·è¡Œ <code>jest init</code> æ™‚ï¼Œæ‰€ç”Ÿæˆçš„ <code>jest.config.js</code> è¨­å®šï¼š</p><ul><li><code>coverageDirectory</code>ï¼šJest è¼¸å‡ºçš„ coverage æª”æ¡ˆè¦æ”¾åœ¨å“ªå€‹ç›®éŒ„<ul><li>é è¨­ï¼š<code>undefined</code></li></ul></li><li><code>testEnvironment</code>ï¼šç”¨æ–¼æ¸¬è©¦çš„æ¸¬è©¦ç’°å¢ƒ<ul><li>é è¨­ï¼š<code>&quot;jsdom&quot;</code> (é¡ä¼¼ç€è¦½å™¨çš„ç’°å¢ƒ)</li><li>è‹¥è¦å»ºç½® node serviceï¼Œå¯ç”¨ <code>&quot;node&quot;</code> ä¾†ä½¿ç”¨é¡ä¼¼ node çš„ç’°å¢ƒ</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">module</span>.exports = &#123;<br>  coverageDirectory: <span class="hljs-string">"coverage"</span>,<br>  testEnvironment: <span class="hljs-string">"node"</span><br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>æ›´å¤š Jest é…ç½®è¨­å®šï¼Œè©³æƒ…å¯åƒé–± <a href="https://jestjs.io/docs/en/configuration" target="_blank" rel="noopener">Configuring Jest Â· Jest</a>ã€‚</p></blockquote><h1 id="ä½¿ç”¨-Babel"><a class="header-anchor" href="#ä½¿ç”¨-Babel"></a>ä½¿ç”¨ Babel</h1><p>åœ¨å®‰è£ Babel å‰ï¼Œå°‡ç¨‹å¼ç¢¼æ”¹æˆ ES6 èªæ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// sum.js</span><br><span class="hljs-keyword">const</span> sum = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> sum;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">'./sum'</span>;<br><br><span class="hljs-built_in">console</span>.log(sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// sum.test.js</span><br><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">'./sum'</span>;<br><br>test(<span class="hljs-string">'adds 1 + 2 to equal 3'</span>, () =&gt; &#123;<br>  <span class="hljs-comment">// Arrange</span><br>  <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>, y = <span class="hljs-number">2</span>;<br>  <span class="hljs-keyword">let</span> expected = <span class="hljs-number">3</span>;<br><br>  <span class="hljs-comment">// Act</span><br>  <span class="hljs-keyword">let</span> actual = sum(x, y);<br><br>  <span class="hljs-comment">// Assert</span><br>  expect(actual).toBe(expected);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è·‘æ¸¬è©¦æœƒå‡ºéŒ¯ï¼Œå› ç‚º Jest éœ€è¦é€é Babel æ‰èƒ½åŸ·è¡Œ ES6 çš„èªæ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn <span class="hljs-built_in">test</span></span><br></code></pre></td></tr></table></figure><p><img src="../images/jest-build-test-env/2020-05-24-23-17-50.png" alt=""></p><p>æ‰€ä»¥ä¾†å®‰è£ <a href="http://babeljs.io/" target="_blank" rel="noopener">Babel</a>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add -D babel-jest @babel/core @babel/preset-env</span><br></code></pre></td></tr></table></figure><p>åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ <code>babel.config.js</code>ï¼Œæ­¤æª”æ¡ˆç”¨æ–¼é…ç½®èˆ‡ä½ ç•¶å‰ Node ç‰ˆæœ¬ç›¸å®¹çš„ Babelï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// babel.config.js</span><br><span class="hljs-built_in">module</span>.exports = &#123;<br>  presets: [<br>    [<br>      <span class="hljs-string">'@babel/preset-env'</span>,<br>      &#123;<br>        targets: &#123;<br>          node: <span class="hljs-string">'current'</span>,<br>        &#125;,<br>      &#125;,<br>    ],<br>  ],<br>&#125;;<br></code></pre></td></tr></table></figure><p>å†è·‘æ¸¬è©¦å°±æœƒé€šéï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn <span class="hljs-built_in">test</span></span><br></code></pre></td></tr></table></figure><p><img src="../images/jest-build-test-env/2020-05-24-23-24-29.png" alt=""></p><blockquote><p>è©³æƒ…å¯åƒé–± <a href="https://babeljs.io/docs/en/" target="_blank" rel="noopener">Babel å®˜æ–¹æ–‡ä»¶</a>ã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener">Getting Started Â· Jest</a></li><li><a href="https://jestjs.io/docs/en/cli" target="_blank" rel="noopener">Jest CLI Options Â· Jest</a></li><li><a href="https://jestjs.io/docs/en/configuration" target="_blank" rel="noopener">Configuring Jest Â· Jest</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Testing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jest </tag>
            
            <tag> Unit Testing </tag>
            
            <tag> w3HexSchool </tag>
            
            <tag> JavaScript </tag>
            
            <tag> Babel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sassï¼š@import rule</title>
      <link href="/article/sass-import-rule.html"/>
      <url>/article/sass-import-rule.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/sass.jpg" alt=""></p><p>Sass çš„ <code>@import</code> rule å¯ä»¥å¼•å…¥ Sass å’Œ CSS stylesheetã€æä¾›å° mixinã€function å’Œè®Šæ•¸çš„å­˜å–ï¼Œä¸¦ä¸”é‚„èƒ½å°‡å¤šå€‹ stylesheet çš„ CSS çµ„åˆåœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼š<code>main.scss</code> å…§ä½¿ç”¨ <code>@import</code> å¼•å…¥ Sass å’Œ CSS æª”ï¼Œåœ¨ç·¨è­¯ Sass å¾Œï¼Œå°±åªæœƒç”¢ç”Ÿä¸€å€‹ <code>main.css</code> æª”ã€‚</p><a id="more"></a><p>è€Œ CSS æœ¬èº«æä¾›çš„ <code>@import</code> rule æœƒè®“ç€è¦½å™¨åœ¨å‘ˆç¾é é¢æ™‚ï¼Œæœ‰å¹¾å€‹ CSS æª”æ¡ˆæ˜¯é€é <code>@import</code> å¼•å…¥çš„ï¼Œå°±è¦ç™¼å‡ºå¹¾å€‹ HTTP requestï¼Œé€™èˆ‡ Sass <code>@import</code> rule çš„è¡Œç‚ºä¸åŒã€‚</p><h2 id="åŒæ™‚å¼•å…¥å¤šå€‹æª”æ¡ˆ"><a class="header-anchor" href="#åŒæ™‚å¼•å…¥å¤šå€‹æª”æ¡ˆ"></a>åŒæ™‚å¼•å…¥å¤šå€‹æª”æ¡ˆ</h2><p>é›–ç„¶ Sass å’Œ CSS çš„å¼•å…¥èªæ³•ç›¸åŒï¼Œä½† Sass å¯ä»¥ç”¨é€—è™Ÿåˆ†éš”ï¼Œä¸€æ¬¡å¼•å…¥å¤šå€‹æª”æ¡ˆï¼Œä¸éœ€è¦æ¯å€‹æª”æ¡ˆéƒ½å„åˆ¥ç”¨ä¸€è¡Œ <code>@import</code> å¼•å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; _button.scss<br>.button &#123; color: #aaa; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; _nav.scss<br>.nav &#123; color: #bbb; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; main.scss<br>@import &#39;button&#39;, &#39;nav&#39;;<br><br>main &#123; color: #000; &#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>; &#125;<br><span class="hljs-selector-class">.nav</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#bbb</span>; &#125;<br><span class="hljs-selector-tag">main</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>; &#125;<br></code></pre></td></tr></table></figure><p>ç•¶ Sass å¼•å…¥æª”æ¡ˆæ™‚ï¼Œæœƒå°è©²æª”æ¡ˆé€²è¡Œä¼°ç®—ï¼Œå¾ˆåƒæ˜¯å°‡å…§å®¹ç›´æ¥æŠ„åœ¨ä½ ä½¿ç”¨ <code>@import</code> çš„ä½ç½®ä¸Šã€‚</p><p>åœ¨ <code>@import</code> ä¹‹å‰å®šç¾©çš„ä»»ä½• mixinã€function æˆ–è®Šæ•¸ (ç”šè‡³ä¾†è‡ªå…¶ä»– <code>@import</code> çš„) éƒ½å¯ä»¥åœ¨ä½ å¼•å…¥çš„ stylesheet ä¸­ä½¿ç”¨ä»–å€‘ã€‚</p><h2 id="ä¸è¦é‡è¤‡å¼•å…¥"><a class="header-anchor" href="#ä¸è¦é‡è¤‡å¼•å…¥"></a>ä¸è¦é‡è¤‡å¼•å…¥</h2><p>æ‰€ä»¥è‹¥å°åŒä¸€å€‹æª”æ¡ˆå¼•å…¥å¤šæ¬¡ï¼Œå°±æœƒé€ æˆç·¨è­¯å‡ºä¾†çš„ CSS æª”æ¡ˆå…§ï¼Œæœƒæœ‰é‡è¤‡çš„ stylesheetã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; main.scss<br>@import &#39;button&#39;;<br>@import &#39;button&#39;;<br><br>main &#123; color: #000; &#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>; &#125;<br><span class="hljs-selector-class">.button</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>; &#125;<br><span class="hljs-selector-tag">main</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>; &#125;<br></code></pre></td></tr></table></figure><p>é™¤éä½ é‡è¤‡å¼•å…¥çš„æª”æ¡ˆå…§ï¼Œåªæœ‰åƒæ˜¯ mixinã€function æˆ–è®Šæ•¸ç­‰ä¸æœƒç”¢ç”Ÿæ¨£å¼è¦å‰‡çš„æ±è¥¿ï¼Œå°±ä¸æœƒç”¢ç”Ÿé‡è¤‡çš„å…§å®¹ã€‚</p><h2 id="å¼•å…¥ä¸ç”¨å¯«å‰¯æª”å"><a class="header-anchor" href="#å¼•å…¥ä¸ç”¨å¯«å‰¯æª”å"></a>å¼•å…¥ä¸ç”¨å¯«å‰¯æª”å</h2><p>å¦å¤–ï¼Œä½¿ç”¨ Sass çš„ <code>@import</code> rule æ™‚ï¼Œä¸ç”¨å¯«æª”æ¡ˆçš„å‰¯æª”åï¼Œå› ç‚º Sass æœƒè‡ªå‹•å¹«ä½ å¼•å…¥ã€‚</p><p>ä¾‹å¦‚ï¼šç•¶ä½ å¼•å…¥ <code>@import &quot;a&quot;</code> æ™‚ï¼ŒSass æœƒè‡ªå‹•å¼•å…¥ <code>a.scss</code>ã€<code>a.sass</code> æˆ– <code>a.css</code>ã€‚ä½† CSS æœ¬èº«æä¾›çš„ <code>@import</code> rule è¨˜å¾—è¦å¯«æª”æ¡ˆçš„å‰¯æª”åæ‰èƒ½æ­£ç¢ºçš„å¼•å…¥ã€‚</p><h2 id="å¼•å…¥è·¯å¾‘"><a class="header-anchor" href="#å¼•å…¥è·¯å¾‘"></a>å¼•å…¥è·¯å¾‘</h2><ul><li>åœ¨å¼•å…¥ partials (ä»¥ <code>_</code> ç‚ºé–‹é ­çš„æª”æ¡ˆ) æ™‚ï¼Œä¸ç”¨å¯« <code>_</code> å°±èƒ½å¼•å…¥ï¼Œä¸”è©²æª”æ¡ˆä¸æœƒè¢«ç·¨è­¯</li><li>å¼•å…¥æª”æ¡ˆæ™‚å¯çœç•¥ <code>./</code> ç›¸å°å¼•å…¥</li><li>åœ¨ä½¿ç”¨ Sass CLI æ™‚ï¼Œè‹¥æœ‰æä¾› <code>--load-path</code> æˆ– <code>-I</code> optionï¼Œå°±å¯ä»¥ç°¡åŒ–å¼•å…¥çš„è·¯å¾‘<ul><li>è©³æƒ…å¯åƒé–±æˆ‘ä¹‹å‰å¯«çš„ <a href="https://titangene.github.io/article/dart-sass.html#load-path%EF%BC%8C-I">Dart Sass ä»‹ç´¹ (ä½¿ç”¨èˆ‡å®‰è£)</a></li><li>ä½†å¼•å…¥æ™‚ï¼ŒSass æœƒå…ˆè§£æç›¸å°æ–¼ç•¶å‰æª”æ¡ˆçš„è·¯å¾‘ï¼Œè‹¥æ²’æœ‰æ‰¾åˆ°æ™‚ï¼Œæ‰æœƒå¼•å…¥ç›¸å°æ–¼ <code>--load-path</code> æä¾›çš„è·¯å¾‘å…§çš„æª”æ¡ˆ</li></ul></li></ul><p>ä¾‹å¦‚ï¼šåœ¨ <code>node_modules/bootstrap/scss</code> ç›®éŒ„å…§æ­£å¥½æœ‰åç‚º <code>_button.scss</code> çš„æª”æ¡ˆï¼Œè€Œæˆ‘å¼•å…¥äº† <code>@import 'buttons'</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; src&#x2F;_buttons.scss<br>.button &#123; color: blue; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; src&#x2F;main.scss<br>@import &#39;buttons&#39;;<br><br>main &#123; color: #000; &#125;<br></code></pre></td></tr></table></figure><p>ç·¨è­¯ Sass (æ³¨æ„ï¼Œæˆ‘ä½¿ç”¨äº† <code>--load-path</code> optionï¼ŒæŒ‡å®šäº† Bootstrap å…§çš„è·¯å¾‘)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --load-path=node_modules/bootstrap/scss src/main.scss</span><br></code></pre></td></tr></table></figure><p>ä½†è¼¸å‡ºçš„çµæœè¡¨åï¼Œæˆ‘å¼•å…¥çš„ <code>@import 'buttons'</code> æŒ‡çš„æ˜¯ <code>src/_buttons.scss</code> é€™å€‹æª”æ¡ˆï¼Œè€Œä¸æ˜¯ <code>node_modules/bootstrap/scss</code> ç›®éŒ„å…§çš„ <code>_button.scss</code> é€™å€‹æª”æ¡ˆï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;<br><span class="hljs-selector-tag">main</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>; &#125;<br></code></pre></td></tr></table></figure><p>å› ç‚ºåœ¨ <code>src</code> ç›®éŒ„å…§ï¼Œ<code>_buttons.scss</code> ç›¸å°æ–¼ <code>main.scss</code>ï¼Œæ‰€ä»¥ä¸æœƒå¼•ç”¨åˆ° Bootstrap å…§çš„æª”æ¡ˆã€‚</p><h2 id="index-æª”æ¡ˆ"><a class="header-anchor" href="#index-æª”æ¡ˆ"></a>index æª”æ¡ˆ</h2><p>è‹¥åœ¨è³‡æ–™å¤¾ (ä¾‹å¦‚ï¼š<code>base</code> è³‡æ–™å¤¾) å…§å»ºç«‹ <code>_index.scss</code> æˆ– <code>_index.sass</code> æª”æ¡ˆï¼Œè€Œ index æª”æ¡ˆå…§å¼•å…¥äº†è©²è³‡æ–™å¤¾å…§çš„å…¶ä»–æª”æ¡ˆ (ä¾‹å¦‚ï¼š<code>_code.scss</code> å’Œ <code>_list.scss</code> ) æ™‚ï¼Œå‰‡å¯ç›´æ¥é€é <code>@import</code> è©²è³‡æ–™å¤¾ä¾†å¼•å…¥é‚£äº›æª”æ¡ˆã€‚</p><p>ç›®éŒ„çµæ§‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree</span><br>.<br>â”œâ”€â”€ base<br>â”‚   â”œâ”€â”€ _code.scss<br>â”‚   â”œâ”€â”€ _index.scss<br>â”‚   â””â”€â”€ _list.scss<br>â””â”€â”€ main.scss<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; base&#x2F;_code.scss<br>code &#123; padding: 4px; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; base&#x2F;_list.scss<br>ul &#123; padding: 0; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; base&#x2F;_index.scss<br>@import &#39;code&#39;, &#39;list&#39;;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; main.scss<br>@import &#39;base&#39;;<br><br>main &#123; color: #000; &#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">code</span> &#123; <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span>; &#125;<br><span class="hljs-selector-tag">ul</span> &#123; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; &#125;<br><span class="hljs-selector-tag">main</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>; &#125;<br></code></pre></td></tr></table></figure><h2 id="å·¢ç‹€å¼•å…¥"><a class="header-anchor" href="#å·¢ç‹€å¼•å…¥"></a>å·¢ç‹€å¼•å…¥</h2><p>ä¹Ÿå¯ä»¥å·¢ç‹€å¼•å…¥ï¼Œä½†è¦æ³¨æ„çš„æ˜¯åœ¨å·¢ç‹€å¼•å…¥ (nested import) ä¸­å®šç¾©çš„ mixinã€function æˆ–è®Šæ•¸éƒ½é‚„æ˜¯å…¨åŸŸå®šç¾©çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; _button.scss<br>.button &#123; color: #aaa; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; main.scss<br>main &#123;<br>  @import &#39;a&#39;;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">main</span> <span class="hljs-selector-class">.button</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>; &#125;<br></code></pre></td></tr></table></figure><p>è‹¥æ˜¯å·¢ç‹€å¼•å…¥çš„æª”æ¡ˆå…§æœ‰ä½¿ç”¨ parent selectors (ä¹Ÿå°±æ˜¯ <code>&amp;</code> )ï¼Œå‰‡æœƒå¼•ç”¨ stylesheet å·¢ç‹€åœ¨å…¶ä¸­çš„é¸æ“‡å™¨ (ä¼°ç®—çš„æ–¹å¼é¡ä¼¼ mixin)ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; _theme.scss<br>ul li &#123;<br>  padding-left: 16px;<br><br>  [dir&#x3D;rtl] &amp; &#123;<br>    padding-left: 0;<br>    padding-right: 16px;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">&#x2F;&#x2F; style.scss<br>.theme-sample &#123;<br>  @import &#39;theme&#39;;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.theme-sample</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">16px</span>;<br>&#125;<br><span class="hljs-selector-attr">[dir=rtl]</span> <span class="hljs-selector-class">.theme-sample</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">padding-right</span>: <span class="hljs-number">16px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¼•å…¥-CSS"><a class="header-anchor" href="#å¼•å…¥-CSS"></a>å¼•å…¥ CSS</h2><p>Sass çš„ <code>@import</code> rule é™¤äº†å¯ä»¥å¼•å…¥ <code>.scss</code> å’Œ <code>.sass</code> æª”ï¼Œä¹Ÿå¯ä»¥å¼•å…¥ <code>.css</code> æª”ã€‚</p><p>ä½†è¦è¨˜å¾—åœ¨å¼•å…¥ <code>.css</code> æª”æ™‚ï¼Œä¸å¯ä»¥åƒ <code>@import 'file.css';</code> é€™æ¨£æ˜ç¢ºçš„å¯«ä½ å¼•å…¥äº† <code>.css</code> æª”ï¼Œè€Œæ˜¯è¦å¿½ç•¥å‰¯æª”åã€‚å› ç‚ºç•¶ä½ æ˜ç¢ºçš„å¯« <code>.css</code> å‰¯æª”åæ™‚ï¼Œä»£è¡¨ä½ æƒ³ç”¨ <a href="https://sass-lang.com/documentation/at-rules/import#plain-css-imports" target="_blank" rel="noopener">CSS åŸæœ¬çš„ <code>@import</code> rule</a>ã€‚</p><p>ä»¥ä¸‹é€™äº›å¼•å…¥æ–¹å¼éƒ½æ˜¯ CSS åŸæœ¬çš„ <code>@import</code> ruleï¼š</p><ul><li>ä»¥ <code>.css</code> ç‚ºçµå°¾çš„ URL</li><li>ä»¥ <code>http://</code> æˆ– <code>https://</code> ç‚ºé–‹é ­çš„ URL</li><li>ç”¨ <code>url()</code> ä¾†å¼•å…¥ URL</li><li>å…·æœ‰ media query çš„å¼•å…¥</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sass">@import &quot;theme.css&quot;;<br>@import &quot;http:&#x2F;&#x2F;fonts.googleapis.com&#x2F;css?family&#x3D;Droid+Sans&quot;;<br>@import url(theme);<br>@import &quot;landscape&quot; screen and (orientation: landscape);<br></code></pre></td></tr></table></figure><h2 id="Interpolation"><a class="header-anchor" href="#Interpolation"></a>Interpolation</h2><p>é›–ç„¶ Sass imports ä¸èƒ½ä½¿ç”¨ <a href="https://sass-lang.com/documentation/interpolation" target="_blank" rel="noopener">interpolation</a>ï¼Œä½† CSS åŸæœ¬çš„ <code>@import</code> æ˜¯å¯ä»¥çš„ã€‚é€™æ¨£å°±å¯ä»¥å‹•æ…‹ç”Ÿæˆå¼•å…¥çš„ URLï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sass">@mixin google-font($family) &#123;<br>  @import url(&quot;http:&#x2F;&#x2F;fonts.googleapis.com&#x2F;css?family&#x3D;#&#123;$family&#125;&quot;);<br>&#125;<br><br>@include google-font(&quot;Droid Sans&quot;);<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> url(<span class="hljs-string">"http://fonts.googleapis.com/css?family=Droid Sans"</span>);<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š<a href="https://sass-lang.com/documentation/at-rules/import" target="_blank" rel="noopener">Sass: @import</a></p>]]></content>
      
      
      <categories>
          
          <category> Web Dev </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> Sass </tag>
            
            <tag> CSS </tag>
            
            <tag> Dart Sass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sassï¼š@use rule</title>
      <link href="/article/sass-use-rule.html"/>
      <url>/article/sass-use-rule.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/sass.jpg" alt=""></p><p>è‹¥è¦æ¨¡çµ„åŒ– Sassï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ <code>@import</code> è¦å‰‡ã€‚ä½†åœ¨ <a href="https://titangene.github.io/article/dart-sass.html">Dart Sass</a> æ¨å‡ºäº†ä¸€å€‹æ–°åŠŸèƒ½ï¼šæ¨¡çµ„ç³»çµ±ï¼Œå¯ç”¨ <code>@use</code> è¦å‰‡ï¼Œä¸¦é€é namespace ä¾†å¼•å…¥å…¶ä»– stylesheet ä¸­çš„æˆå“¡ã€‚</p><a id="more"></a><h1 id="Overview"><a class="header-anchor" href="#Overview"></a>Overview</h1><ul><li>è¼‰å…¥å…¶ä»– Sass stylesheet ä¸­çš„ mixinã€å‡½æ•¸å’Œè®Šæ•¸ï¼Œä¸¦å°‡å¤šå€‹ stylesheet ä¸­çš„ CSS çµ„åˆåœ¨ä¸€èµ·</li><li>ä¸ç®¡ç”¨ <code>@use</code> è¼‰å…¥å¹¾æ¬¡çš„ä»»ä½•æ¨£å¼ï¼Œéƒ½åªæœƒåœ¨ç·¨è­¯çš„ CSS è¼¸å‡ºä¸­å‡ºç¾ä¸€æ¬¡</li><li><code>@use</code> å¿…é ˆæ”¾åœ¨æ‰€æœ‰è¦å‰‡ä¹‹å‰ (é™¤äº† <code>@forward</code> å’Œè®Šæ•¸å®£å‘Šä¹‹å¤–)</li><li>ä¾¿æ–¼äº†è§£æˆå“¡æ˜¯å¾å“ªäº›æª”æ¡ˆè¼‰å…¥çš„</li><li>ä¸ç”¨åƒä½¿ç”¨ <code>@import</code> æ™‚é‚£æ¨£ï¼Œéœ€æŠŠå‘½åå¯«æ¸…æ¥šï¼Œå› ç‚ºå¯é€é <code>@use</code> æä¾›çš„ namespace ä¾†é¿å…å‘½åè¡çª</li></ul><div class="info"><p>åªè¦ä½¿ç”¨ <code>@use</code> å¼•å…¥çš„æª”æ¡ˆï¼Œstylesheet å°±æœƒè¢«å…¨éƒ¨å¼•å…¥ï¼Œä¸ç®¡æœ‰ç„¡å¦å¤–ä½¿ç”¨ã€‚</p></div><h1 id="èªæ³•"><a class="header-anchor" href="#èªæ³•"></a>èªæ³•</h1><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span>;<br><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> as &lt;namespace&gt;;<br><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> as *;<br><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> with (<br>  &lt;variable&gt;: &lt;value&gt;,<br>  &lt;variable&gt;: &lt;value&gt;<br>);<br></code></pre></td></tr></table></figure><h1 id="è¼‰å…¥æˆå“¡"><a class="header-anchor" href="#è¼‰å…¥æˆå“¡"></a>è¼‰å…¥æˆå“¡</h1><ul><li>ç”¨ <code>@use</code> è¼‰å…¥çš„ stylesheet ç¨±ç‚ºã€Œmodules (æ¨¡çµ„)ã€ã€‚</li><li>ä½¿ç”¨ <code>@use</code> æ™‚ï¼Œå¯é€é namespace ä¾†å­˜å–å¦ä¸€å€‹æ¨¡çµ„ä¸­çš„è®Šæ•¸ã€å‡½æ•¸å’Œ mixinï¼š<ul><li>è®Šæ•¸ï¼š<code>&lt;namespace&gt;.&lt;variable&gt;</code></li><li>å‡½æ•¸ï¼š<code>&lt;namespace&gt;.&lt;function&gt;()</code></li><li>mixinï¼š<code>@include &lt;namespace&gt;.&lt;mixin&gt;()</code></li></ul></li><li>é è¨­çš„ <code>&lt;namespace&gt;</code> å°±æ˜¯æ¨¡çµ„ URL çš„æª”å (ä¸åŒ…å« <code>_</code> åº•ç·šå‰ç¶´å’Œå‰¯æª”å)</li><li>ç”¨ <code>@use</code> è¼‰å…¥çš„æˆå“¡æœ‰å­˜å–ç¯„åœï¼Œåªæœ‰è¼‰å…¥å®ƒå€‘çš„ stylesheet æ‰èƒ½å­˜å–<ul><li>è‹¥å…¶ä»– stylesheet æƒ³å­˜å–é€™äº›æˆå“¡ï¼Œå°±å¿…é ˆè‡ªå·±å¯« <code>@use</code> è¼‰å…¥</li></ul></li></ul><p>ä¾‹å¦‚ï¼šç”¨ <code>@use</code> å¼•å…¥çš„ <code>styles/base/_color.scss</code> æª”æ¡ˆæœƒåƒä¸‹é¢é€™æ¨£ï¼Œè€Œæ­¤æ¨¡çµ„çš„ namespace å°±æ˜¯ <code>color</code>ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/base/_color.scss</span><br><span class="hljs-variable">$blue</span>: <span class="hljs-number">#2979ff</span>;<br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/_tool.scss</span><br><span class="hljs-keyword">@mixin</span> rounded &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;<br>&#125;<br><br><span class="hljs-keyword">@function</span> px2em(<span class="hljs-variable">$pixel</span>, <span class="hljs-variable">$font-size-base</span>: <span class="hljs-number">16px</span>) &#123;<br>  <span class="hljs-keyword">@return</span> (<span class="hljs-variable">$pixel</span> / <span class="hljs-variable">$font-size-base</span>) * <span class="hljs-number">1em</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/main.scss</span><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"base/color"</span>;<br><span class="hljs-keyword">@use</span> <span class="hljs-string">"tool"</span>;<br><br><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">color</span>: color.<span class="hljs-variable">$blue</span>;<br>  <span class="hljs-attribute">font-size</span>: tool.px2em(<span class="hljs-number">32px</span>);<br>  <span class="hljs-keyword">@include</span> tool.rounded;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2979ff</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="è¨­å®š-namespace"><a class="header-anchor" href="#è¨­å®š-namespace"></a>è¨­å®š namespace</h1><p>èªæ³•ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> as &lt;namespace&gt;;<br><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> as *;<br></code></pre></td></tr></table></figure><p>è‡ªè¨‚ namespace (å¾ˆåƒè¨­å®š alias) çš„æƒ…å¢ƒï¼š</p><ul><li>è¼‰å…¥ç›¸åŒæª”åçš„å¤šå€‹æ¨¡çµ„ (ä¾‹å¦‚ï¼šç¬¬ä¸‰æ–¹ library å’Œæˆ‘çš„æª”åç›¸åŒ)</li><li>è®“æ¨¡çµ„çš„åç¨±è®ŠçŸ­</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// src/_mycolor.scss</span><br><span class="hljs-variable">$blue</span>: <span class="hljs-number">#2979ff</span>;<br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// src/main.scss</span><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"src/mycolor"</span> as color;<br><br><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">color</span>: color.<span class="hljs-variable">$blue</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2979ff</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ç”¨ <code>*</code> ä¾†è¼‰å…¥æ²’æœ‰ namespace çš„æ¨¡çµ„ï¼Œä½†å»ºè­°ä½¿ç”¨åœ¨è‡ªå·±å¯«çš„ stylesheet æˆ– <a href="https://sass-lang.com/documentation/modules" target="_blank" rel="noopener">Sass æä¾›çš„å…§å»ºæ¨¡çµ„</a>ï¼Œä»¥é¿å…å¼•å…¥åç¨±è¡çªçš„æˆå“¡ï¼š</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@use</span> <span class="hljs-string">'sass:math'</span> as *;<br><br><span class="hljs-variable">$half</span>: percentage(<span class="hljs-number">1</span>/<span class="hljs-number">2</span>);<br><br><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">$half</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç§æœ‰æˆå“¡"><a class="header-anchor" href="#ç§æœ‰æˆå“¡"></a>ç§æœ‰æˆå“¡</h1><p>è‹¥ä½ ä¸æƒ³è®“ä½ å®šç¾©çš„æ‰€æœ‰æˆå“¡éƒ½å¯åœ¨ stylesheet ä¹‹å¤–ä½¿ç”¨ï¼Œå°±å¯åœ¨æˆå“¡åç¨±çš„å‰é¢åŠ ä¸Š <code>-</code> æˆ– <code>_</code>ï¼Œä¾†è®“å®ƒå€‘è®Šæˆç§æœ‰æˆå“¡ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/_corner.scss</span><br>$_radius: <span class="hljs-number">3px</span>;<br><br><span class="hljs-keyword">@mixin</span> rounded &#123;<br>  <span class="hljs-attribute">border-radius</span>: $_radius;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/main.scss</span><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"corner"</span>;<br><br><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: corner.rounded;<br>  <span class="hljs-attribute">padding</span>: corner.$_radius;  <span class="hljs-comment">// Error</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ç·¨è­¯æœƒå ±éŒ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npx sass styles:dict/styles</span><br>Error: Private members can't be accessed from outside their modules.<br>  â•·<br>5 â”‚   padding: corner.$_radius;<br>  â”‚            ^^^^^^^^^^^^^^^<br>  â•µ<br>  src/scss/main.scss 5:12  root stylesheet<br></code></pre></td></tr></table></figure><h1 id="é…ç½®æ¨¡çµ„"><a class="header-anchor" href="#é…ç½®æ¨¡çµ„"></a>é…ç½®æ¨¡çµ„</h1><p>stylesheet å¯ç”¨ <a href="https://sass-lang.com/documentation/variables#default-values" target="_blank" rel="noopener"><code>!default</code> flag</a> ä¾†å®šç¾©è®Šæ•¸ï¼Œæœƒè¢«æ–°çš„å€¼çµ¦è¦†è“‹ã€‚</p><p>è‹¥è¦è¼‰å…¥å¸¶æœ‰é…ç½®çš„æ¨¡çµ„ï¼Œå¯ç”¨ä»¥ä¸‹èªæ³•ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@use</span> <span class="hljs-string">"&lt;url&gt;"</span> with (<br>  &lt;variable&gt;: &lt;value&gt;,<br>  &lt;variable&gt;: &lt;value&gt;<br>);<br></code></pre></td></tr></table></figure><p>é…ç½®çš„å€¼æœƒè¦†è“‹è®Šæ•¸çš„é è¨­å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/base/_color.scss</span><br><span class="hljs-variable">$blue</span>: <span class="hljs-number">#2979ff</span> !default;<br><span class="hljs-variable">$red</span>: <span class="hljs-number">#f44336</span> !default;<br><br><span class="hljs-variable">$primary</span>: <span class="hljs-variable">$blue</span>;<br><span class="hljs-variable">$secondary</span>: <span class="hljs-variable">$red</span>;<br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// styles/main.scss</span><br><span class="hljs-keyword">@use</span> <span class="hljs-string">"base/color"</span> with (<br>  <span class="hljs-variable">$blue</span>: <span class="hljs-number">#00f</span>,<br>  <span class="hljs-variable">$red</span>: <span class="hljs-number">#f00</span><br>);<br><br><span class="hljs-selector-class">.button-primary</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: color.<span class="hljs-variable">$primary</span>;<br>&#125;<br><br><span class="hljs-selector-class">.button-secondary</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: color.<span class="hljs-variable">$secondary</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.button-primary</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.button-secondary</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f00</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://sass-lang.com/documentation/at-rules/use#configuring-modules" target="_blank" rel="noopener">Sass: @use</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Web Dev </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> Sass </tag>
            
            <tag> CSS </tag>
            
            <tag> Dart Sass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dart Sass ä»‹ç´¹ (ä½¿ç”¨èˆ‡å®‰è£)</title>
      <link href="/article/dart-sass.html"/>
      <url>/article/dart-sass.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/sass.jpg" alt=""></p><p><a href="https://github.com/sass/dart-sass" target="_blank" rel="noopener">Dart Sass</a> æ˜¯ Sass çš„ä¸»è¦å¯¦ä½œï¼Œéå»å¸¸è¦‹çš„æ˜¯ Ruby Sassï¼Œè€Œç¾ä»Š <a href="https://sass-lang.com/ruby-sass" target="_blank" rel="noopener">Sass å®˜æ–¹æ¨è–¦å¤§å®¶æ”¹ç”¨ Dart Sass</a>ï¼Œå°¤å…¶æ˜¯ç”¨ JavaScript æˆ– Node.js é–‹ç™¼çš„ç›¸é—œå°ˆæ¡ˆã€‚</p><a id="more"></a><p>Dart Sass æ˜¯ Sass çš„ Dart å¯¦ä½œï¼Œæ•ˆèƒ½æ¯” Ruby Sass é‚„è¦å¿«ï¼Œä¸”æ˜“æ–¼å®‰è£ï¼Œé‚„å¯ç·¨è­¯æˆç´” JavaScriptï¼Œè®“æˆ‘å€‘å¯ä»¥è¼•é¬†çš„æ•´åˆè‡³ç¾æœ‰çš„ Web é–‹ç™¼å·¥ä½œæµç¨‹ä¸­ã€‚</p><h1 id="å®‰è£"><a class="header-anchor" href="#å®‰è£"></a>å®‰è£</h1><p>æœ‰å¤šç¨®å®‰è£å’ŒåŸ·è¡Œ Dart Sass çš„æ–¹æ³•ï¼š</p><h2 id="Standalone"><a class="header-anchor" href="#Standalone"></a>Standalone</h2><p>å¾ <a href="https://github.com/sass/dart-sass/releases/" target="_blank" rel="noopener">GitHub Release é é¢</a>ä¸‹è¼‰é©ç”¨æ–¼ä½  OS çš„ standalone Dart Sass archiveï¼Œå…¶ä¸­åŒ…å« Dart VM å’Œ executable çš„ snapshotã€‚</p><p>ä½¿ç”¨æ–¹æ³•å¾ˆç°¡å–®ï¼Œä¸‹è¼‰å¾Œä¸¦è§£å£“ç¸®ï¼Œå°‡è§£å£“ç¸®å¾Œçš„ç›®éŒ„æ–°å¢è‡³ <code>PATH</code> (<a href="https://katiek2.github.io/path-doc/" target="_blank" rel="noopener">é€™ç¯‡</a> æä¾›å„ OS å¦‚ä½•è¨­å®š <code>PATH</code> çš„æ­¥é©Ÿ)ï¼Œæ¥è‘—é‡æ–°å•Ÿå‹• terminalï¼Œç„¶å¾Œå°±èƒ½åŸ·è¡Œ <code>sass</code> executable é–‹å§‹ä½¿ç”¨ï¼</p><h2 id="npm"><a class="header-anchor" href="#npm"></a>npm</h2><p>å¯é€é npm å®‰è£ <a href="https://www.npmjs.com/package/sass" target="_blank" rel="noopener">Dart Sass</a>ï¼Œè©²å¥—ä»¶æ˜¯å·²ç·¨è­¯ç‚º JavaScriptï¼Œä¸”æ²’æœ‰ä»»ä½• native code æˆ–å¤–éƒ¨ä¾è³´ã€‚æä¾› command-line <code>sass</code> executable å’Œ Node.js APIã€‚</p><p>å…¨åŸŸå®‰è£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install -g sass</span><br></code></pre></td></tr></table></figure><p>local å®‰è£ï¼šæ–°å¢è‡³å°ˆæ¡ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm init -y</span><br><span class="hljs-meta">$</span><span class="bash"> npm install --save-dev sass</span><br></code></pre></td></tr></table></figure><div class="info"><p>å…¶é¤˜çš„å®‰è£æ–¹å¼å¯åƒè€ƒ <a href="https://github.com/sass/dart-sass#using-dart-sass" target="_blank" rel="noopener">Dart Sass GitHub Repo çš„ README èªªæ˜</a>ã€‚</p></div><h1 id="ç‚ºä½•ç”¨-Dartï¼Ÿ"><a class="header-anchor" href="#ç‚ºä½•ç”¨-Dartï¼Ÿ"></a>ç‚ºä½•ç”¨ Dartï¼Ÿ</h1><p>åœ¨ <a href="https://github.com/sass/dart-sass#why-dart" target="_blank" rel="noopener">Dart Sass GitHub Repo</a> çš„ README æœ‰æåˆ°ç‚ºä½• Dart Sass æœƒå–ä»£ Ruby Sassï¼Œæœ‰ä»¥ä¸‹å¹¾å€‹å„ªé»ï¼š</p><ul><li>æ•ˆèƒ½å¿«ï¼šæ¯” Ruby å¡Šï¼Œä¸”èˆ‡ C++ å·®ä¸å¤š</li><li>å…å®‰è£ï¼š<ul><li>Dart VM æ²’æœ‰å¤–éƒ¨ä¾è³´ï¼Œå¯å°‡æ‡‰ç”¨ç¨‹å¼ç·¨è­¯æˆç¨ç«‹çš„ snapshot æª”æ¡ˆï¼Œå› æ­¤å¯å°‡ Dart Sass åªéœ€ç™¼ä½ˆä¸‰å€‹æª”æ¡ˆ (VMã€snapshot å’Œ wrapper script)</li><li>å¯ç·¨è­¯æˆ JavaScriptï¼Œæ‰€ä»¥å¯é€é npm ç™¼ä½ˆ</li></ul></li><li>å®¹æ˜“å¯«ï¼š<ul><li>Dart æ˜¯æ¯” C++ æ›´é«˜ç´šçš„èªè¨€ï¼Œä¸éœ€è¦å¤ªå¤šçš„è¨˜æ†¶é«”ç®¡ç†å’Œå»ºåˆ¶ç³»çµ±çš„éº»ç…©</li><li>Dart æ˜¯éœæ…‹å‹åˆ¥ (statically typed)ï¼Œèˆ‡ Ruby ç›¸æ¯” å¯æ›´å®¹æ˜“çš„é€²è¡Œå¤§å‹é‡æ§‹</li></ul></li><li>å°è²¢ç»è€…æ›´å‹å¥½ï¼š<ul><li>Dart æ¯” Ruby æ›´å®¹æ˜“å­¸ç¿’</li></ul></li></ul><h1 id="Command-Line"><a class="header-anchor" href="#Command-Line"></a>Command Line</h1><p>Dart Sass executable æœ‰å…©ç¨®ä½¿ç”¨æ¨¡å¼ï¼š</p><ul><li>One-to-One Mode (ä¸€å°ä¸€æ¨¡å¼)</li><li>Many-to-many Mode (å¤šå°å¤šæ¨¡å¼)</li></ul><h2 id="One-to-One-Mode"><a class="header-anchor" href="#One-to-One-Mode"></a>One-to-One Mode</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass &lt;input.scss&gt; [output.css]</span><br></code></pre></td></tr></table></figure><ul><li>ä¸€å€‹è¼¸å…¥æª” ( <code>input.scss</code> ) ç·¨è­¯æˆä¸€å€‹è¼¸å‡ºæª” ( <code>output.scss</code> )</li><li>è‹¥ç‚ºæä¾›è¼¸å‡ºè·¯å¾‘ï¼Œæœƒå°‡å·²ç·¨è­¯çš„ CSS åˆ—å°è‡³ terminal ä¸Š</li><li>è‹¥è¼¸å…¥æª”çš„å‰¯æª”åæ˜¯ï¼š<ul><li><code>.scss</code>ï¼šè§£ææˆ <a href="https://sass-lang.com/documentation/syntax#scss" target="_blank" rel="noopener">SCSS</a></li><li><code>.sass</code>ï¼šè§£ææˆ <a href="https://sass-lang.com/documentation/syntax#the-indented-syntax" target="_blank" rel="noopener">ç¸®æ’èªæ³• (indented syntax)</a></li><li><code>.css</code>ï¼šè§£ææˆ <a href="https://sass-lang.com/documentation/at-rules/import#importing-css" target="_blank" rel="noopener">ç´” CSS</a></li><li>è‹¥éƒ½ä¸æ˜¯ä»¥ä¸Šä¸‰ç¨®ï¼Œæˆ–ä¾†è‡³æ¨™æº–è¼¸å…¥ï¼Œé è¨­æœƒè§£ææˆ SCSS<ul><li>ä¹Ÿå¯ç”¨ <code>--indented</code> flag ä¾†æ§åˆ¶è¼¸å‡ºæ ¼å¼</li></ul></li></ul></li></ul><h2 id="Many-to-many-Mode"><a class="header-anchor" href="#Many-to-many-Mode"></a>Many-to-many Mode</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass [&lt;input.css&gt;:&lt;output.css&gt;] [&lt;input/&gt;:&lt;output/&gt;]...</span><br></code></pre></td></tr></table></figure><ul><li>ä¸€å€‹æˆ–å¤šå€‹è¼¸å…¥æª”ç·¨è­¯æˆä¸€å€‹æˆ–å¤šå€‹è¼¸å‡ºæª”</li><li>è¼¸å…¥å’Œè¼¸å‡ºç”¨ <code>:</code> å­—å…ƒä¾†éš”é–‹</li><li>å¯å°‡ç›®éŒ„ä¸­çš„æ‰€æœ‰ Sass æª”ç·¨è­¯ç‚ºå¦ä¸€å€‹ç›®éŒ„ä¸­å…·æœ‰ç›¸åŒåç¨±çš„ CSS æª”</li></ul><p>ä¾‹å¦‚ï¼š</p><p>å°‡ <code>style.scss</code> ç·¨è­¯æˆ <code>style.css</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass style.scss:style.css</span><br></code></pre></td></tr></table></figure><p>å°‡ <code>light.scss</code> å’Œ <code>dark.scss</code> ç·¨è­¯æˆ <code>light.css</code> å’Œ <code>dark.css</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass light.scss:light.css dark.scss:dark.css</span><br></code></pre></td></tr></table></figure><p>å°‡ <code>src/scss/</code> ç›®éŒ„å…§çš„æ‰€æœ‰ Sass æª”ç·¨è­¯è‡³ <code>public/css/</code> ç›®éŒ„ä¸­ï¼Œä¸”æœƒç·¨è­¯æˆ CSS æª”ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass src/scss:public/css</span><br></code></pre></td></tr></table></figure><div class="info"><p>ç·¨è­¯æ•´å€‹ç›®éŒ„æ™‚ï¼Œå¦‚æœåªæƒ³ç·¨è­¯å‡ºä¸€å€‹ CSS æª”æ¡ˆ (ä¾‹å¦‚ï¼š<code>main.css</code> )ï¼Œå°±è¦å°‡ä¸»è¦æª”æ¡ˆä¹‹å¤–çš„å…¶ä»–æª”æ¡ˆçš„åç¨±ï¼Œæ”¹ç‚ºä»¥ <code>_</code> ç‚ºé–‹é ­çš„ (ä¾‹å¦‚ï¼š<code>_color.scss</code>ï¼Œé€™ç¨®æª”æ¡ˆè¢«ç¨±ç‚º <a href="https://sass-lang.com/documentation/at-rules/import#partials" target="_blank" rel="noopener">partial æª”æ¡ˆ</a>)ã€‚</p></div><h2 id="CLI-option"><a class="header-anchor" href="#CLI-option"></a>CLI option</h2><h3 id="indented"><a class="header-anchor" href="#indented"></a><code>--indented</code></h3><p>æŒ‡å®šè¼¸å…¥æª”è¦è§£ææˆç¸®æ’èªæ³• (indented syntax)</p><h3 id="load-pathï¼Œ-I"><a class="header-anchor" href="#load-pathï¼Œ-I"></a><code>--load-path</code>ï¼Œ<code>-I</code></h3><ul><li>æ–°å¢é¡å¤–çš„è¼‰å…¥è·¯å¾‘ä¾†æŸ¥æ‰¾ stylesheet</li><li>æ­¤ option å¯ä½¿ç”¨å¤šæ¬¡ï¼Œä»£è¡¨æä¾›å¤šå€‹è¼‰å…¥è·¯å¾‘</li><li>æœ€å…ˆè¼‰å…¥çš„æœƒå„ªå…ˆæ–¼è¼ƒæ™šè¼‰å…¥çš„è·¯å¾‘</li></ul><p>ä¾‹å¦‚ï¼šå¦‚æœæ²’æœ‰ä½¿ç”¨ <code>--load-path</code> optionï¼Œè¦ import Bootstrap å°±å¿…é ˆä½¿ç”¨å¾ˆé•·çš„è·¯å¾‘ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@import</span> <span class="hljs-string">"../node_modules/bootstrap/scss/functions"</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"../node_modules/bootstrap/scss/variables"</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"../node_modules/bootstrap/scss/mixins"</span>;<br></code></pre></td></tr></table></figure><p>è‹¥ä½¿ç”¨ <code>--load-path</code> optionï¼Œå°±èƒ½ç°¡çŸ­ import Bootstrap çš„è·¯å¾‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --load-path=node_modules src/main.scss dist/main.css</span><br></code></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@import</span> <span class="hljs-string">"bootstrap/scss/functions"</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"bootstrap/scss/variables"</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"bootstrap/scss/mixins"</span>;<br></code></pre></td></tr></table></figure><h3 id="styleï¼Œ-s"><a class="header-anchor" href="#styleï¼Œ-s"></a><code>--style</code>ï¼Œ<code>-s</code></h3><p>æŒ‡å®š CSS çš„è¼¸å‡ºæ¨£å¼ã€‚</p><p>Dart Sass æ”¯æ´å…©ç¨®è¼¸å‡ºæ¨£å¼ï¼š</p><ul><li><code>expanded</code>ï¼šé è¨­ï¼Œå°‡æ¯å€‹é¸æ“‡å™¨å’Œå®£å‘Šå¯«åœ¨è‡ªå·±çš„é‚£è¡Œä¸Š</li><li><code>compressed</code>ï¼šåˆªé™¤ç›¡å¯èƒ½å¤šçš„å¤šé¤˜å­—å…ƒï¼Œä¸¦å°‡æ•´å€‹ stylesheet å¯«æˆä¸€è¡Œ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --style=expanded style.scss</span><br>h1 &#123;<br>  font-size: 40px;<br>&#125;<br><br><span class="hljs-meta">$</span><span class="bash"> sass --style=compressed style.scss</span><br>h1&#123;font-size:40px&#125;<br></code></pre></td></tr></table></figure><h3 id="error-css"><a class="header-anchor" href="#error-css"></a><code>--error-css</code></h3><ul><li>ç•¶ç·¨è­¯æœŸé–“ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œæœƒå‘Šè¨´ Sass æ˜¯å¦ emit CSS æª”æ¡ˆ</li><li>è©² CSS æª”æœƒåœ¨è¨»è§£å’Œ <code>body::before</code> çš„ <code>content</code> property ä¸­æè¿°éŒ¯èª¤<ul><li>å¯åœ¨ç€è¦½å™¨ä¸­å¯Ÿçœ‹éŒ¯èª¤è¨Šæ¯ï¼Œè€Œä¸æœƒåˆ‡å› terminal å¯Ÿçœ‹</li></ul></li><li>é è¨­è‹¥è¦ç·¨è­¯è‡³å°‘ä¸€å€‹æª”æ¡ˆ (ä¸æ˜¯æ¨™æº–è¼¸å‡º)ï¼Œå°±æœƒå•Ÿç”¨ error CSS<ul><li>å¯åœ¨ç·¨è­¯æˆæ¨™æº–è¼¸å‡ºæ™‚åŠ ä¸Š <code>--error-css</code> ä¾†å•Ÿç”¨ error CSS</li><li>ä¹Ÿå¯ä»¥åŠ ä¸Š <code>--no-error-css</code> ä¾†ç¦ç”¨ error CSS</li></ul></li><li>ç¦ç”¨ error CSS å¾Œï¼Œ<code>--update</code> flag å’Œ <code>--watch</code> flag æœƒåœ¨ç™¼ç”ŸéŒ¯èª¤æ™‚åˆªé™¤ CSS æª”æ¡ˆ</li></ul><p>ä¾‹å¦‚ï¼šä»¥ä¸‹ Sass æª”çš„å…§å®¹æ˜¯éŒ¯èª¤çš„ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// main.scss</span><br><span class="hljs-variable">$width</span>: <span class="hljs-number">15px</span> + <span class="hljs-number">2em</span>;<br></code></pre></td></tr></table></figure><p>ç·¨è­¯æ­¤ Sass æª”æœƒå‡ºç¾ä»¥ä¸‹éŒ¯èª¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --error-css main.scss main.css</span><br>Error: Incompatible units em and px.<br>  â•·<br>1 â”‚ $width: 15px + 2em;<br>  â”‚         ^^^^^^^^^^<br>  â•µ<br>  test.scss 1:9  root stylesheet<br></code></pre></td></tr></table></figure><p>è€Œè¼¸å‡ºçš„ <code>main.css</code> æª”çš„å…§å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">/* Error: Incompatible units em and px.</span><br><span class="hljs-comment"> *   ,</span><br><span class="hljs-comment"> * 1 | $width: 15px + 2em;</span><br><span class="hljs-comment"> *   |         ^^^^^^^^^^</span><br><span class="hljs-comment"> *   '</span><br><span class="hljs-comment"> *   test.scss 1:9  root stylesheet */</span><br><br><span class="hljs-selector-tag">body</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"Source Code Pro"</span>, <span class="hljs-string">"SF Mono"</span>, Monaco, Inconsolata, <span class="hljs-string">"Fira Mono"</span>,<br>      <span class="hljs-string">"Droid Sans Mono"</span>, monospace, monospace;<br>  <span class="hljs-attribute">white-space</span>: pre;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">1em</span>;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid black;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">"Error: Incompatible units em and px.\a   \2577 \a 1 \2502  $width: 15px + 2em;\a   \2502          ^^^^^^^^^^\a   \2575 \a   test.scss 1:9  root stylesheet"</span>;         <br>&#125;<br></code></pre></td></tr></table></figure><p>è‹¥ç”¨ç€è¦½å™¨å¯Ÿçœ‹ä½¿ç”¨æ­¤ <code>main.css</code> æª”çš„é é¢æœƒåƒä¸‹åœ–é€™æ¨£ï¼š</p><p><img src="../images/dart-sass/error-css.png" alt=""></p><h3 id="update"><a class="header-anchor" href="#update"></a><code>--update</code></h3><ul><li>ç•¶ stylesheets çš„ä¾è³´æ›´æ–°æ™‚ï¼ŒSass å°±åªæœƒç·¨è­¯ stylesheets</li><li>æ›´æ–° stylesheets æ™‚ï¼Œæœƒåˆ—å°ç‹€æ…‹è¨Šæ¯</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --update themes:public/css</span><br>Compiled themes/light.scss to public/css/light.css.<br></code></pre></td></tr></table></figure><h3 id="watch"><a class="header-anchor" href="#watch"></a><code>--watch</code></h3><p>é¡ä¼¼ <code>--update</code>ï¼Œä½†æ˜¯åœ¨å®Œæˆç¬¬ä¸€æ¬¡ç·¨è­¯å¾Œï¼ŒSass ä¿æŒ open ç‹€æ…‹ï¼Œä¸¦åœ¨ stylesheets æˆ–å…¶ä¾è³´ç™¼ç”Ÿæ›´æ”¹æ™‚ç¹¼çºŒç·¨è­¯ stylesheetsã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --watch themes:public/css</span><br>Compiled themes/light.scss to public/css/light.css.<br><br><span class="hljs-meta">#</span><span class="bash"> Then when you edit themes/dark.scss...</span><br>Compiled themes/dark.scss to public/css/dark.css.<br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨çš„-option"><a class="header-anchor" href="#å¸¸ç”¨çš„-option"></a>å¸¸ç”¨çš„ option</h2><p>é–‹ç™¼ç”¨ï¼š</p><ul><li><code>--watch</code>ï¼šwatch æ¨¡å¼</li><li><code>-I node_modules</code>ï¼šæ–°å¢é¡å¤–è¼‰å…¥çš„ <code>node_modules</code> ç›®éŒ„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass --watch -I node_modules src/scss:dict/styles</span><br></code></pre></td></tr></table></figure><p>éƒ¨ç½²ç”¨ (build)ï¼š</p><ul><li><code>-s compressed</code>ï¼šCSS Minifier</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sass -s compressed src/scss:dict/styles</span><br></code></pre></td></tr></table></figure><div class="info"><p>æ›´å¤š CLI option å¯åƒé–± <a href="https://sass-lang.com/documentation/cli/dart-sass" target="_blank" rel="noopener">Sass æ–‡ä»¶</a>ã€‚</p></div><h1 id="è³‡æ–™ä¾†æº"><a class="header-anchor" href="#è³‡æ–™ä¾†æº"></a>è³‡æ–™ä¾†æº</h1><ul><li><a href="https://github.com/sass/dart-sass#using-dart-sass" target="_blank" rel="noopener">sass/dart-sass: The reference implementation of Sass, written in Dart.</a></li><li><a href="https://sass-lang.com/ruby-sass" target="_blank" rel="noopener">Sass: Ruby Sass</a></li><li><a href="https://www.npmjs.com/package/sass" target="_blank" rel="noopener">sass - npm</a></li><li><a href="https://sass-lang.com/install" target="_blank" rel="noopener">Sass: Install Sass</a></li><li><a href="https://www.dart-china.org/t/topic/146" target="_blank" rel="noopener">CSS é è™•ç†å™¨ Sass çš„é è¨­å¯¦ä½œå°‡é·ç§»åˆ° Dart Sass - åˆ†äº« - Dart ä¸­æ–‡ç¤¾å€</a></li><li><a href="https://sass-lang.com/documentation/cli/dart-sass" target="_blank" rel="noopener">Sass: Dart Sass Command-Line Interface</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Web Dev </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dart </tag>
            
            <tag> w3HexSchool </tag>
            
            <tag> CLI </tag>
            
            <tag> Sass </tag>
            
            <tag> CSS </tag>
            
            <tag> Dart Sass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm / Yarn å¥—ä»¶ç®¡ç†å™¨æŒ‡ä»¤æ¯”å° cheatsheet</title>
      <link href="/article/npm-and-yarn-cheatsheet.html"/>
      <url>/article/npm-and-yarn-cheatsheet.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/npm_yarn.jpg" alt=""></p><p>npm æˆ– Yarn éƒ½æ˜¯æœ€å¸¸è¦‹çš„ Node.js å¥—ä»¶ç®¡ç†å™¨ã€‚æœ¬ç¯‡ç´€éŒ„å…©å€‹ CLI å°æ‡‰çš„æŒ‡ä»¤ã€‚</p><a id="more"></a><h2 id="å»ºç«‹æ–°å°ˆæ¡ˆ"><a class="header-anchor" href="#å»ºç«‹æ–°å°ˆæ¡ˆ"></a>å»ºç«‹æ–°å°ˆæ¡ˆ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm init</span><br><span class="hljs-meta">$</span><span class="bash"> npm init -y</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn init</span><br><span class="hljs-meta">$</span><span class="bash"> yarn init -y</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£å°ˆæ¡ˆ-package-json-ä¸­çš„æ‰€æœ‰ç›¸ä¾å¥—ä»¶"><a class="header-anchor" href="#å®‰è£å°ˆæ¡ˆ-package-json-ä¸­çš„æ‰€æœ‰ç›¸ä¾å¥—ä»¶"></a>å®‰è£å°ˆæ¡ˆ <code>package.json</code> ä¸­çš„æ‰€æœ‰ç›¸ä¾å¥—ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn</span><br><span class="hljs-meta">$</span><span class="bash"> yarn install</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install</span><br><span class="hljs-meta">$</span><span class="bash"> npm i</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£ç›¸ä¾å¥—ä»¶"><a class="header-anchor" href="#å®‰è£ç›¸ä¾å¥—ä»¶"></a>å®‰è£ç›¸ä¾å¥—ä»¶</h2><p>å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦å°‡å¥—ä»¶æ–°å¢è‡³ä¸åŒé¡å‹çš„ <code>dependencies</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm i &lt;package&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt;@&lt;version&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt;@&lt;tag&gt;</span><br></code></pre></td></tr></table></figure><p>å®‰è£å¥—ä»¶ä¸¦å°‡æ­¤å¥—ä»¶å„²å­˜è‡³ <code>package.json</code> ä¸­çš„ <code>dependencies</code> (ç›®å‰ npm çš„é è¨­åƒæ•¸ï¼Œä¸éœ€åŠ  <code>-S</code> å°±æœ‰æ­¤åŠŸèƒ½ï¼ŒèˆŠç‰ˆ npm éœ€è¦åŠ æ­¤ option æ‰æœƒå°‡å®‰è£çš„å¥—ä»¶å­˜è‡³ <code>package.json</code> )ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; --save</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; -S</span><br></code></pre></td></tr></table></figure><h3 id="æ–°å¢è‡³ä¸åŒé¡å‹çš„-dependencies"><a class="header-anchor" href="#æ–°å¢è‡³ä¸åŒé¡å‹çš„-dependencies"></a>æ–°å¢è‡³ä¸åŒé¡å‹çš„ dependencies</h3><p>å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦å°‡å¥—ä»¶æ–°å¢è‡³ä¸åŒé¡å‹çš„ <code>devDependencies</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; --save-dev</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; -D</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; --dev</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; -D</span><br></code></pre></td></tr></table></figure><p>å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦å°‡å¥—ä»¶æ–°å¢è‡³ä¸åŒé¡å‹çš„ <code>optionalDependencies</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; --save-optional</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; -O</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; --optional</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; -O</span><br></code></pre></td></tr></table></figure><p>å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦å°‡å¥—ä»¶æ–°å¢è‡³ä¸åŒé¡å‹çš„ <code>bundleDependencies</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; --save-bundle</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; -B</span><br></code></pre></td></tr></table></figure><p>å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦å°‡å¥—ä»¶æ–°å¢è‡³ä¸åŒé¡å‹çš„ <code>peerDependencies</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; --peer</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; -P</span><br></code></pre></td></tr></table></figure><blockquote><p>ä¸åŒé¡å‹çš„ dependencies å¯åƒé–± <a href="https://classic.yarnpkg.com/zh-Hant/docs/dependency-types/" target="_blank" rel="noopener">Yarn å®˜æ–¹æ–‡ä»¶ä¸­çš„ã€Œä¾è³´é—œä¿‚çš„ç¨®é¡ã€</a> é€™ç¯‡ã€‚</p></blockquote><h3 id="å®‰è£æŒ‡å®šç‰ˆæœ¬"><a class="header-anchor" href="#å®‰è£æŒ‡å®šç‰ˆæœ¬"></a>å®‰è£æŒ‡å®šç‰ˆæœ¬</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; --save-exact</span><br><span class="hljs-meta">$</span><span class="bash"> npm install &lt;package&gt; -E</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; --exact</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; -E</span><br></code></pre></td></tr></table></figure><h3 id="å®‰è£æ¬¡ç‰ˆè™Ÿçš„æœ€æ–°ç‰ˆ"><a class="header-anchor" href="#å®‰è£æ¬¡ç‰ˆè™Ÿçš„æœ€æ–°ç‰ˆ"></a>å®‰è£æ¬¡ç‰ˆè™Ÿçš„æœ€æ–°ç‰ˆ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; --tilde</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add &lt;package&gt; -T</span><br></code></pre></td></tr></table></figure><h3 id="åœ¨å…¨åŸŸå®‰è£å¥—ä»¶"><a class="header-anchor" href="#åœ¨å…¨åŸŸå®‰è£å¥—ä»¶"></a>åœ¨å…¨åŸŸå®‰è£å¥—ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install -g &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn global add &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å‡ç´šç›¸ä¾å¥—ä»¶"><a class="header-anchor" href="#å‡ç´šç›¸ä¾å¥—ä»¶"></a>å‡ç´šç›¸ä¾å¥—ä»¶</h2><p>å‡ç´šç›®å‰å°ˆæ¡ˆçš„ç›¸ä¾å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm update</span><br><span class="hljs-meta">$</span><span class="bash"> npm update &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn upgrade</span><br><span class="hljs-meta">$</span><span class="bash"> yarn upgrade &lt;package&gt;</span><br></code></pre></td></tr></table></figure><p>å…¨åŸŸçš„ç›¸ä¾å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm update -g</span><br><span class="hljs-meta">$</span><span class="bash"> npm update -g &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn global upgrade</span><br><span class="hljs-meta">$</span><span class="bash"> yarn global upgrade &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h3 id="å‡ç´šè‡³æœ€æ–°ç‰ˆ"><a class="header-anchor" href="#å‡ç´šè‡³æœ€æ–°ç‰ˆ"></a>å‡ç´šè‡³æœ€æ–°ç‰ˆ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn upgrade &lt;package&gt; --latest</span><br></code></pre></td></tr></table></figure><h2 id="å‡ç´šç›¸ä¾å¥—ä»¶å¯é¸æ“‡æ˜¯å¦å‡ç´š"><a class="header-anchor" href="#å‡ç´šç›¸ä¾å¥—ä»¶å¯é¸æ“‡æ˜¯å¦å‡ç´š"></a>å‡ç´šç›¸ä¾å¥—ä»¶å¯é¸æ“‡æ˜¯å¦å‡ç´š</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn upgrade-interactive &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åˆªé™¤å¥—ä»¶"><a class="header-anchor" href="#åˆªé™¤å¥—ä»¶"></a>åˆªé™¤å¥—ä»¶</h2><p>åˆªé™¤ç›®å‰å°ˆæ¡ˆçš„ç›¸ä¾å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm uninstall &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn remove &lt;package&gt;</span><br></code></pre></td></tr></table></figure><p>åˆªé™¤å…¨åŸŸçš„ç›¸ä¾å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm uninstall -g &lt;package&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn global remove &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åˆ—å‡ºå·²å®‰è£çš„å¥—ä»¶"><a class="header-anchor" href="#åˆ—å‡ºå·²å®‰è£çš„å¥—ä»¶"></a>åˆ—å‡ºå·²å®‰è£çš„å¥—ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm ls</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yarn list</span><br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æº</p><ul><li><a href="https://classic.yarnpkg.com/zh-Hant/docs/migrating-from-npm" target="_blank" rel="noopener">migrating from npm | Yarn</a></li><li><a href="https://classic.yarnpkg.com/zh-Hant/docs/cli/add" target="_blank" rel="noopener">yarn add | Yarn</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Web Dev </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> w3HexSchool </tag>
            
            <tag> version manager </tag>
            
            <tag> JavaScript </tag>
            
            <tag> CLI </tag>
            
            <tag> npm </tag>
            
            <tag> Yarn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nvmï¼šå®‰è£ã€åˆ‡æ›ä¸åŒ Node.js ç‰ˆæœ¬çš„ç®¡ç†å™¨</title>
      <link href="/article/nvm.html"/>
      <url>/article/nvm.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/node.jpg" alt=""></p><p>nvm æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å™¨ (version manager)ï¼Œå¯åœ¨åŒä¸€å°ä¸»æ©Ÿä¸Šå®‰è£å¤šå€‹ç‰ˆæœ¬çš„ Node.js ç’°å¢ƒï¼Œå› ç‚ºä¸åŒå°ˆæ¡ˆå¯èƒ½æœƒä½¿ç”¨ä¸åŒçš„ Node.js ç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦é€éä¸€å€‹ç‰ˆæœ¬ç®¡ç†å™¨ä¾†åˆ‡æ›ä¸åŒçš„ Node.js ç‰ˆæœ¬ã€‚</p><a id="more"></a><h2 id="å®‰è£-NVM"><a class="header-anchor" href="#å®‰è£-NVM"></a>å®‰è£ NVM</h2><p>å¯ç”¨ <code>cURL</code> æˆ– <code>wget</code> æŒ‡ä»¤ä½¿ç”¨å®‰è£è…³æœ¬å®‰è£æˆ–æ›´æ–° nvmï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</span><br></code></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</span><br></code></pre></td></tr></table></figure><p>æ­¤å®‰è£è…³æœ¬æœƒå°‡ nvm repo clone åˆ° <code>~/.nvm</code>ï¼Œä¸¦ä¸”å°‡ source line æ–°å¢è‡³ä½ çš„ profile è¨­å®š ( <code>~/.bash_profile</code>ã€<code>~/.zshrc</code>ã€<code>~/.profile</code> æˆ– <code>~/.bashrc</code> )ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span><br>[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; \. <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span>  <span class="hljs-comment"># This loads nvm</span><br>[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; \. <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span>  <span class="hljs-comment"># This loads nvm bash_completion</span><br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨ Linux åŸ·è¡Œå®‰è£è…³æœ¬å¾Œï¼ŒåŸ·è¡Œä¸‹é¢æŒ‡ä»¤æœƒé¡¯ç¤ºä»¥ä¸‹è¨Šæ¯æˆ–æ²’æœ‰ä»»ä½•è¨Šæ¯æ™‚ï¼Œå»ºè­°é‡é–‹ä¸€å€‹æ–°çš„çµ‚ç«¯æ©Ÿ (terminal) å†é‡æ–°åŸ·è¡Œä¸€æ¬¡ <code>nvm</code> æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">command</span> -v nvm</span><br>nvm: command not found<br></code></pre></td></tr></table></figure><p>å¦‚æœé‚„æ˜¯ç„¡æ³•ä½¿ç”¨ nvmï¼Œå¯åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ç«‹å³æ‡‰ç”¨ ZSH çš„è¨­å®šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">source</span> .zshrc</span><br></code></pre></td></tr></table></figure><div class="warning"><p>æ³¨æ„ï¼š</p><ul><li>ä½¿ç”¨ <code>nvm</code> æ™‚ï¼Œä¸éœ€è¦ <code>sudo</code> å³å¯ä½¿ç”¨ <code>npm -g</code> å…¨åŸŸå®‰è£æ¨¡çµ„ï¼Œæ‰€ä»¥èˆ‡å…¶åŸ·è¡Œ <code>sudo npm i -g</code>ï¼Œä¸å¦‚åŸ·è¡Œ <code>npm i -g</code></li><li>è‹¥ä½ æœ‰ <code>~/.npmrc</code>ï¼Œè«‹ç¢ºä¿è£¡é¢ä¸åŒ…å«ä»»ä½• <code>prefix</code> çš„è¨­å®š (å› ç‚ºèˆ‡ <code>nvm</code> ä¸ç›¸å®¹)</li><li>ä½ å¯ä»¥ (ä½†ä¸æ‡‰è©²) ä¿ç•™ä»¥å‰åœ¨ â€œç³»çµ±â€ å®‰è£çš„ Node.jsï¼Œä½† <code>nvm</code> åªå°ä½ çš„ä½¿ç”¨è€…å¸³æˆ¶ (ç”¨æ–¼å®‰è£ <code>nvm</code> çš„ä½¿ç”¨è€…å¸³æˆ¶) å¯ç”¨ã€‚å¯èƒ½æœƒå°è‡´ç‰ˆæœ¬ä¸ matchï¼Œå› ç‚ºå…¶ä»–ä½¿ç”¨è€…æœƒä½¿ç”¨ <code>/usr/local/lib/node_modules/*</code>ï¼Œè€Œä½¿ç”¨è€…å¸³æˆ¶æœƒä½¿ç”¨ <code>~/.nvm/versions/node/vX.X.X/lib/node_modules/*</code></li></ul></div><h2 id="versionï¼šç¢ºèª-NVM-æ˜¯å¦å®‰è£æˆåŠŸ"><a class="header-anchor" href="#versionï¼šç¢ºèª-NVM-æ˜¯å¦å®‰è£æˆåŠŸ"></a><code>--version</code>ï¼šç¢ºèª NVM æ˜¯å¦å®‰è£æˆåŠŸ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm --version</span><br>0.34.0<br></code></pre></td></tr></table></figure><h2 id="installï¼šåˆ©ç”¨-NVM-å®‰è£-Node-js"><a class="header-anchor" href="#installï¼šåˆ©ç”¨-NVM-å®‰è£-Node-js"></a><code>install</code>ï¼šåˆ©ç”¨ NVM å®‰è£ Node.js</h2><p>å®‰è£ NVM å¾Œï¼Œå…¶å¯¦é‚„æ²’å®‰è£ Node ç’°å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> node  </span><br>zsh: command not found: node<br></code></pre></td></tr></table></figure><p>å¦‚æœåŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œæœƒæé†’ä½ éœ€è¦åŸ·è¡Œ <code>install</code> æŒ‡ä»¤æ‰èƒ½å®‰è£ Node.jsï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm use node</span><br>N/A: version "node -&gt; N/A" is not yet installed.<br><br>You need to run "nvm install node" to install it before using it.<br></code></pre></td></tr></table></figure><p>å®‰è£æœ€æ–°ç‰ˆçš„ Node.jsï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm install node</span><br>Downloading and installing node v12.8.1...<br>Downloading https://nodejs.org/dist/v12.8.1/node-v12.8.1-linux-x64.tar.xz...<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">################################################################################################### 100.0%</span></span><br>Computing checksum with sha256sum<br>Checksums matched!<br>Now using node v12.8.1 (npm v6.10.2)<br>Creating default alias: default -&gt; node (-&gt; v12.8.1)<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦æŒ‡å®šå®‰è£ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šç‰ˆæœ¬è™Ÿï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm install 8.9.1</span><br></code></pre></td></tr></table></figure><p>å®‰è£çš„ç¬¬ä¸€å€‹ç‰ˆæœ¬çš„ Node.js æœƒæˆå“¡ nvm çš„é è¨­ç‰ˆæœ¬ï¼Œæ–°çš„ shell å°±æœƒä»¥é è¨­ç‰ˆæœ¬çš„ Node.js ä¾†ä½¿ç”¨ (ä¾‹å¦‚ï¼š<code>nvm alias default</code>)ã€‚</p><p>æŸ¥çœ‹ç›®å‰å®‰è£ Node.js çš„ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> node -v</span><br>v12.8.1<br></code></pre></td></tr></table></figure><h2 id="ls-remoteï¼šå¯Ÿçœ‹å¯ç”¨çš„å®‰è£ç‰ˆæœ¬"><a class="header-anchor" href="#ls-remoteï¼šå¯Ÿçœ‹å¯ç”¨çš„å®‰è£ç‰ˆæœ¬"></a><code>ls-remote</code>ï¼šå¯Ÿçœ‹å¯ç”¨çš„å®‰è£ç‰ˆæœ¬</h2><p>å¯ä»¥çœ‹ç›®å‰æœ‰å“ªäº›å¯ç”¨ç‰ˆæœ¬å¯å®‰è£ï¼Œåœ¨ç‰ˆæœ¬è™Ÿå‰é¢çš„ <code>-&gt;</code> ç®­é ­ç¬¦è™Ÿä»£è¡¨ç›®å‰ nvm æ­£åœ¨ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm ls-remote</span><br>...<br>       v10.16.1   (LTS: Dubnium)<br>       v10.16.2   (LTS: Dubnium)<br>       v10.16.3   (Latest LTS: Dubnium)<br>...<br>        v12.7.0<br>        v12.8.0<br><span class="hljs-meta">-&gt;</span><span class="bash">      v12.8.1</span><br></code></pre></td></tr></table></figure><p>ä¸éå‰›å‰›çš„ <code>ls-remote</code> æŒ‡ä»¤æœƒæŠŠæ‰€æœ‰å¯ç”¨çš„ç‰ˆæœ¬éƒ½åˆ—å‡ºä¾†ï¼Œä½†é€šå¸¸æœƒé¸æ“‡å®‰è£ LTS (Long-term supportï¼Œé•·æœŸæ”¯æ´) ç‰ˆï¼Œæ‰€ä»¥åªè¦åŠ ä¸Š <code>-lts</code> åƒæ•¸å°±å¯ä»¥æŒ‡åˆ—å‡ºå¯ç”¨çš„ LTS ç‰ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm ls-remote --lts</span><br>...<br>       v10.16.1   (LTS: Dubnium)<br>       v10.16.2   (LTS: Dubnium)<br>       v10.16.3   (Latest LTS: Dubnium)<br></code></pre></td></tr></table></figure><p>å¦‚æœç‰ˆæœ¬è™Ÿçš„æ–‡å­—æœ‰ç‰¹æ®Šé¡è‰² (ä¸æ˜¯ç™½è‰²å­—)ï¼Œå‰‡ä»£è¡¨è©²ç‰ˆæœ¬çš„ Node.js æœ‰é€é nvm å®‰è£éï¼Œä¾‹å¦‚ï¼šæˆ‘çš„é›»è…¦å°±å®‰è£äº† <code>v10.16.3</code> å’Œ <code>v12.8.1</code>ï¼š</p><p><img src="../images/nvm/nvm-ls-remote.png" alt=""></p><h2 id="lsï¼šæŸ¥çœ‹ç›®å‰å®‰è£äº†å“ªäº›ç‰ˆæœ¬"><a class="header-anchor" href="#lsï¼šæŸ¥çœ‹ç›®å‰å®‰è£äº†å“ªäº›ç‰ˆæœ¬"></a><code>ls</code>ï¼šæŸ¥çœ‹ç›®å‰å®‰è£äº†å“ªäº›ç‰ˆæœ¬</h2><p><code>ls</code> æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ç›®å‰å®‰è£äº†å“ªäº›ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm ls</span><br>       v10.16.3<br><span class="hljs-meta">-&gt;</span><span class="bash">      v12.8.1</span><br>default -&gt; node (-&gt; v12.8.1)<br>node -&gt; stable (-&gt; v12.8.1) (default)<br>stable -&gt; 12.8 (-&gt; v12.8.1) (default)<br>iojs -&gt; N/A (default)<br>unstable -&gt; N/A (default)<br>lts/* -&gt; lts/dubnium (-&gt; N/A)<br>lts/argon -&gt; v4.9.1 (-&gt; N/A)<br>lts/boron -&gt; v6.17.1 (-&gt; N/A)<br>lts/carbon -&gt; v8.16.1 (-&gt; N/A)<br>lts/dubnium -&gt; v10.16.3<br></code></pre></td></tr></table></figure><h2 id="useï¼šåˆ‡æ›-Node-js-ç‰ˆæœ¬"><a class="header-anchor" href="#useï¼šåˆ‡æ›-Node-js-ç‰ˆæœ¬"></a><code>use</code>ï¼šåˆ‡æ› Node.js ç‰ˆæœ¬</h2><p>å¦‚æœè¦ä½¿ç”¨ nvm åˆ‡æ›æ­£åœ¨ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬ï¼Œå¯ç”¨ <code>use</code> æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm use v10.6.3</span><br>Now using node v10.16.3 (npm v6.9.0)<br></code></pre></td></tr></table></figure><p>å¦‚æœåˆ‡æ›çš„ç›®æ¨™ç‰ˆæœ¬é‚„æ²’å®‰è£ï¼Œnvm æœƒæé†’ä½ è¦å®‰è£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm use lts/carbon </span><br>N/A: version "lts/carbon -&gt; N/A" is not yet installed.<br><br>You need to run "nvm install lts/carbon" to install it before using it.<br></code></pre></td></tr></table></figure><p>é€é nvm å®‰è£ Node.js æ™‚ï¼Œnvm æœƒå°‡ä¸åŒçš„ Node.js ç‰ˆæœ¬å„²å­˜åœ¨ <code>~/.nvm/versions/node/vX.X.X</code>ï¼Œç„¶å¾Œå†ä¿®æ”¹ <code>$PATH</code>ï¼Œå°‡æŒ‡å®šç‰ˆæœ¬çš„ Node.js è·¯å¾‘åŠ å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm current</span><br>v10.16.3<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span>             </span><br>/home/titan/.nvm/versions/node/v10.16.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br><br><span class="hljs-meta">$</span><span class="bash"> use v12.13.1</span><br><span class="hljs-meta">$</span><span class="bash"> nvm current</span><br>v12.13.1<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span>             </span><br>/home/titan/.nvm/versions/node/v12.13.1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br></code></pre></td></tr></table></figure><p>åœ¨ nvm çš„å„å€‹ Node.js ç‰ˆæœ¬å®‰è£çš„å…¨åŸŸå¥—ä»¶éƒ½æœƒåœ¨å„è‡ªç‰ˆæœ¬çš„ç›®éŒ„å…§å®‰è£ï¼Œæ‰€ä»¥åœ¨åˆ‡æ›è‡³æ–°å®‰è£çš„ Node.js ç‰ˆæœ¬å¾Œéœ€è¦é‡æ–°å®‰è£ï¼Œä¹Ÿå› ç‚ºå¦‚æ­¤ï¼Œä¸åŒç‰ˆæœ¬é–“çš„å¥—ä»¶å°±ä¸æœƒæœ‰è¡çªå•é¡Œã€‚</p><h2 id="currentï¼šå¯Ÿçœ‹ç›®å‰ä½¿ç”¨ç‰ˆæœ¬"><a class="header-anchor" href="#currentï¼šå¯Ÿçœ‹ç›®å‰ä½¿ç”¨ç‰ˆæœ¬"></a><code>current</code>ï¼šå¯Ÿçœ‹ç›®å‰ä½¿ç”¨ç‰ˆæœ¬</h2><p>å¦‚æœå¿˜è¨˜è‡ªå·±åˆ‡æ›åˆ°å“ªå€‹ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨ <code>current</code> æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm current</span><br>v10.6.3<br></code></pre></td></tr></table></figure><h2 id="runï¼šç›´æ¥åŸ·è¡Œ-Node-js"><a class="header-anchor" href="#runï¼šç›´æ¥åŸ·è¡Œ-Node-js"></a><code>run</code>ï¼šç›´æ¥åŸ·è¡Œ Node.js</h2><p>å¦‚æœè¦ç›´æ¥åŸ·è¡Œ Node.jsï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm run node</span><br>Running node v12.8.1 (npm v6.10.2)<br>Welcome to Node.js v12.8.1.<br>Type ".help" for more information.<br><span class="hljs-meta">&gt;</span><br></code></pre></td></tr></table></figure><h2 id="execï¼šæŒ‡å®šè¦åŸ·è¡Œçš„-Node-js-ç‰ˆæœ¬"><a class="header-anchor" href="#execï¼šæŒ‡å®šè¦åŸ·è¡Œçš„-Node-js-ç‰ˆæœ¬"></a><code>exec</code>ï¼šæŒ‡å®šè¦åŸ·è¡Œçš„ Node.js ç‰ˆæœ¬</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm <span class="hljs-built_in">exec</span> 12.8.1 node</span><br>Running node v12.8.1 (npm v6.10.2)<br>Welcome to Node.js v12.8.1.<br>Type ".help" for more information.<br><span class="hljs-meta">&gt;</span><br></code></pre></td></tr></table></figure><h2 id="whichï¼šå¯Ÿçœ‹-Node-js-çš„å®‰è£è·¯å¾‘"><a class="header-anchor" href="#whichï¼šå¯Ÿçœ‹-Node-js-çš„å®‰è£è·¯å¾‘"></a><code>which</code>ï¼šå¯Ÿçœ‹ Node.js çš„å®‰è£è·¯å¾‘</h2><p>åŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„ Node.js çš„å®‰è£è·¯å¾‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm <span class="hljs-built_in">which</span> 12.8.1</span><br>/home/titan/.nvm/versions/node/v12.8.1/bin/node<br></code></pre></td></tr></table></figure><h2 id="alias"><a class="header-anchor" href="#alias"></a>alias</h2><p>å¦‚ä¸‹åœ–æœ‰äº›ç‰ˆæœ¬çš„æ–‡å­—æ˜¯ç´…è‰²æˆ–æ˜¯é¡¯ç¤º <code>N/A</code>ï¼Œå°±ä»£è¡¨è©²ç‰ˆæœ¬æœªåœ¨é›»è…¦å®‰è£ï¼š</p><p><img src="../images/nvm/nvm-ls.png" alt=""></p><p>é è¨­ alias å¯ä»¥å–ä»£ç‰ˆæœ¬è™Ÿï¼š</p><ul><li><code>node</code>ï¼šå®‰è£æœ€æ–°ç‰ˆçš„ Node.js</li><li><code>iojs</code>ï¼šå®‰è£æœ€æ–°ç‰ˆçš„ io.js</li><li><code>stable</code>ï¼šæ­¤ alias å·²æ£„ç”¨ï¼Œåƒ…é©ç”¨æ–¼ v0.12 ä»¥åŠæ›´èˆŠç‰ˆï¼Œç›®å‰æ”¹ç‚º <code>node</code> alias</li><li><code>unstable</code>ï¼šæ­¤ alias ç‚º v0.11ï¼Œæœ€å¾Œä¸€å€‹ â€œunstableâ€ (ä¸ç©©å®š) Node releaseï¼Œåœ¨ v1.0 ä¹‹å¾Œçš„ç‰ˆæœ¬éƒ½æ˜¯ç©©å®šç‰ˆ (in SemVer, versions communicate breakage, not stability)</li></ul><p>å¯åœ¨ä¸‹é¢é€™äº›æŒ‡ä»¤ä½¿ç”¨ä»¥ä¸Šé è¨­åˆ¥åï¼š</p><ul><li><code>nvm install</code></li><li><code>nvm use</code></li><li><code>nvm run</code></li><li><code>nvm exec</code></li><li><code>nvm which</code></li><li>â€¦ ç­‰</li></ul><h2 id="aliasï¼šå¯Ÿçœ‹åˆ¥åã€è¨­å®šåˆ¥å"><a class="header-anchor" href="#aliasï¼šå¯Ÿçœ‹åˆ¥åã€è¨­å®šåˆ¥å"></a><code>alias</code>ï¼šå¯Ÿçœ‹åˆ¥åã€è¨­å®šåˆ¥å</h2><h3 id="å¯Ÿçœ‹åˆ¥å"><a class="header-anchor" href="#å¯Ÿçœ‹åˆ¥å"></a>å¯Ÿçœ‹åˆ¥å</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm <span class="hljs-built_in">alias</span>                                                                    * ?</span><br>default -&gt; v10.16.3<br>node -&gt; stable (-&gt; v12.8.1) (default)<br>stable -&gt; 12.8 (-&gt; v12.8.1) (default)<br>iojs -&gt; N/A (default)<br>unstable -&gt; N/A (default)<br>lts/* -&gt; lts/erbium (-&gt; N/A)<br>lts/argon -&gt; v4.9.1 (-&gt; N/A)<br>lts/boron -&gt; v6.17.1 (-&gt; N/A)<br>lts/carbon -&gt; v8.16.2 (-&gt; N/A)<br>lts/dubnium -&gt; v10.17.0 (-&gt; N/A)<br>lts/erbium -&gt; v12.13.0 (-&gt; N/A)<br></code></pre></td></tr></table></figure><h3 id="è¨­å®šåˆ¥å"><a class="header-anchor" href="#è¨­å®šåˆ¥å"></a>è¨­å®šåˆ¥å</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm <span class="hljs-built_in">alias</span> titan-test v10.15.3                                                  * ?</span><br>titan-test -&gt; v10.15.3<br></code></pre></td></tr></table></figure><p>æ¥è‘—ç”¨ <code>nvm alias</code> æŒ‡ä»¤å°±æœƒçœ‹åˆ°å‰›å‰›æ–°å¢çš„åˆ¥åæ‰€å°æ‡‰çš„ Node.js ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nvm <span class="hljs-built_in">alias</span>                                                                    * ?</span><br>titan-test -&gt; v10.15.3<br>default -&gt; v10.16.3<br>node -&gt; stable (-&gt; v12.8.1) (default)<br>stable -&gt; 12.8 (-&gt; v12.8.1) (default)<br>iojs -&gt; N/A (default)<br>unstable -&gt; N/A (default)<br>lts/* -&gt; lts/erbium (-&gt; N/A)<br>lts/argon -&gt; v4.9.1 (-&gt; N/A)<br>lts/boron -&gt; v6.17.1 (-&gt; N/A)<br>lts/carbon -&gt; v8.16.2 (-&gt; N/A)<br>lts/dubnium -&gt; v10.17.0 (-&gt; N/A)<br>lts/erbium -&gt; v12.13.0 (-&gt; N/A)<br></code></pre></td></tr></table></figure><h2 id="è³‡æ–™ä¾†æº"><a class="header-anchor" href="#è³‡æ–™ä¾†æº"></a>è³‡æ–™ä¾†æº</h2><ul><li><a href="https://github.com/nvm-sh/nvm#install--update-script" target="_blank" rel="noopener">nvm-sh/nvm: Node Version Manager</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Web Dev </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> w3HexSchool </tag>
            
            <tag> version manager </tag>
            
            <tag> JavaScript </tag>
            
            <tag> CLI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·ºå…¥ Gitï¼šdetached HEAD</title>
      <link href="/article/git-detached-head.html"/>
      <url>/article/git-detached-head.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>åœ¨ Git çš„ä¸–ç•Œä¸­ï¼Œæƒ³å›åˆ°éå»ï¼Œä¹Ÿè¨±ä½ æœƒç”¨ <code>git checkout</code> è·³è‡³æŸå€‹éå»çš„ commitï¼Œä½† Git æœƒæé†’ä½ æ­£åœ¨ã€Œdetached HEADã€ç‹€æ…‹ã€‚é‚£ detached <code>HEAD</code> æ˜¯ä»€éº¼ï¼Ÿå®ƒèƒ½åšä»€éº¼ï¼Ÿè¦æ€éº¼é›¢é–‹ detached <code>HEAD</code> ç‹€æ…‹ï¼Ÿ</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ä¹‹å‰çš„ <a href="https://titangene.github.io/article/git-head-ref.html">æ·±å…¥ Gitï¼š<code>HEAD</code> refs</a> æœ‰è«‡åˆ° <code>HEAD</code> é€šå¸¸æœƒæŒ‡å‘ç•¶å‰åˆ†æ”¯ï¼Œè€Œç•¶å‰åˆ†æ”¯é€šå¸¸æœƒæŒ‡å‘è©²åˆ†æ”¯é ‚ç«¯çš„ commit (ä¹Ÿå°±æ˜¯è©²åˆ†æ”¯æœ€æ–°çš„ commit)ã€‚ä¸éå†æŸäº›æƒ…æ³ä¸‹ï¼Œæœƒç™¼ç”Ÿ <code>HEAD</code> ä¸æ˜¯æŒ‡å‘åˆ†æ”¯ï¼Œè€Œæ˜¯æŒ‡å‘æŸå€‹ commitï¼Œè€Œé€™å€‹ç‹€æ…‹çš„ <code>HEAD</code> å°±è¢«ç¨±ç‚ºã€Œdetached HEADã€ã€‚</p><p>ä¸‹é¢æœƒç”¨ä»¥ä¸‹ Git æ­·å²ç´€éŒ„ä½œç‚ºç¯„ä¾‹ä¾†èªªæ˜ detached <code>HEAD</code>ã€‚æœ¬å°ˆæ¡ˆå…§æœ‰å››å€‹æª”æ¡ˆï¼Œåˆ†åˆ¥æ˜¯ <code>a</code>ã€<code>b</code>ã€<code>c</code> å’Œ <code>d</code>ï¼Œæˆ‘ç‚ºæ¯å€‹æª”æ¡ˆåˆ†åˆ¥å»ºç«‹äº†ä¸€å€‹ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls</span><br>a  b  c  d<br><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph --decorate</span><br>* 71e5770 (HEAD -&gt; master, origin/master) feat: d<br>* c3a31ea feat: c<br>* b757c26 feat: b<br>* 3b7be17 feat: a<br></code></pre></td></tr></table></figure><h2 id="è·¯äººç”²ç™¼ç”Ÿçš„æƒ…å¢ƒ"><a class="header-anchor" href="#è·¯äººç”²ç™¼ç”Ÿçš„æƒ…å¢ƒ"></a>è·¯äººç”²ç™¼ç”Ÿçš„æƒ…å¢ƒ</h2><p>ä¸‹é¢æ˜¯è·¯äººç”²ç™¼ç”Ÿçš„æƒ…å¢ƒï¼Œè®“æˆ‘å€‘ä¾†çœ‹é€™å€‹æƒ…å¢ƒç™¼ç”Ÿäº†ä»€éº¼ï¼Ÿ</p><p>ç¾åœ¨ <code>HEAD</code> æŒ‡å‘ <code>master</code> åˆ†æ”¯ï¼Œè€Œ <code>master</code> åˆ†æ”¯æŒ‡å‘åç‚º <code>e2f2a4</code> çš„ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph --decorate</span><br>* 71e5770 (HEAD -&gt; master, origin/master) feat: d<br>* c3a31ea feat: c<br>* b757c26 feat: b<br>* 3b7be17 feat: a<br><br><span class="hljs-meta">$</span><span class="bash"> cat .git/HEAD</span><br>ref: refs/heads/master<br><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/heads/master</span><br>71e57702f208a7c463a2b5cd069ea47cdbed9eba<br></code></pre></td></tr></table></figure><p>è·¯äººç”²å¯èƒ½æƒ³å›åˆ°éå»çš„ commitï¼Œæ–¼æ˜¯ä½¿ç”¨äº† <code>git checkout &lt;commit&gt;</code> è·³è‡³æŒ‡å®šçš„ commitï¼Œå‡è¨­è¦ checkout è‡³åç‚º <code>b757c26</code> çš„ commit å°±æœƒçœ‹åˆ°ä»¥ä¸‹è¨Šæ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout b757c26</span><br>Note: checking out 'b757c26'.<br><br>You are in 'detached HEAD' state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make in this<br>state without impacting any branches by performing another checkout.<br><br>If you want to create a new branch to retain commits you create, you may<br>do so (now or later) by using -b with the checkout command again. Example:<br><br>  git checkout -b &lt;new-branch-name&gt;<br><br>HEAD is now at b757c26 feat: b<br></code></pre></td></tr></table></figure><div class="warning"><p>å‡è¨­è·¯äººç”²å¾ˆå°‘æ³¨æ„çœ‹ Git æä¾›çš„è¨Šæ¯ï¼Œæ‰€ä»¥å¿½ç•¥äº†ã€Œdetached HEADã€çš„æé†’è¨Šæ¯ã€‚</p></div><p>è·¯äººç”²åªæƒ³ç¢ºå®šè‡ªå·±æ˜¯ä¸æ˜¯å›åˆ°éå»ï¼Œæ–¼æ˜¯åŸ·è¡Œ <code>git log</code> ä¾†å¯Ÿçœ‹ï¼Œçš„ç¢ºçœ‹åˆ° <code>HEAD</code> æŒ‡å‘ <code>b757c26</code> é€™å€‹ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph --decorate</span><br>* b757c26 (HEAD) feat: b<br>* 3b7be17 feat: a<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å¿ƒæ»¿æ„è¶³çš„é–‹å§‹åŸºæ–¼ <code>7e347a4</code> é€™å€‹ commit é–‹å§‹å»ºç«‹å…©å€‹æ–°çš„ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"test1"</span> &gt; test1</span><br><span class="hljs-meta">$</span><span class="bash"> git add test1</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">"feat: test1"</span></span><br>[detached HEAD 3936d06] feat: test1<br> 1 file changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 test1<br><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"test2"</span> &gt; test2</span><br><span class="hljs-meta">$</span><span class="bash"> git add test2</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">"feat: test2"</span></span><br>[detached HEAD 845992a] feat: test2<br> 1 file changed, 1 insertion(+)<br> create mode 100644 test2<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥ç¾åœ¨ <code>git log</code> è®Šæˆé€™æ¨£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph --decorate</span><br>* 845992a (HEAD) feat: test2<br>* 9fd0924 feat: test1<br>* b757c26 feat: b<br>* 3b7be17 feat: a<br></code></pre></td></tr></table></figure><p>ç•¶è·¯äººç”²å»ºç«‹å®Œ commit å¾Œï¼Œçªç„¶æƒ³å›åˆ°ä¹‹å‰çš„ <code>master</code> åˆ†æ”¯ï¼Œæ‰€ä»¥åŸ·è¡Œ <code>git checkout master</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout master</span><br>Warning: you are leaving 2 commits behind, not connected to<br>any of your branches:<br><br>  845992a feat: test2<br>  9fd0924 feat: test1<br><br>If you want to keep them by creating a new branch, this may be a good time<br>to do so with:<br><br> git branch &lt;new-branch-name&gt; 845992a<br><br>Switched to branch 'master'<br>Your branch is up to date with 'origin/master'.<br></code></pre></td></tr></table></figure><p>å›åˆ° <code>master</code> åˆ†æ”¯å¾Œï¼Œè·¯äººç”²çœ‹ <code>git log</code> è®Šæˆä¸‹é¢é€™æ¨£é¦¬ä¸Šå‚»çœ¼ï¼Œå¿ƒæƒ³ï¼šã€Œå‰›å‰›çš„é‚£å…©å€‹ commit å‘¢ï¼Ÿæ€éº¼ä¸è¦‹äº†ï¼æ€éº¼è¾¦å•Šï¼é‚„æ‰¾çš„å›ä¾†å—ï¼Ÿã€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph --decorate</span><br>* 71e5770 (HEAD -&gt; master, origin/master) feat: d<br>* c3a31ea feat: c<br>* b757c26 feat: b<br>* 3b7be17 feat: a<br></code></pre></td></tr></table></figure><p>å¥½ï¼Œçœ‹åˆ°é€™å€‹æ•…äº‹ï¼Œä½ æ‡‰è©²æœƒç™¼ç¾ï¼Œå…¶å¯¦ Git ä¸€ç›´ä¸åœçš„åœ¨è¼¸å‡ºè¨Šæ¯æé†’ä½ ï¼š</p><ul><li>åœ¨ checkout è‡³æŸå€‹ commit æ™‚ï¼Œæœƒæé†’ä½ æ­£åœ¨ã€Œdetached HEADã€ç‹€æ…‹</li><li>åœ¨ã€Œdetached HEADã€ç‹€æ…‹å»ºç«‹ commit æ™‚ï¼Œæœƒåƒé€™æ¨£æé†’ä½ ï¼š<code>[detached HEAD 845992a] feat: test2</code></li><li>åœ¨ã€Œdetached HEADã€ç‹€æ…‹å»ºç«‹ commit å¾Œï¼Œcheckout å›åˆ†æ”¯æ™‚ï¼Œæœƒåƒé€™æ¨£æé†’ä½ ï¼š<code>Warning: you are leaving 2 commits behind</code></li></ul><p>æ‰€ä»¥çœ‹è¼¸å‡ºè¨Šæ¯å¾ˆé‡è¦ï¼</p><div class="info"><p>æˆ‘æ›¾ç¶“å°±æ˜¯é‚£å€‹ä¸çœ‹è¼¸å‡ºè¨Šæ¯çš„è·¯äººç”² XD</p></div><h2 id="æ­¤ç‹€æ…‹æœ‰ä½•ç”¨"><a class="header-anchor" href="#æ­¤ç‹€æ…‹æœ‰ä½•ç”¨"></a>æ­¤ç‹€æ…‹æœ‰ä½•ç”¨</h2><p>é‚£ã€Œdetached HEADã€ç‹€æ…‹åˆ°åº•èƒ½åšä»€éº¼ï¼Ÿ</p><p>å¦‚æœåœ¨ detached <code>HEAD</code> ç‹€æ…‹æ™‚å»ºç«‹çš„ commit æ˜¯å¯¦é©—æ€§çš„ï¼Œé‚£çš„ç¢ºå¯ä»¥ç›´æ¥ checkout è‡³ä»»ä½•åˆ†æ”¯ï¼ŒæŠŠé‚£äº› commit éƒ½ä¸Ÿæ£„ (ä½† Git ä¸æœƒé¦¬ä¸Šåˆªé™¤ï¼Œæœƒè‡ªå‹•ç­‰åˆ° Git GC ä¾†å›æ”¶ï¼Œæ‰€ä»¥é‚„æ•‘çš„å›ä¾†)ï¼Œé€™ä»£è¡¨ä½ æ”¾æ£„äº†åœ¨ detached <code>HEAD</code> ç‹€æ…‹ä¸‹æ‰€åšçš„ä»»ä½• commitï¼Œè€Œä¸”é€™äº›æ“ä½œéƒ½ä¸æœƒå½±éŸ¿ä»»ä½•åˆ†æ”¯ã€‚</p><p>é‚£å¦‚æœæ˜¯åƒè·¯äººç”²çš„æƒ…å¢ƒé‚£æ¨£ï¼Œä½ æƒ³ä¿ç•™é‚£äº› commitï¼Œé‚£å¯ä»¥åœ¨è©² commit ä¸Šå»ºç«‹ refï¼Œè®“è©² ref æŒ‡å‘è©² commitï¼Œref å¯ä»¥æ˜¯åˆ†æ”¯æˆ– tagã€‚</p><p>å»ºç«‹ ref æœ‰å¾ˆå¤šç¨®æ–¹å¼ï¼Œä¸‹é¢æœƒä»‹ç´¹å¹¾ç¨®è™•ç†çš„æ–¹å¼ã€‚</p><h2 id="è³‡æ–™ä¾†æº"><a class="header-anchor" href="#è³‡æ–™ä¾†æº"></a>è³‡æ–™ä¾†æº</h2><ul><li><a href="https://git-scm.com/docs/git-checkout" target="_blank" rel="noopener">Git - git-checkout Documentation</a></li><li><a href="https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches" target="_blank" rel="noopener">Git Branching - Remote Branches | Pro Git, 2/e</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - tag ç‰©ä»¶</title>
      <link href="/article/git-tag-object.html"/>
      <url>/article/git-tag-object.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git tag æ˜¯ä»€éº¼ï¼Ÿå¦‚ä½•å»ºç«‹ tagï¼ŸGit æ˜¯å¦‚ä½•å„²å­˜ tagï¼Ÿèˆ‡ commit å’Œåˆ†æ”¯çš„å·®åˆ¥åœ¨å“ªï¼Ÿ</p><a id="more"></a><h1 id="Git-tag"><a class="header-anchor" href="#Git-tag"></a>Git tag</h1><p>Git tag å¸¸ç”¨æ–¼æ¨™è¨˜æŸå€‹ç‰ˆæœ¬è™Ÿç¢¼ï¼Œä¾‹å¦‚ï¼š<code>v0.5</code>ã€<code>v1.0.1</code>ã€<code>9.1.0-rc.2</code>ã€<code>v2.6.0-beta.3</code>ã€‚</p><p>åœ¨ Git ä¸­æœ‰å…©ç¨®é¡å‹çš„ tagï¼šlightweight tag (è¼•é‡æ¨™ç±¤) å’Œ annotated tag (è¨»è§£æ¨™ç±¤)ã€‚</p><p>å…ˆä»‹ç´¹å…©è€…çš„å…±é€šé»ï¼š</p><ul><li>æä¾›æ›´ friendlier çš„åç¨±çš„æ¨™è¨˜</li><li>éƒ½æœƒæŒ‡å‘æŸå€‹ Git ç‰©ä»¶ (é€šå¸¸ç‚º commit ç‰©ä»¶ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç‰©ä»¶ï¼Œä¹Ÿå°±æ˜¯ tree ç‰©ä»¶ã€blob ç‰©ä»¶ï¼Œç”šè‡³æ˜¯å…¶ä»– tag ç‰©ä»¶)<ul><li>åªæ˜¯ lightweight tag æ˜¯ç›´æ¥æŒ‡å‘æŸ Git ç‰©ä»¶</li><li>è€Œ annotated tag å‰‡æ˜¯é€é tag ç‰©ä»¶ï¼Œé–“æ¥æŒ‡å‘æŸ Git ç‰©ä»¶</li></ul></li><li>ä¸æœƒæ”¹è®Š tag æ‰€æŒ‡å‘çš„ç‰©ä»¶ (é™¤éç”¨ <code>git tag -f</code> æ›¿æ›ç¾æœ‰ tag)</li></ul><p>æ¥è‘—æœƒèªªæ˜å„è‡ªçš„ç‰¹æ€§ã€è¦å¦‚ä½•å»ºç«‹ lightweight tag å’Œ annotated tagï¼Œä»¥åŠåœ¨ Git ä¸­æ˜¯å¦‚ä½•å„²å­˜é€™äº› tag çš„ã€‚</p><p>ä¸‹é¢æœƒç”¨ä»¥ä¸‹ Git æ­·å²ç´€éŒ„çš„ç¯„ä¾‹ä¾†èªªæ˜ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --decorate</span><br>32aa934 (HEAD -&gt; master) feat: c<br>9b6d639 feat: b<br>d835d6b feat: a<br></code></pre></td></tr></table></figure><h2 id="lightweight-tag-è¼•é‡æ¨™ç±¤"><a class="header-anchor" href="#lightweight-tag-è¼•é‡æ¨™ç±¤"></a>lightweight tag (è¼•é‡æ¨™ç±¤)</h2><ul><li>å¾ˆåƒä¸æœƒç§»å‹•çš„åˆ†æ”¯ï¼Œtag åªæœƒæŒ‡å‘ä¸€å€‹ç‰¹å®šçš„ Git ç‰©ä»¶</li><li>è‹¥åªä½œç‚ºæš«æ™‚çš„æ¨™ç±¤ï¼Œä¸”ä¸æƒ³ä¿ç•™é¡å¤–è³‡è¨Šï¼Œå¯ç”¨ lightweight tag</li></ul><h3 id="å»ºç«‹-lightweight-tag"><a class="header-anchor" href="#å»ºç«‹-lightweight-tag"></a>å»ºç«‹ lightweight tag</h3><p>å»ºç«‹ lightweight tag æ™‚ï¼Œä¸è¦æŒ‡å®š <code>-a</code>ã€<code>-s</code> æˆ– <code>-m</code> option (å»ºç«‹ annotated tag æ™‚æ‰æœƒç”¨åˆ°ï¼Œå¾Œé¢æœƒèªªæ˜)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag &lt;tagname&gt; [&lt;commit&gt; | &lt;object&gt;]</span><br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag v1.0-lw</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šæŸå€‹ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag v0.2-lw 9b6d639</span><br></code></pre></td></tr></table></figure><h3 id="å¯Ÿçœ‹-lightweight-tag"><a class="header-anchor" href="#å¯Ÿçœ‹-lightweight-tag"></a>å¯Ÿçœ‹ lightweight tag</h3><p>è‹¥è¦é€é <code>git show</code> æŒ‡ä»¤å¯Ÿçœ‹ lightweight tagï¼Œå°±ä¸æœƒçœ‹åˆ°è©²æ¨™ç±¤çš„é¡å¤–è³‡è¨Šï¼Œåªæœƒé¡¯ç¤ºæ¨™ç±¤æ‰€åœ¨çš„ commit è³‡è¨Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git show v1.0-lw</span><br>commit 32aa934a24212ef22cc373e7838c30618952003d (HEAD -&gt; master, tag: v1.0-lw)<br>Author: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Apr 5 21:36:25 2020 +0800<br><br>    feat: c<br><br>diff --git a/c b/c<br>new file mode 100644<br>index 0000000..f2ad6c7<br>--- /dev/null<br>+++ b/c<br>@@ -0,0 +1 @@<br>+c<br></code></pre></td></tr></table></figure><h3 id="lightweight-tag-å­˜åœ¨å“ªï¼Ÿ"><a class="header-anchor" href="#lightweight-tag-å­˜åœ¨å“ªï¼Ÿ"></a>lightweight tag å­˜åœ¨å“ªï¼Ÿ</h3><p>Git å°‡ lightweight tag å­˜åœ¨ <code>.git/refs/tag</code> ç›®éŒ„å…§ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/refs/tags/</span><br>.git/refs/tags/<br>â”œâ”€â”€ v0.2-lw<br>â””â”€â”€ v1.0-lw<br><br>0 directories, 2 files<br></code></pre></td></tr></table></figure><p>tag ref çš„å…§å®¹å°±æ˜¯è©² tag æŒ‡å‘çš„ commit ç‰©ä»¶ (ä¹Ÿå°±æ˜¯è©² commit SHA-1 å€¼)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/tags/v1.0-lw</span><br>32aa934a24212ef22cc373e7838c30618952003d<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>git cat-file</code> ä¾†ç¢ºå®šæ­¤ SHA-1 å€¼çœŸçš„æ˜¯ commit ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 32aa93</span><br>commit<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 32aa93</span><br>tree 04a59185a0c5f4047e4fd3fa87b0c84e671b00ee<br>parent 9b6d6398e5e020a76f9a0f8d620e676a1decc78a<br>author titangene &lt;titangene.tw@gmail.com&gt; 1586093785 +0800<br>committer titangene &lt;titangene.tw@gmail.com&gt; 1586093785 +0800<br><br>feat: c<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹-lightweight-tag"><a class="header-anchor" href="#ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹-lightweight-tag"></a>ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹ lightweight tag</h3><p>ä½¿ç”¨ <code>git update-ref</code> åº•å±¤æŒ‡ä»¤å»ºç«‹ lightweight tag çš„ refï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-ref refs/tags/v0.1-lw d835d6bf85258f2fe93c582f60f3f148900e0d7f</span><br></code></pre></td></tr></table></figure><p>å¯Ÿçœ‹è©² tag ref çš„ç¢ºæ˜¯æŒ‡å‘å‰›å‰›æŒ‡å®šçš„ SHA-1 å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/tags/v0.1-lw </span><br>d835d6bf85258f2fe93c582f60f3f148900e0d7f<br></code></pre></td></tr></table></figure><h2 id="annotated-tag-è¨»è§£æ¨™ç±¤"><a class="header-anchor" href="#annotated-tag-è¨»è§£æ¨™ç±¤"></a>annotated tag (è¨»è§£æ¨™ç±¤)</h2><ul><li>æœƒåœ¨ Git çš„è³‡æ–™åº«ä¸­å„²å­˜æˆå®Œæ•´çš„ç‰©ä»¶ã€‚å®ƒå€‘å°‡è¢«è¨ˆç®—æ ¡é©—ç¢¼ (checksummed)</li><li>åŒ…å«ï¼š<ul><li>å»ºç«‹æ¨™ç±¤çš„äºº (tagger) çš„åå­—ã€é›»å­éƒµä»¶å’Œå»ºç«‹æ—¥æœŸ</li><li>ç´€éŒ„ä¸€å€‹æ¨™ç±¤è¨Šæ¯ (tagging message)</li><li>æŒ‡æ¨™ (ä¹Ÿå°±æ˜¯ Git ç‰©ä»¶)</li></ul></li><li>å¯ä»¥ç°½å (signed) åŠé€é GNU Privacy Guard (GPG) é©—è­‰</li><li>è‹¥æƒ³ç´€éŒ„èˆ‡ tag æœ‰é—œçš„è³‡è¨Š (ä¾‹å¦‚ï¼šå»ºç«‹ tag çš„äººã€æ™‚é–“)ï¼Œå»ºè­°ä½¿ç”¨ annotated tag</li></ul><h3 id="å»ºç«‹-annotated-tag"><a class="header-anchor" href="#å»ºç«‹-annotated-tag"></a>å»ºç«‹ annotated tag</h3><p>å»ºç«‹ annotated tag æ™‚ï¼Œå¯åŒæ™‚æŒ‡å®šä»¥ä¸‹ optionï¼š</p><ul><li><code>-a</code>ï¼Œ<code>--annotate</code>ï¼šè£½ä½œä¸€å€‹ unsignedã€annotated tag ç‰©ä»¶ (æœªç°½åä¸”å¸¶æœ‰è¨»è§£çš„æ¨™ç±¤ç‰©ä»¶)</li><li><code>-m &lt;msg&gt;</code>ï¼Œ<code>--message=&lt;msg&gt;</code>ï¼š<ul><li>æŒ‡å®šæ¨™ç±¤è¨Šæ¯ï¼Œæ­¤è¨Šæ¯æœƒå’Œæ­¤æ¨™ç±¤ä¸€èµ·å„²å­˜</li><li>è‹¥ä½ æ²’æœ‰ç‚ºæ¨™ç±¤æŒ‡å®šè¨Šæ¯ï¼ŒGit å°±æœƒé–‹å•Ÿç·¨è¼¯å™¨è®“ä½ è¼¸å…¥ (å¾ˆåƒ <code>git commit</code> æ²’æœ‰åŠ ä¸Š <code>-m</code> option é‚£æ¨£)</li><li>è‹¥åŠ ä¸Šå¤šçµ„ <code>-m</code> optionï¼Œæœƒå°‡é€™äº›å€¼ä¸²è¯æˆæ®µè½</li><li>å¦‚æœä½¿ç”¨ <code>-m</code> option ä½†æ²’æœ‰åŠ ä¸Š <code>-a</code>ã€<code>-s</code> æˆ– <code>-u &lt;keyid&gt;</code>ï¼Œå‰‡ä»£è¡¨æ˜¯ <code>-a</code> (ä¹Ÿå°±æ˜¯å»ºç«‹ annotated tag)</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag -a &lt;tagname&gt; -m &lt;msg&gt; [&lt;commit&gt; | &lt;object&gt;]</span><br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag -a v1.0 -m <span class="hljs-string">"version 1.0"</span></span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šæŸå€‹ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag -a v0.1 -m <span class="hljs-string">"version 0.1"</span> d835d6b</span><br></code></pre></td></tr></table></figure><h3 id="å¯Ÿçœ‹-annotated-tag-è³‡è¨Š"><a class="header-anchor" href="#å¯Ÿçœ‹-annotated-tag-è³‡è¨Š"></a>å¯Ÿçœ‹ annotated tag è³‡è¨Š</h3><p>ä½¿ç”¨ <code>git show</code> æŒ‡ä»¤å¯æŸ¥çœ‹æ¨™ç±¤è³‡è¨Šï¼Œä»¥åŠæ­¤æ¨™ç±¤æ‰€æ¨™è¨˜çš„ commit è³‡è¨Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git show v0.1</span><br>tag v0.1<br>Tagger: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Apr 5 21:39:01 2020 +0800<br><br>version 0.1<br><br>commit d835d6bf85258f2fe93c582f60f3f148900e0d7f (tag: v0.1)<br>Author: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Apr 5 21:36:18 2020 +0800<br><br>    feat: a<br><br>diff --git a/a b/a<br>new file mode 100644<br>index 0000000..7898192<br>--- /dev/null<br>+++ b/a<br>@@ -0,0 +1 @@<br>+a<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šé¢æ¨™ç±¤è³‡è¨Šç‚ºä¾‹ï¼ŒåŒ…å«ï¼š</p><ul><li>æ¨™ç±¤åç¨±ï¼š<code>v0.1</code></li><li>å»ºç«‹æ¨™ç±¤çš„äºº (tagger) çš„åå­—ã€é›»å­éƒµä»¶ï¼š<code>Tagger: titangene &lt;titangene.tw@gmail.com&gt;</code></li><li>æ¨™ç±¤å»ºç«‹æ—¥æœŸï¼š<code>Date: Sun Apr 5 21:39:01 2020 +0800</code></li><li>æ¨™ç±¤è¨Šæ¯ï¼š<code>version 0.1</code></li><li>æŒ‡æ¨™ï¼šåœ¨ <code>git show</code> æ²’æœ‰æä¾›ï¼Œä¸‹é¢æœƒæåˆ°</li></ul><h3 id="annotated-tag-å­˜åœ¨å“ªï¼Ÿ"><a class="header-anchor" href="#annotated-tag-å­˜åœ¨å“ªï¼Ÿ"></a>annotated tag å­˜åœ¨å“ªï¼Ÿ</h3><p>Git ä¹Ÿå°‡ annotated tag å­˜åœ¨ <code>.git/refs/tag</code> ç›®éŒ„å…§ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/refs/tags/</span><br>.git/refs/tags/<br>â”œâ”€â”€ v0.1<br>â”œâ”€â”€ v0.1-lw<br>â”œâ”€â”€ v0.2-lw<br>â”œâ”€â”€ v1.0<br>â””â”€â”€ v1.0-lw<br><br>0 directories, 5 files<br></code></pre></td></tr></table></figure><p>tag ref çš„å…§å®¹å°±æ˜¯è©² tag æŒ‡å‘çš„ commit ç‰©ä»¶ (ä¹Ÿå°±æ˜¯è©² commit SHA-1 å€¼)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/tags/v0.1</span><br>530097c078c2fa4c16a532443170a40179599a69<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>git cat-file</code> ä¾†ç¢ºå®šæ­¤ SHA-1 å€¼æ™‚ï¼Œæœƒç™¼ç¾è·Ÿå‰›å‰›ä»‹ç´¹çš„ lightweight tag ä¸ä¸€æ¨£ï¼Œlightweight tag æœƒç›´æ¥æŒ‡å‘ commit ç‰©ä»¶ï¼Œè€Œ annotated tag å‰‡æ˜¯æŒ‡å‘ tag ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 530097</span><br>tag<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 530097</span><br>object d835d6bf85258f2fe93c582f60f3f148900e0d7f<br>type commit<br>tag v0.1<br>tagger titangene &lt;titangene.tw@gmail.com&gt; 1586093941 +0800<br><br>version 0.1<br></code></pre></td></tr></table></figure><p>è€Œé€™å€‹ tag ç‰©ä»¶æ‰æ˜¯çœŸæ­£æŒ‡å‘ commit ç‰©ä»¶çš„ refã€‚</p><p>å†æ¬¡ä½¿ç”¨ <code>git cat-file</code> æŒ‡ä»¤ï¼Œå°±èƒ½ç¢ºå®š tag ç‰©ä»¶çš„ç¢ºæ˜¯æŒ‡å‘ <code>d835d6</code> é€™å€‹ commit ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t d835d6</span><br>commit<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p d835d6</span><br>tree aaff74984cccd156a469afa7d9ab10e4777beb24<br>author titangene &lt;titangene.tw@gmail.com&gt; 1586093778 +0800<br>committer titangene &lt;titangene.tw@gmail.com&gt; 1586093778 +0800<br><br>feat: a<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹-annotated-tag"><a class="header-anchor" href="#ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹-annotated-tag"></a>ä½¿ç”¨åº•å±¤æŒ‡ä»¤å»ºç«‹ annotated tag</h3><p>å»ºç«‹ annotated tag ä¸»è¦æœ‰å…©å€‹æ­¥é©Ÿï¼š</p><ol><li>å»ºç«‹ tag ç‰©ä»¶</li><li>å»ºç«‹ tag refï¼Œæ­¤ tag ref æœƒæŒ‡å‘å‰›å‰›å»ºç«‹çš„ tag ç‰©ä»¶</li></ol><p>æˆ‘ä¹‹å‰åœ¨ <a href="https://titangene.github.io/article/git--blob-object.html#hash-object-%E8%A8%88%E7%AE%97%E7%89%A9%E4%BB%B6%E5%90%8D%E7%A8%B1%E7%9A%84%E6%BC%94%E7%AE%97%E6%B3%95">æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - blob ç‰©ä»¶</a> é€™ç¯‡æœ‰æåˆ°å»ºç«‹ Git ç‰©ä»¶çš„åº•å±¤æŒ‡ä»¤ <code>git hash-object</code>ï¼Œä»¥åŠé€™å€‹åº•å±¤æŒ‡ä»¤çš„åŸç†ã€‚</p><p>ä½†æ˜¯åœ¨ä½¿ç”¨ <code>git hash-object</code> ä¹‹å‰ï¼Œå¿…é ˆè¦å…ˆæº–å‚™å¥½é€™å€‹æŒ‡ä»¤ä¸Šçš„ <code>--stdin</code> option è¦å¾ stdin (standard inputï¼Œæ¨™æº–è¼¸å…¥) è®€å–çš„å…§å®¹ï¼Œå…§å®¹æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plain">object &lt;object-sha1&gt;<br>type &lt;object-type&gt;<br>tag &lt;tag-name&gt;<br>tagger &lt;tagger-name&gt; &lt;&lt;tagger-email&gt;&gt; &lt;timestamp&gt;<br><br>&lt;tag-message&gt;<br></code></pre></td></tr></table></figure><p>å…§å®¹ç¯„ä¾‹å¦‚ä¸‹ (æˆ‘å…ˆéš¨æ„å°‡ä»¥ä¸‹å…§å®¹å„²å­˜åœ¨ä¸€å€‹æª”æ¡ˆå…§ï¼Œä»»æ„æª”åéƒ½å¯ä»¥ï¼Œå› ç‚ºé‡é»æ˜¯æª”æ¡ˆçš„å…§å®¹)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> vim my-tag.txt</span><br><span class="hljs-meta">$</span><span class="bash"> cat my-tag.txt</span><br>object 61780798228d17af2d34fce4cfbdf35556832472<br>type blob<br>tag file-b<br>tagger titangene &lt;titangene.tw@gmail.com&gt; 1586097930 +0800<br><br>file b<br></code></pre></td></tr></table></figure><p>å› ç‚ºé€™æ¬¡è¦å»ºç«‹çš„æ˜¯ tag ç‰©ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨ <code>git hash-object</code> æŒ‡ä»¤ä¸ŠåŠ ä¸Š <code>-t</code> optionï¼Œä¸¦ä¸”æŒ‡å®š <code>tag</code>ï¼Œä»£è¡¨è¦å»ºç«‹ tag ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object -t tag -w --stdin &lt; my-tag.txt</span><br>8785f7a44e2af5628544ecb0aa9dccf2adfa37ff<br></code></pre></td></tr></table></figure><p>é€™é‚Šè¼¸å‡ºçš„ <code>8785f7</code> å°±æ˜¯å‰›å‰›å»ºç«‹çš„ tag ç‰©ä»¶çš„ SHA-1 å€¼ï¼Œæˆ‘å€‘ç”¨ <code>git cat-file</code> ä¾†é©—è­‰ä¸€ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 8785f7</span><br>tag<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 8785f7</span><br>object 61780798228d17af2d34fce4cfbdf35556832472<br>type blob<br>tag file-b<br>tagger titangene &lt;titangene.tw@gmail.com&gt; 1586097930 +0800<br><br>file b<br></code></pre></td></tr></table></figure><p>æ¥è‘—è™•ç†ç¬¬äºŒæ­¥é©Ÿï¼Œä½¿ç”¨ <code>git update-ref</code> åº•å±¤æŒ‡ä»¤å»ºç«‹ annotated tag çš„ refï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-ref refs/tags/file-b 8785f7a44e2af5628544ecb0aa9dccf2adfa37ff</span><br></code></pre></td></tr></table></figure><p>å¯Ÿçœ‹è©² tag ref çš„ç¢ºæ˜¯æŒ‡å‘å‰›å‰›æŒ‡å®šçš„ SHA-1 å€¼ (åœ¨é€™é‚Šå°±æ˜¯ tag ç‰©ä»¶)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/tags/file-b  </span><br>8785f7a44e2af5628544ecb0aa9dccf2adfa37ff<br></code></pre></td></tr></table></figure><h2 id="åœ¨-git-log-å¯Ÿçœ‹-tag"><a class="header-anchor" href="#åœ¨-git-log-å¯Ÿçœ‹-tag"></a>åœ¨ <code>git log</code> å¯Ÿçœ‹ tag</h2><p>ä½¿ç”¨ <code>git log</code> å¯Ÿçœ‹å‰›å‰›å»ºç«‹çš„ tag éƒ½è²¼ä¸Šå“ªå€‹ commit ä¸Šé¢ (ä¹Ÿå°±æ˜¯é‚£äº› tag éƒ½æŒ‡å‘å“ªå€‹ commit)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --decorate</span><br>32aa934 (HEAD -&gt; master, tag: v1.0-lw, tag: v1.0) feat: c<br>9b6d639 (tag: v0.2-lw) feat: b<br>d835d6b (tag: v0.1-lw, tag: v0.1) feat: a<br></code></pre></td></tr></table></figure><p>å¦å¤–æä¸€ä¸‹ (é›–ç„¶ä¸Šé¢æœ‰ä»‹ç´¹åˆ°)ï¼Œä¸ç®¡æ˜¯ lightweight tag é‚„æ˜¯ annotated tagï¼Œå¦‚æœæ˜¯æŒ‡å‘ commit ç‰©ä»¶ä¹‹å¤–çš„å…¶ä»– Git ç‰©ä»¶ (ä¹Ÿå°±æ˜¯ blob ç‰©ä»¶æˆ– tree ç‰©ä»¶ï¼Œç”šè‡³æ˜¯å…¶ä»– tag ç‰©ä»¶)ï¼Œéƒ½ç„¡æ³•åœ¨ <code>git log</code> çš„è¼¸å‡ºå¯Ÿçœ‹ï¼Œåªèƒ½é€é <code>git show</code> æˆ–æ˜¯é€é <code>cat</code> å’Œ <code>git cat-file</code> æŒ‡ä»¤ä¾†å¯Ÿçœ‹è©² tag æ˜¯æŒ‡å‘å“ªå€‹ Git ç‰©ä»¶ã€‚</p><p>ä¸‹é¢ä»¥ annotated tag ç‚ºä¾‹ï¼Œé€éé€™äº›æŒ‡ä»¤ä¾†æ‰¾åˆ°åç‚º <code>file-b</code> çš„ tag æŒ‡å‘ SHA-1 å€¼ç‚º <code>8785f7</code> çš„ tag ç‰©ä»¶ï¼Œè€Œè©² tag ç‰©ä»¶æ˜¯æŒ‡å‘ SHA-1 å€¼ç‚º <code>617807</code> çš„ blob ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag -a file-c -m <span class="hljs-string">"file c"</span> f2ad6c</span><br><br><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/tags/file-c</span><br>febbaa9a5276f0321d72232c4bc3aa561bfc38c5<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t febbaa</span><br>tag<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p febbaa</span><br>object f2ad6c76f0115a6ba5b00456a849810e7ec0af20<br>type blob<br>tag file-c<br>tagger titangene &lt;titangene.tw@gmail.com&gt; 1586100520 +0800<br><br>file c<br></code></pre></td></tr></table></figure><h2 id="å¯Ÿçœ‹æ‰€æœ‰-tag"><a class="header-anchor" href="#å¯Ÿçœ‹æ‰€æœ‰-tag"></a>å¯Ÿçœ‹æ‰€æœ‰ tag</h2><p>åŸ·è¡Œ <code>git tag</code> æŒ‡ä»¤å¯ä»¥å¯Ÿçœ‹æ‰€æœ‰å»ºç«‹çš„ tagï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag</span><br>file-b<br>file-c<br>v0.1<br>v0.1-lw<br>v0.2-lw<br>v1.0<br>v1.0-lw<br></code></pre></td></tr></table></figure><h1 id="commit-vs-tag"><a class="header-anchor" href="#commit-vs-tag"></a>commit vs tag</h1><ul><li>commit ç‰©ä»¶ç´€éŒ„çš„æŒ‡æ¨™åªèƒ½æ˜¯ tree ç‰©ä»¶ï¼Œä¸èƒ½æ˜¯å…¶ä»– Git ç‰©ä»¶</li><li>tag ç‰©ä»¶é€šå¸¸ç´€éŒ„çš„æŒ‡æ¨™æ˜¯ commit ç‰©ä»¶ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æ˜¯å…¶ä»– Git ç‰©ä»¶ï¼ŒåŒ…æ‹¬ tree ç‰©ä»¶ã€blob ç‰©ä»¶ï¼Œç”šè‡³æ˜¯å…¶ä»– tag ç‰©ä»¶</li></ul><h1 id="åˆ†æ”¯-vs-tag"><a class="header-anchor" href="#åˆ†æ”¯-vs-tag"></a>åˆ†æ”¯ vs tag</h1><p>é‚£åˆ†æ”¯å’Œ tag éƒ½å¯ä»¥æŒ‡å‘ commit ç‰©ä»¶ï¼Œé‚£ä»–å€‘æœ‰ä½•å·®åˆ¥ï¼Ÿ</p><ul><li>åˆ†æ”¯ï¼šåœ¨æäº¤æ–°çš„ commit æ™‚ï¼Œæœƒå°‡åˆ†æ”¯æŒ‡å‘è©²åˆ†æ”¯çš„æœ«ç«¯ï¼Œä¹Ÿå°±æ˜¯æ–°çš„ commit ç‰©ä»¶</li><li>lightweight tag å’Œ annotated tag é€™å…©ç¨® tag éƒ½æ˜¯æ°¸é ä¸æœƒæ”¹è®Š tag æ‰€æŒ‡å‘çš„ç‰©ä»¶ï¼Œåªæ˜¯æä¾›æ›´ friendlier çš„åç¨±çš„æ¨™è¨˜è€Œå·²<ul><li>lightweight tagï¼šå¾ˆåƒä¸æœƒç§»å‹•çš„åˆ†æ”¯ï¼Œæ­¤ tag ref åªæœƒæŒ‡å‘ä¸€å€‹ç‰¹å®šçš„ Git ç‰©ä»¶</li><li>annotated tagï¼šæ­¤ tag ref æœƒæŒ‡å‘ tag ç‰©ä»¶ï¼Œè€Œ tag ç‰©ä»¶æœƒæŒ‡å‘ä¸€å€‹ç‰¹å®šçš„ Git ç‰©ä»¶</li></ul></li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Git-References" target="_blank" rel="noopener">Git Internals - Git References | Pro Git, 2/e</a></li><li><a href="https://git-scm.com/book/zh-tw/v2/Git-%E5%9F%BA%E7%A4%8E-%E6%A8%99%E7%B1%A4" target="_blank" rel="noopener">Git åŸºç¤ - æ¨™ç±¤ | Pro Git, 2/e</a></li><li><a href="https://stackoverflow.com/questions/10986615/what-is-the-format-of-a-git-tag-object-and-how-to-calculate-its-sha" target="_blank" rel="noopener">hash - What is the format of a git tag object and how to calculate its SHA? - Stack Overflow</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šHEAD refs</title>
      <link href="/article/git-head-ref.html"/>
      <url>/article/git-head-ref.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git <code>HEAD</code> æ˜¯ä»€éº¼ï¼Ÿå„²å­˜åœ¨ repo çš„å“ªè£¡ï¼Ÿä»¥åŠè·Ÿ <code>git branch</code> å’Œ <code>git checkout</code> ä¹‹é–“çš„é—œä¿‚ã€‚</p><a id="more"></a><p>ä¸Šæ¬¡æåˆ°çš„ <a href="https://titangene.github.io/article/git-branch-ref.html">Git åˆ†æ”¯ ref</a>ï¼Œå¯ç”¨ä¾†ç´€éŒ„ä¸åŒçš„å·¥ä½œéç¨‹ï¼Œä¾‹å¦‚æœ€å¸¸è¦‹çš„ <code>master</code> å’Œ <code>develop</code> åˆ†æ”¯ï¼Œ<code>master</code> åˆ†æ”¯é€šå¸¸ç”¨ä¾†ç´€éŒ„ç™¼ä½ˆçš„ç‰ˆæœ¬ï¼Œè€Œ <code>develop</code> åˆ†æ”¯é€šå¸¸ç”¨ä¾†ç´€éŒ„æ­£åœ¨é–‹ç™¼çš„ç‰ˆæœ¬ã€‚</p><p>é‚£ Git æ˜¯å¦‚ä½•çŸ¥é“ä½ æ­£åœ¨å“ªä¸€å€‹åˆ†æ”¯ï¼Ÿå…¶å¯¦æ˜¯é€é <code>HEAD</code> æª”æ¡ˆä¾†ç´€éŒ„çš„ã€‚é€™å€‹æª”æ¡ˆé€šå¸¸æœƒæ”¾åœ¨ <code>.git</code> è·¯å¾‘åº•ä¸‹ã€‚</p><p>é€šå¸¸ <code>HEAD</code> æª”æ¡ˆæ˜¯å°ç•¶å‰æ‰€åœ¨åˆ†æ”¯çš„ symbolic reference <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œä¹Ÿå°±æ˜¯ç´€éŒ„ä½ æ­£åœ¨å“ªä¸€å€‹åˆ†æ”¯çš„æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/HEAD</span><br>ref: refs/heads/master<br></code></pre></td></tr></table></figure><p>å¦‚æœåŸ·è¡Œ <code>git checkout</code> ä¾†åˆ‡æ›åˆ†æ”¯ï¼ŒGit å°±æœƒæ›´æ–° <code>HEAD</code> æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout</span><br>Switched to branch 'test'<br><span class="hljs-meta">$</span><span class="bash"> cat .git/HEAD</span><br>ref: refs/heads/test<br></code></pre></td></tr></table></figure><p>åœ¨åŸ·è¡Œ <code>git commit</code> æ™‚ï¼Œç‚ºä½•ç•¶å‰æ‰€åœ¨çš„åˆ†æ”¯æœƒä¸€ç›´æŒ‡å‘æœ€æ–°çš„ commitï¼Ÿé€™æ˜¯å› ç‚º <code>HEAD</code> æœƒæŒ‡å‘ç•¶å‰åˆ†æ”¯ï¼Œè€Œç•¶å‰åˆ†æ”¯æœƒæŒ‡å‘è©²åˆ†æ”¯çš„æœ«ç«¯ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œç•¶åŸ·è¡Œ <code>git commit</code> æ™‚ï¼ŒGit æœƒå»ºç«‹æ–°çš„ <a href="https://titangene.github.io/article/git-commit-object.html">commit ç‰©ä»¶</a>ï¼Œè€Œåˆ†æ”¯æœƒè¢«æ›´æ–°æˆæŒ‡å‘è©²åˆ†æ”¯çš„æœ«ç«¯ (ä¹Ÿå°±æ˜¯æ–°çš„ commit ç‰©ä»¶)ã€‚</p><p>é€šå¸¸ <code>HEAD</code> æœƒæŒ‡å‘ç•¶å‰åˆ†æ”¯ï¼Œè‹¥ <code>HEAD</code> æª”æ¡ˆçš„å…§å®¹ç‚º Git ç‰©ä»¶çš„ SHA-1 å€¼æ™‚ï¼Œå‰‡ä»£è¡¨ <a href="https://git-scm.com/docs/git-checkout#_detached_head" target="_blank" rel="noopener">detached HEAD</a> ç‹€æ…‹ã€‚é€™ç¨®æƒ…æ³æœƒåœ¨ä½ ä½¿ç”¨ <code>git checkout</code> åˆ‡æ›è‡³ tagã€commit æˆ–é ç«¯åˆ†æ”¯æ™‚ç™¼ç”Ÿã€‚åœ¨æ­¤ç‹€æ…‹ä¸‹ï¼Œæ²’æœ‰åˆ†æ”¯æœƒèˆ‡ working tree é—œè¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout 665439e            </span><br>Note: checking out '665439e'.<br><br>You are in 'detached HEAD' state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make in this<br>state without impacting any branches by performing another checkout.<br><br>If you want to create a new branch to retain commits you create, you may<br>do so (now or later) by using -b with the checkout command again. Example:<br><br>  git checkout -b &lt;new-branch-name&gt;<br><br>HEAD is now at 665439e feat: a<br></code></pre></td></tr></table></figure><h2 id="æ‰‹å‹•ç·¨è¼¯-HEAD-æª”æ¡ˆæ¨¡æ“¬-checkout-åˆ†æ”¯"><a class="header-anchor" href="#æ‰‹å‹•ç·¨è¼¯-HEAD-æª”æ¡ˆæ¨¡æ“¬-checkout-åˆ†æ”¯"></a>æ‰‹å‹•ç·¨è¼¯ <code>HEAD</code> æª”æ¡ˆæ¨¡æ“¬ checkout åˆ†æ”¯</h2><p>æˆ‘å€‘ä¾†æ‰‹å‹•ç·¨è¼¯æ­¤ <code>HEAD</code> æª”æ¡ˆï¼Œé©—è­‰æ”¹è®Š <code>HEAD</code> æª”æ¡ˆçš„å…§å®¹å°±ç­‰åŒæ–¼åœ¨ <code>git checkout</code> è‡³æŸå€‹åˆ†æ”¯ã€‚</p><p>å‡è¨­ç›®å‰æ­£åœ¨ <code>test</code> åˆ†æ”¯ï¼Œç„¶å¾Œå°‡ <code>HEAD</code> æª”æ¡ˆçš„å…§å®¹å¾ <code>ref: refs/heads/test</code> è®Šæˆ <code>ref: refs/heads/master</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch</span><br>* test<br>  master<br><br><span class="hljs-meta">$</span><span class="bash"> cat .git/HEAD</span><br>ref: refs/heads/test<br><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"ref: refs/heads/master"</span> &gt; .git/HEAD</span><br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ <code>git branch</code> å°±èƒ½é©—è­‰ç¾åœ¨å·²ç¶“ã€Œ<code>checkout</code>ã€è‡³ <code>master</code> åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch</span><br>  test<br>* master<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-symbolic-ref-åº•å±¤æŒ‡ä»¤"><a class="header-anchor" href="#ä½¿ç”¨-symbolic-ref-åº•å±¤æŒ‡ä»¤"></a>ä½¿ç”¨ <code>symbolic-ref</code> åº•å±¤æŒ‡ä»¤</h2><p>é›–ç„¶å‰›å‰›æœ‰æåˆ°å¯ä»¥æ‰‹å‹•ç·¨è¼¯ <code>HEAD</code> æª”æ¡ˆï¼Œä½†å»ºè­°ä½¿ç”¨ Git æä¾›çš„åº•å±¤æŒ‡ä»¤ <a href="https://git-scm.com/docs/git-symbolic-ref" target="_blank" rel="noopener"><code>git symbolic-ref</code></a> ä¾†ç·¨è¼¯å’Œè®€å– <code>HEAD</code> æª”æ¡ˆï¼š</p><p>è®€å– <code>HEAD</code> æª”æ¡ˆ (å¯Ÿçœ‹ç•¶å‰æ‰€åœ¨åˆ†æ”¯)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git symbolic-ref HEAD</span><br>refs/heads/master<br></code></pre></td></tr></table></figure><p>åŠ ä¸Š <code>--short</code> option æœƒåªé¡¯ç¤ºåˆ†æ”¯åç¨±ï¼Œä¸æœƒé¡¯ç¤ºåˆ†æ”¯ ref çš„è·¯å¾‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git symbolic-ref HEAD --short</span><br>master<br></code></pre></td></tr></table></figure><p>è¨­å®š <code>HEAD</code> æª”æ¡ˆ (ç­‰åŒæ–¼ <code>git checkout &lt;branch&gt;</code> )ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git symbolic-ref HEAD refs/heads/<span class="hljs-built_in">test</span></span><br><span class="hljs-meta">$</span><span class="bash"> cat .git/HEAD</span><br>ref: refs/heads/test<br></code></pre></td></tr></table></figure><p>ä¸€å®šè¦ç”¨ <code>refs/</code> ç‚ºé–‹é ­çš„ ref æ‰èƒ½è¨­å®š <code>HEAD</code> æª”æ¡ˆï¼Œè¦ä¸ç„¶æœƒå ±éŒ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git symbolic-ref HEAD <span class="hljs-built_in">test</span></span><br>fatal: Refusing to point HEAD outside of refs/<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References" target="_blank" rel="noopener">Git Internals - Git References | Pro Git, 2/e</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://git-scm.com/docs/gitglossary#def_symref" target="_blank" rel="noopener">Git - gitglossary Documentation</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šåˆ†æ”¯ refs</title>
      <link href="/article/git-branch-ref.html"/>
      <url>/article/git-branch-ref.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git åˆ†æ”¯åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿå»ºç«‹åˆ†æ”¯æ™‚åˆ°åº•å»ºç«‹äº†ä»€éº¼ï¼Ÿå¦‚ä½•ç´€éŒ„åˆ†æ”¯è¦æŒ‡å‘å“ªå€‹ commitï¼Ÿ</p><a id="more"></a><p>Git åƒè€ƒ (references æˆ– refs) éƒ½å­˜åœ¨ <code>.git/refs</code> ç›®éŒ„å…§ï¼Œç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/refs/</span><br>.git/refs/<br>â”œâ”€â”€ heads<br>â””â”€â”€ tags<br><br>2 directories, 0 files<br></code></pre></td></tr></table></figure><p>å› ç‚ºã€Œ<a href="https://titangene.github.io/tags/%E6%B7%B1%E5%85%A5-git/">æ·±å…¥ Git</a>ã€æ­¤æ–‡ç« ç³»åˆ—éƒ½æ˜¯æ¢è¨å¦‚ä½•ç”¨ Git çš„åº•å±¤æŒ‡ä»¤ä¾†æ¨¡æ“¬ Git é«˜éšæŒ‡ä»¤çš„æ“ä½œã€‚åœ¨ä¹‹å‰å»ºç«‹ <a href="https://titangene.github.io/article/git--blob-object.html">blob</a>ã€<a href="https://titangene.github.io/article/git-tree-object.html">tree</a> å’Œ <a href="https://titangene.github.io/article/git-commit-object.html">commit</a> ç‰©ä»¶æ™‚ï¼Œéƒ½é‚„æ²’å»ºç«‹ Git refsï¼Œæ‰€ä»¥ <code>.git/refs</code> ç›®éŒ„å…§çš„è³‡æ–™å¤¾ä¸­ï¼Œæ‰æ²’æœ‰å…¶ä»–ç´€éŒ„æŒ‡æ¨™çš„æª”æ¡ˆã€‚</p><p>è‹¥ç”¨å¹³å¸¸ä½¿ç”¨çš„é«˜éšæŒ‡ä»¤å°±æœƒå¹«ä½ å»ºç«‹å¾ˆå¤š Git refsï¼Œç›®éŒ„å¯èƒ½åƒä¸‹é¢é€™æ¨£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/refs/</span><br>.git/refs/<br>â”œâ”€â”€ heads<br>â”‚   â”œâ”€â”€ develop<br>â”‚   â””â”€â”€ master<br>â”œâ”€â”€ original<br>â”‚   â””â”€â”€ refs<br>â”‚       â””â”€â”€ heads<br>â”‚           â””â”€â”€ master<br>â”œâ”€â”€ remotes<br>â”‚   â””â”€â”€ origin<br>â”‚       â”œâ”€â”€ develop<br>â”‚       â””â”€â”€ master<br>â””â”€â”€ tags<br>    â””â”€â”€ v1.0<br></code></pre></td></tr></table></figure><p>é‚£æˆ‘å€‘å°±é–‹å§‹è©¦è‘—åˆ©ç”¨åº•å±¤æŒ‡ä»¤ä¾†æ‰‹å‹•å»ºç«‹ Git refs å§ï¼</p><h2 id="å»ºç«‹åˆ†æ”¯-ref"><a class="header-anchor" href="#å»ºç«‹åˆ†æ”¯-ref"></a>å»ºç«‹åˆ†æ”¯ ref</h2><p>è‹¥æ²’æœ‰ Git refsï¼Œå°±è¦åƒé€™æ¨£æŒ‡å®š commit çš„ SHA-1 å€¼æ‰èƒ½çœ‹åˆ°æ­·å²ç´€éŒ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --decorate 200c91</span><br>200c91c second commit<br>9079eb3 first commit<br></code></pre></td></tr></table></figure><p>è‹¥æœ‰ä¸€å€‹æŒ‡æ¨™æŒ‡å‘è©² commit çš„ SHA-1 å€¼å°±ä¸ç”¨å†è¨˜ä½äº†ï¼Œçœå¾ˆå¤šéº»ç…©ã€‚</p><p>è€Œ <code>master</code> å°±æ˜¯æœ€å¸¸è¦‹çš„æŒ‡æ¨™ï¼Œè¦å»ºç«‹åˆ†æ”¯çš„æŒ‡æ¨™å…¶å¯¦å¾ˆç°¡å–®ï¼Œåªè¦åœ¨ <code>.git/refs/heads</code> ç›®éŒ„å…§ï¼Œå»ºç«‹è©²åˆ†æ”¯åç¨±çš„æª”æ¡ˆï¼Œè€Œæª”æ¡ˆå…§å®¹å°±æ˜¯ä½ è¦æŒ‡å®šçš„ commit SHA-1 å€¼ï¼Œä¾‹å¦‚ï¼šæˆ‘è¦å°‡ <code>master</code> åˆ†æ”¯æŒ‡å‘ <code>200c91</code> é€™å€‹ commit ä¸Šï¼Œå¯åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å»ºç«‹åˆ†æ”¯ refï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> 200c91c4acb82e529fb8205ea786a17cc10008b6 &gt; .git/refs/heads/master</span><br></code></pre></td></tr></table></figure><p>å»ºç«‹åˆ†æ”¯å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨å‰›å‰›å»ºç«‹çš„ head ref (åˆ†æ”¯é ‚ç«¯çš„ commit çš„ named referenceï¼Œé€šå¸¸å„²å­˜åœ¨ <code>.git/refs/heads</code> ç›®éŒ„ä¸­) <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> ä¾†å¯Ÿçœ‹æ­·å²ç´€éŒ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --decorate master</span><br>200c91c (HEAD -&gt; master) second commit<br>9079eb3 first commit<br></code></pre></td></tr></table></figure><p>ä¸éï¼Œä¸å»ºè­°ä½ è‡ªå·±ç·¨è¼¯ ref æª”æ¡ˆã€‚Git æä¾› <code>git update-ref</code> é€™å€‹åº•å±¤æŒ‡ä»¤å¯è®“ä½ æ›´æ–° ref (å¯ä¸ç”¨è¼¸å…¥å®Œæ•´çš„ commit SHA-1 å€¼ï¼Œå› ç‚º Git æœƒè‡ªå‹•æ‰¾åˆ°å°æ‡‰çš„ Git ç‰©ä»¶)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-ref refs/heads/master 200c91</span><br></code></pre></td></tr></table></figure><p>å‰›å‰›å»ºç«‹çš„ head ref å°±æ˜¯åˆ†æ”¯ã€‚åˆ†æ”¯åªæ˜¯ä¸€å€‹æŒ‡æ¨™ (ä¸æ˜¯åƒæ¨¹çš„åˆ†å²”æ¨¹æ)ï¼Œç”¨ä¾†ç´€éŒ„æ­£åœ¨é–‹ç™¼çš„åˆ†æ”¯çš„æœ€æ–° commit (æˆ– head) çš„ SHA-1 å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/refs/heads/master</span><br>200c91c4acb82e529fb8205ea786a17cc10008b6<br></code></pre></td></tr></table></figure><p>è¦å¯Ÿçœ‹æ­¤ repo æœ‰å“ªäº› Git refï¼Œå¯ç”¨ Git æä¾›çš„ <code>git show-ref</code> é€™å€‹åº•å±¤æŒ‡ä»¤ä¾†å¯Ÿçœ‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git show-ref</span><br>200c91c4acb82e529fb8205ea786a17cc10008b6 refs/heads/master<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥ä½ åœ¨åŸ·è¡Œ <code>git branch &lt;branch&gt;</code> æŒ‡ä»¤æ™‚ï¼ŒGit åŸºæœ¬ä¸ŠæœƒåŸ·è¡Œ <code>git update-ref</code> æŒ‡ä»¤ï¼Œå°‡ä½ ç•¶å‰æ‰€åœ¨åˆ†æ”¯çš„æœ€å¾Œä¸€å€‹ commit çš„ SHA-1 æ–°å¢è‡³ä½ æƒ³å»ºç«‹çš„æ–° reference (ä¹Ÿå°±æ˜¯åˆ†æ”¯ ref)ã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References" target="_blank" rel="noopener">Git - Git References | Pro Git, 2/e</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefheadahead" target="_blank" rel="noopener">Git - gitglossary Documentation</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - commit ç‰©ä»¶</title>
      <link href="/article/git-commit-object.html"/>
      <url>/article/git-commit-object.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git å¦‚ä½•é‹ä½œï¼Œåœ¨åŸ·è¡Œ <code>git commit</code> æ™‚ï¼ŒGit æœƒå¦‚ä½•å»ºç«‹å’Œå„²å­˜ commit ç‰©ä»¶ã€‚</p><a id="more"></a><p>tree ç‰©ä»¶æœƒæŒ‡å‘è¿½è¹¤å°ˆæ¡ˆçš„ä¸åŒ snapshotï¼Œè‹¥è¦å–å¾—é€™äº› snapshot å°±æœƒé‡åˆ°ä¸€äº›å•é¡Œï¼š</p><ul><li>å¿…é ˆè¨˜å¾—é€™äº› tree ç‰©ä»¶çš„ SHA-1 å€¼ (éº»ç…©)</li><li>snapshot æ˜¯èª°å„²å­˜çš„</li><li>snapshot æ˜¯ä½•æ™‚å„²å­˜çš„</li><li>ç‚ºä½•è¦å„²å­˜ snapshot</li></ul><p>ä»¥ä¸Šé€™äº›å°±æ˜¯ commit ç‰©ä»¶ç‚ºä½ å„²å­˜çš„è³‡è¨Šã€‚</p><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>ä¸‹é¢æœƒä»¥é€™å€‹æª”æ¡ˆçµæ§‹ç‚ºç¯„ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mkdir demo</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> demo</span><br><span class="hljs-meta">$</span><span class="bash"> git init</span><br>Initialized empty Git repository in /home/titan/project/demo/.git/<br><span class="hljs-meta">$</span><span class="bash"> mkdir styles</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"index"</span> &gt; index.html</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"# README"</span> &gt; README.md</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"/* style */"</span> &gt; styles/main.css</span><br><br><span class="hljs-meta">$</span><span class="bash"> tree      </span><br>.<br>â”œâ”€â”€ index.html<br>â”œâ”€â”€ README.md<br>â””â”€â”€ styles<br>    â””â”€â”€ main.css<br><br>1 directories, 3 files<br></code></pre></td></tr></table></figure><h2 id="å°‡ç¬¬ä¸€å€‹æª”æ¡ˆåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"><a class="header-anchor" href="#å°‡ç¬¬ä¸€å€‹æª”æ¡ˆåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"></a>å°‡ç¬¬ä¸€å€‹æª”æ¡ˆåŠ å…¥ indexï¼Œä¸¦å»ºç«‹ tree ç‰©ä»¶</h2><p>å…ˆå°‡ <code>index.html</code> åŠ å…¥ indexï¼Œæ¥è‘—å°‡ index å¯«è‡³ tree ç‰©ä»¶ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat index.html</span><br>index<br><span class="hljs-meta">$</span><span class="bash"> git add index.html</span><br><span class="hljs-meta">$</span><span class="bash"> git write-tree</span><br>2dce93ea08ed9059be0a838c6bcf62b7b5c28907<br></code></pre></td></tr></table></figure><div class="info"><p>è¨»ï¼š<code>git add</code> çœ‹èµ·ä¾†åªæ˜¯å°‡æª”æ¡ˆåŠ å…¥ indexï¼Œä½†åœ¨ Git çš„é‹ä½œåŸç†å…¶å¯¦åšäº†å¾ˆå¤šæ­¥é©Ÿï¼Œè©³æƒ…å¯åƒé–±æˆ‘ä¹‹å‰å¯«çš„é€™å¹¾ç¯‡ï¼Œæœ¬ç¯‡å°±ä¸å†é‡è¤‡èªªæ˜é€™äº›å…§å®¹ï¼š</p><ul><li><a href="https://titangene.github.io/article/git--blob-object.html">æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - blob ç‰©ä»¶</a></li><li><a href="https://titangene.github.io/article/git-tree-object.html">æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - tree ç‰©ä»¶</a></li><li><a href="https://titangene.github.io/article/git-index.html">æ·±å…¥ Gitï¼šindex æª”æ¡ˆ</a></li></ul></div><p>æ­¤æ™‚åœ¨ <code>.git/object</code> ç›®éŒ„å…§ï¼Œå·²ç¶“æœ‰å…©å€‹ Git ç‰©ä»¶ï¼Œåˆ†åˆ¥ç‚ºï¼š</p><ul><li><code>9015a7</code> blob ç‰©ä»¶ï¼šé€é <code>index.html</code> æ­¤æª”æ¡ˆç”¢ç”Ÿçš„</li><li><code>2dce93</code> tree ç‰©ä»¶ï¼šå°æ‡‰åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ 2d<br>â”‚   â””â”€â”€ ce93ea08ed9059be0a838c6bcf62b7b5c28907<br>â”œâ”€â”€ 90<br>â”‚   â””â”€â”€ 15a7a32ca0681be64471d3ac2f8c1f24c1040d<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br>4 directories, 2 files<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 9015a7</span><br>blob<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 9015a7    </span><br>index<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 2dce93</span><br>tree<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 2dce93</span><br>100644 blob 9015a7a32ca0681be64471d3ac2f8c1f24c1040dindex.html<br></code></pre></td></tr></table></figure><h2 id="å»ºç«‹ç¬¬ä¸€å€‹-commit-ç‰©ä»¶"><a class="header-anchor" href="#å»ºç«‹ç¬¬ä¸€å€‹-commit-ç‰©ä»¶"></a>å»ºç«‹ç¬¬ä¸€å€‹ commit ç‰©ä»¶</h2><p>è¦å»ºç«‹ commit ç‰©ä»¶éœ€ä½¿ç”¨ <code>git commit-tree</code> æŒ‡ä»¤ï¼ŒæŒ‡å®šä¸€å€‹ tree ç‰©ä»¶çš„ SHA-1 å€¼ä»¥åŠå‰ä¸€å€‹ commit ç‰©ä»¶ (ç¬¬ä¸€å€‹ commit ä¸éœ€è¦)ã€‚</p><p>ä¸‹é¢ä½¿ç”¨å‰›å‰›å»ºç«‹çš„ <code>2dce93</code> çš„ tree ç‰©ä»¶ä¾†å»ºç«‹ commit ç‰©ä»¶ï¼Œä¸¦ä¸”æä¾› commit è¨Šæ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'first commit'</span> | git commit-tree 2dce93</span><br>9079eb3c74f72f1409dc47ef5d7c8763dbd128f6<br></code></pre></td></tr></table></figure><p>commit ç‰©ä»¶æœƒæ ¹æ“šå»ºç«‹çš„æ™‚é–“å’Œä½œè€…çš„è³‡è¨Šè€Œå»ºç«‹ä¸åŒçš„ SHA-1 å€¼ã€‚ä½¿ç”¨ <code>git cat-file</code> æŒ‡ä»¤å¯Ÿçœ‹å‰›å‰›å»ºç«‹çš„ commit ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 9079eb</span><br>commit<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 9079eb</span><br>tree 2dce93ea08ed9059be0a838c6bcf62b7b5c28907<br>author titangene &lt;titangene.tw@gmail.com&gt; 1584281436 +0800<br>committer titangene &lt;titangene.tw@gmail.com&gt; 1584281436 +0800<br><br>first commit<br></code></pre></td></tr></table></figure><p>commit ç‰©ä»¶çš„æ ¼å¼åŒ…å«ä»¥ä¸‹å…§å®¹ï¼š</p><ul><li>å°ˆæ¡ˆ snapshot çš„é ‚å±¤ treeï¼šä¹Ÿå°±æ˜¯å°ˆæ¡ˆæ ¹ç›®éŒ„å°æ‡‰çš„ tree ç‰©ä»¶</li><li>author/committer è¨Šæ¯ï¼šä½¿ç”¨ <code>user.name</code> å’Œ <code>user.email</code> çš„é…ç½®å’Œ timestamp<ul><li>author å°±æ˜¯ç·¨è¼¯æª”æ¡ˆå…§å®¹çš„äºº</li><li>committer å°±æ˜¯ commit çš„äºº</li><li>é€šå¸¸ author å’Œ committer æœƒæ˜¯åŒä¸€å€‹äºº</li><li>è‹¥é€é email ä¾†ç™¼é€ patchï¼Œå°±å¯èƒ½ç™¼ç”Ÿ author å’Œ committer æ˜¯ä¸åŒäºº <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li></ul></li><li>ä¸€å€‹ç©ºè¡Œ (blank line)</li><li>commit è¨Šæ¯</li></ul><h3 id="å°‡å¦å¤–å…©å€‹æª”æ¡ˆåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"><a class="header-anchor" href="#å°‡å¦å¤–å…©å€‹æª”æ¡ˆåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"></a>å°‡å¦å¤–å…©å€‹æª”æ¡ˆåŠ å…¥ indexï¼Œä¸¦å»ºç«‹ tree ç‰©ä»¶</h3><p>æ¥è‘—å°‡ <code>README.md</code> å’Œ <code>styles/main.css</code> åŠ å…¥ indexï¼Œæ¥è‘—å†å°‡ index å¯«è‡³ tree ç‰©ä»¶ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat README.md</span><br><span class="hljs-meta">#</span><span class="bash"> README</span><br><span class="hljs-meta">$</span><span class="bash"> git add README.md</span><br><br><span class="hljs-meta">$</span><span class="bash"> cat styles/main.css</span><br>/* style */<br><span class="hljs-meta">$</span><span class="bash"> git add styles/main.css</span><br><br><span class="hljs-meta">$</span><span class="bash"> git write-tree</span><br>563b8123edfdfd28aeb8bd6cde392a4be9adba2d<br></code></pre></td></tr></table></figure><p>æ­¤æ™‚åœ¨ <code>.git/object</code> ç›®éŒ„å…§ï¼Œå¤šäº† 4 å€‹ Git ç‰©ä»¶ï¼Œåˆ†åˆ¥ç‚ºï¼š</p><ul><li><code>7e5960</code> blob ç‰©ä»¶ï¼šé€é <code>README.md</code> æ­¤æª”æ¡ˆç”¢ç”Ÿçš„</li><li><code>202479</code> blob ç‰©ä»¶ï¼šé€é <code>styles/main.css</code> æ­¤æª”æ¡ˆç”¢ç”Ÿçš„</li><li><code>0bb8d2</code> tree ç‰©ä»¶ï¼šå°æ‡‰åˆ° <code>styles</code> ç›®éŒ„</li><li><code>563b81</code> tree ç‰©ä»¶ï¼šå°æ‡‰åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ 0b<br>â”‚   â””â”€â”€ b8d2a25db76aec1c38bc948ba579959d443790<br>â”œâ”€â”€ 20<br>â”‚   â””â”€â”€ 2479c888bf25f40895164be873c63f556a1b76<br>â”œâ”€â”€ 2d<br>â”‚   â””â”€â”€ ce93ea08ed9059be0a838c6bcf62b7b5c28907<br>â”œâ”€â”€ 56<br>â”‚   â””â”€â”€ 3b8123edfdfd28aeb8bd6cde392a4be9adba2d<br>â”œâ”€â”€ 7e<br>â”‚   â””â”€â”€ 59600739c96546163833214c36459e324bad0a<br>â”œâ”€â”€ 90<br>â”‚   â”œâ”€â”€ 15a7a32ca0681be64471d3ac2f8c1f24c1040d<br>â”‚   â””â”€â”€ 79eb3c74f72f1409dc47ef5d7c8763dbd128f6<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br>8 directories, 7 files<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 7e5960</span><br>blob<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 7e5960</span><br><span class="hljs-meta">#</span><span class="bash"> README</span><br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 202479</span><br>blob<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 202479</span><br>/* style */<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 0bb8d2</span><br>tree<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 0bb8d2</span><br>100644 blob 202479c888bf25f40895164be873c63f556a1b76main.css<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 563b81</span><br>tree<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 563b81</span><br>100644 blob 7e59600739c96546163833214c36459e324bad0aREADME.md<br>100644 blob 9015a7a32ca0681be64471d3ac2f8c1f24c1040dindex.html<br>040000 tree 0bb8d2a25db76aec1c38bc948ba579959d443790styles<br></code></pre></td></tr></table></figure><h2 id="å»ºç«‹ç¬¬äºŒå€‹-commit-ç‰©ä»¶"><a class="header-anchor" href="#å»ºç«‹ç¬¬äºŒå€‹-commit-ç‰©ä»¶"></a>å»ºç«‹ç¬¬äºŒå€‹ commit ç‰©ä»¶</h2><p>æ¥è‘—ä½¿ç”¨å‰›å‰›å»ºç«‹çš„ <code>563b81</code> çš„ tree ç‰©ä»¶ä¾†å»ºç«‹ç¬¬äºŒå€‹ commitï¼Œä¸¦ä¸”æä¾› commit è¨Šæ¯å’ŒæŒ‡å®šå‰ä¸€å€‹ commit (ä¹Ÿå°±æ˜¯ parent commit)ï¼š</p><ul><li><code>-p &lt;parent&gt;</code>ï¼šæŒ‡å®š parent commit çš„ IDï¼Œåœ¨æ­¤ç¯„ä¾‹æ˜¯ç¬¬ä¸€å€‹ commit ç‰©ä»¶çš„ SHA-1 å€¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'second commit'</span> | git commit-tree 563b81 -p 9079eb</span><br>200c91c4acb82e529fb8205ea786a17cc10008b6<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 200c91</span><br>commit<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 200c91</span><br>tree 563b8123edfdfd28aeb8bd6cde392a4be9adba2d<br>parent 9079eb3c74f72f1409dc47ef5d7c8763dbd128f6<br>author titangene &lt;titangene.tw@gmail.com&gt; 1584285257 +0800<br>committer titangene &lt;titangene.tw@gmail.com&gt; 1584285257 +0800<br><br>second commit<br></code></pre></td></tr></table></figure><h2 id="ç·¨è¼¯æª”æ¡ˆå¾ŒåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"><a class="header-anchor" href="#ç·¨è¼¯æª”æ¡ˆå¾ŒåŠ å…¥-indexï¼Œä¸¦å»ºç«‹-tree-ç‰©ä»¶"></a>ç·¨è¼¯æª”æ¡ˆå¾ŒåŠ å…¥ indexï¼Œä¸¦å»ºç«‹ tree ç‰©ä»¶</h2><p>æ¥è‘—ç·¨è¼¯ <code>index.html</code> å¾Œï¼Œå°‡è®Šæ›´åŠ å…¥ indexï¼Œæ¥è‘—å†å°‡ index å¯«è‡³ tree ç‰©ä»¶ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat index.html</span><br>index<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'index v2'</span> &gt; index.html</span><br><span class="hljs-meta">$</span><span class="bash"> git add index.html</span><br><br><span class="hljs-meta">$</span><span class="bash"> git write-tree</span><br>bdaf4c7dc919738d7d59a27ef2ef3d5ff3107ae6<br></code></pre></td></tr></table></figure><p>æ­¤æ™‚åœ¨ <code>.git/object</code> ç›®éŒ„å…§ï¼Œå¤šäº† 2 å€‹ Git ç‰©ä»¶ï¼Œåˆ†åˆ¥ç‚ºï¼š</p><ul><li><code>b2e53d</code> blob ç‰©ä»¶ï¼šé€é <code>index.html</code> æ­¤æª”æ¡ˆç”¢ç”Ÿçš„</li><li><code>bdaf4c</code> tree ç‰©ä»¶ï¼šå°æ‡‰åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t b2e53d</span><br>blob<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p b2e53d</span><br>index v2<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t bdaf4c</span><br>tree<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p bdaf4c</span><br>100644 blob 7e59600739c96546163833214c36459e324bad0a    README.md<br>100644 blob b2e53d55f22bdb2eafcdfaff9b1b37829309ae50    index.html<br>040000 tree 0bb8d2a25db76aec1c38bc948ba579959d443790    styles<br></code></pre></td></tr></table></figure><h2 id="å»ºç«‹ç¬¬ä¸‰å€‹-commit-ç‰©ä»¶"><a class="header-anchor" href="#å»ºç«‹ç¬¬ä¸‰å€‹-commit-ç‰©ä»¶"></a>å»ºç«‹ç¬¬ä¸‰å€‹ commit ç‰©ä»¶</h2><p>æ¥è‘—ä½¿ç”¨å‰›å‰›å»ºç«‹çš„ <code>bdaf4c</code> çš„ tree ç‰©ä»¶ä¾†å»ºç«‹ç¬¬ä¸‰å€‹ commitï¼Œä¸¦ä¸”æä¾› commit è¨Šæ¯å’ŒæŒ‡å®šå‰ä¸€å€‹ commit (ä¹Ÿå°±æ˜¯ parent commit)ï¼š</p><ul><li><code>-p &lt;parent&gt;</code>ï¼šæŒ‡å®š parent commit çš„ IDï¼Œåœ¨æ­¤ç¯„ä¾‹æ˜¯ç¬¬ä¸€å€‹ commit ç‰©ä»¶çš„ SHA-1 å€¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'third commit'</span> | git commit-tree bdaf4c -p 200c91</span><br>64fd0be6f2b66bc48d26c7c77cab62fab1477072<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 64fd0b</span><br>commit<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 64fd0b</span><br>tree bdaf4c7dc919738d7d59a27ef2ef3d5ff3107ae6<br>parent 200c91c4acb82e529fb8205ea786a17cc10008b6<br>author titangene &lt;titangene.tw@gmail.com&gt; 1584892171 +0800<br>committer titangene &lt;titangene.tw@gmail.com&gt; 1584892171 +0800<br><br>third commit<br></code></pre></td></tr></table></figure><h2 id="å¯Ÿçœ‹æ­·å²ç´€éŒ„"><a class="header-anchor" href="#å¯Ÿçœ‹æ­·å²ç´€éŒ„"></a>å¯Ÿçœ‹æ­·å²ç´€éŒ„</h2><p>ä¸éåˆ°ç›®å‰ç‚ºæ­¢ï¼Œéƒ½é‚„ç„¡æ³•é€é <code>git log</code> æŒ‡ä»¤ä¾†å¯Ÿçœ‹å‰›å‰›å»ºç«‹çš„ commit æ­·å²ç´€éŒ„ï¼Œé€™æ˜¯å› ç‚ºæˆ‘å€‘å¾ä¸€é–‹å§‹å°±æ˜¯ä½¿ç”¨åº•å±¤æŒ‡ä»¤ (plumbing æŒ‡ä»¤) ä¾†æ¨¡æ“¬å¹³å¸¸æˆ‘å€‘åœ¨ç”¨çš„æŒ‡ä»¤ (porcelain æŒ‡ä»¤)ï¼Œè€Œåœ¨éç¨‹ä¸­éƒ½æ²’æœ‰å»ºç«‹ <code>master</code> åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span></span><br>fatal: your current branch 'master' does not have any commits yet<br></code></pre></td></tr></table></figure><p>ä½†æˆ‘å€‘å¯åœ¨ <code>git log</code> æŒ‡ä»¤ä¸Šï¼Œå¦å¤–æŒ‡å®šæœ€å¾Œä¸€å€‹å»ºç«‹çš„ commit ç‰©ä»¶ï¼Œé€™æ¨£å°±èƒ½çœ‹åˆ°å‰›å‰›å»ºç«‹çš„ Git æ­·å²ç´€éŒ„äº†ï¼š</p><ul><li><code>--stat</code>ï¼šé¡¯ç¤ºæ¯å€‹ commit çš„ diff è³‡è¨Š (diffstat)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --<span class="hljs-built_in">stat</span> 64fd0b</span><br>commit 64fd0be6f2b66bc48d26c7c77cab62fab1477072<br>Author: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Mar 22 23:49:31 2020 +0800<br><br>    third commit<br><br> index.html | 2 +-<br> 1 file changed, 1 insertion(+), 1 deletion(-)<br><br>commit 200c91c4acb82e529fb8205ea786a17cc10008b6 (HEAD -&gt; master)<br>Author: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Mar 15 23:14:17 2020 +0800<br><br>    second commit<br><br> README.md       | 1 +<br> styles/main.css | 1 +<br> 2 files changed, 2 insertions(+)<br><br>commit 9079eb3c74f72f1409dc47ef5d7c8763dbd128f6<br>Author: titangene &lt;titangene.tw@gmail.com&gt;<br>Date:   Sun Mar 15 22:10:36 2020 +0800<br><br>    first commit<br><br> index.html | 1 +<br> 1 file changed, 1 insertion(+)<br></code></pre></td></tr></table></figure><h2 id="Git-ç‰©ä»¶é—œè¯åœ–"><a class="header-anchor" href="#Git-ç‰©ä»¶é—œè¯åœ–"></a>Git ç‰©ä»¶é—œè¯åœ–</h2><p>ä»¥ä¸Šé€™äº›å°±æ˜¯ Git åœ¨åŸ·è¡Œ <code>git add</code> å’Œ <code>git commit</code> æŒ‡ä»¤æ™‚æ‰€åšçš„äº‹æƒ…ï¼š</p><ol><li>å„²å­˜å·²è®Šæ›´æª”æ¡ˆçš„ blob ç‰©ä»¶</li><li>æ›´æ–° index</li><li>åˆ©ç”¨ index å»ºç«‹ tree ç‰©ä»¶</li><li>å»ºç«‹æŒ‡å‘é ‚å±¤ tree å’Œ parent commit çš„ commit ç‰©ä»¶</li></ol><p>é€™äº›ç‰©ä»¶éƒ½å­˜åœ¨ <code>.git/objects</code> ç›®éŒ„å…§ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find .git/objects -<span class="hljs-built_in">type</span> f</span><br>.git/objects/2d/ce93ea08ed9059be0a838c6bcf62b7b5c28907 # Tree: ./ dir v1<br>.git/objects/20/0c91c4acb82e529fb8205ea786a17cc10008b6 # Commit: second commit<br>.git/objects/20/2479c888bf25f40895164be873c63f556a1b76 # Blob: main.css<br>.git/objects/7e/59600739c96546163833214c36459e324bad0a # Blob: README.md<br>.git/objects/0b/b8d2a25db76aec1c38bc948ba579959d443790 # Tree: styles dir<br>.git/objects/90/79eb3c74f72f1409dc47ef5d7c8763dbd128f6 # Commit: first commit<br>.git/objects/90/15a7a32ca0681be64471d3ac2f8c1f24c1040d # Blob: index.html<br>.git/objects/56/3b8123edfdfd28aeb8bd6cde392a4be9adba2d # Tree: ./ dir v2<br></code></pre></td></tr></table></figure><p>ä¸‹åœ–æ˜¯é€™äº› Git ç‰©ä»¶çš„é—œè¯åœ–ï¼š</p><p><img src="../images/git-commit-object/object-DAG.png" alt=""></p><div class="info"><p>é›–ç„¶çœ‹èµ·ä¾†å¾ˆåƒç›®éŒ„å’Œå­ç›®éŒ„çš„é—œä¿‚ï¼Œä½†åœ¨ Git ä¸­æ˜¯æ²’æœ‰å±¤ç´šé—œä¿‚çš„ï¼Œcommit ç‰©ä»¶å½¢æˆ<a href="https://zh.m.wikipedia.org/wiki/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE" target="_blank" rel="noopener">æœ‰å‘ç„¡ç’°åœ– (directed acyclic graphï¼ŒDAG)</a>ï¼Œcommit ç‰©ä»¶æœ‰ parent commit (æœ‰å‘)ï¼Œä¸¦ä¸” commit ç‰©ä»¶çš„åœ–æ˜¯ç„¡ç’°çš„ (å¾é–‹å§‹åˆ°çµæŸä¸æœƒæ˜¯åŒä¸€å€‹ç‰©ä»¶) <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ã€‚</p></div><p>è³‡æ–™ä¾†æºï¼š<a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Git-Objects#r_tree_objects" target="_blank" rel="noopener">10.2 Git Internals - Git Objects | Pro Git, 2/e</a></p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History" target="_blank" rel="noopener">Git - Viewing the Commit History</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project#_git_am" target="_blank" rel="noopener">Git - Maintaining a Project</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefDAGaDAG" target="_blank" rel="noopener">Git - gitglossary Documentation</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šindex æª”æ¡ˆ</title>
      <link href="/article/git-index.html"/>
      <url>/article/git-index.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p><code>git add</code> æœƒå°‡æª”æ¡ˆåŠ å…¥ indexï¼Œç©¶ç«Ÿ index åˆ°åº•å­˜åœ¨å“ªï¼Ÿå…¶å¯¦ï¼Œé€šå¸¸æœƒæ”¾åœ¨ <code>.git/index</code>ï¼Œæœ¬ç¯‡å°‡æ·±å…¥æ¢è¨æ­¤æª”æ¡ˆå¼å¦‚ä½•ç´€éŒ„æœ‰å“ªäº›æª”æ¡ˆè¢«åŠ å…¥ indexã€‚</p><a id="more"></a><p>index æ˜¯ä¸€å€‹äºŒé€²ä½æª”æ¡ˆï¼Œé€šå¸¸æ”¾åœ¨ <code>.git/index</code>ï¼Œå…¶ä¸­åŒ…å«è·¯å¾‘åç¨±çš„æ’åºåˆ—è¡¨ã€æ¯å€‹è·¯å¾‘åç¨±çš„æ¬Šé™å’Œ blob ç‰©ä»¶çš„ SHA-1 å€¼ã€‚è€Œ <code>git ls-files</code> æŒ‡ä»¤å¯é¡¯ç¤º index çš„å…§å®¹ã€‚</p><h2 id="é€é-git-ls-files-ä¾†èªè­˜-index"><a class="header-anchor" href="#é€é-git-ls-files-ä¾†èªè­˜-index"></a>é€é <code>git ls-files</code> ä¾†èªè­˜ index</h2><p>ä½¿ç”¨ <code>git ls-files</code> åº•å±¤æŒ‡ä»¤ä¾†å¯Ÿçœ‹ index æª”æ¡ˆï¼Œä½†æŒ‡ä»¤é è¨­åªæœƒé¡¯ç¤ºæœ‰å“ªäº›æª”åï¼Œæ‰€ä»¥åŠ ä¸Šä¸€äº›é¸é …ï¼š</p><ul><li><code>-c</code>ï¼Œ<code>--cached</code>ï¼šé è¨­é¸é …ï¼Œåªåœ¨è¼¸å‡ºé¡¯ç¤ºå·²æš«å­˜çš„æª”æ¡ˆ</li><li><code>-s</code>ï¼Œ<code>--stage</code>ï¼šåœ¨è¼¸å‡ºä¸­é¡¯ç¤º stage å…§å®¹çš„ mode bitã€ç‰©ä»¶åç¨±å’Œ stage number</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git ls-files -s</span><br>100644 9015a7a32ca0681be64471d3ac2f8c1f24c1040d 0index.html<br></code></pre></td></tr></table></figure><p>å¾ä¸Šé¢è¼¸å‡ºå¯å¾—çŸ¥ï¼š</p><ul><li><code>index.html</code> çš„ file mode bits ç‚º <code>100644</code>ï¼Œä»£è¡¨æ˜¯ regular non-executable file</li><li><code>index.html</code> çš„ blob ç‰©ä»¶åç¨±ç‚º <code>9015a7...</code></li><li>stage number åœ¨åˆä½µè¡çªè™•ç†æ™‚æœƒç”¨åˆ°</li><li>æª”æ¡ˆåç¨±</li></ul><p>file mode bits (6 ä½æ•¸) æ˜¯æª”æ¡ˆæ¬Šé™çš„å…«é€²ä½è¡¨ç¤ºæ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥äºŒé€²ä½çš„æ–¹å¼è®€å–ã€‚é€™é‚Šçš„ <code>100644</code> ( <code>0b1000000110100100</code> ) ä»£è¡¨æª”æ¡ˆæ˜¯ regular non-executable fileï¼Œæª”æ¡ˆæ“æœ‰è€…å¯ä»¥è®€å¯«ï¼Œæª”æ¡ˆç¾¤çµ„ä¸­çš„å…¶ä»–ä½¿ç”¨è€…å¯ä»¥è®€å–ï¼Œè€Œå…¶ä»–ä½¿ç”¨è€…ä¹Ÿå¯ä»¥è®€å–ã€‚</p><p>é€™é¡ä¼¼ Unix çš„æª”æ¡ˆå±¬æ€§ <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œç”¨ä¾†è¡¨ç¤ºè©²æª”æ¡ˆçš„é¡å‹ (æª”æ¡ˆã€ç›®éŒ„ã€link) å’Œæ¬Šé™ (å¯è®€ã€å¯å¯«ã€å¯åŸ·è¡Œ)ï¼Œä»¥ä¸‹æ˜¯å¸¸è¦‹çš„ (ç”¨äºŒé€²ä½å’Œå…«é€²ä½è¡¨ç¤º) <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup> <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ï¼š</p><ul><li><code>0100000000000000</code> ( <code>040000</code> )ï¼šDirectory</li><li><code>1000000110100100</code> ( <code>100644</code> )ï¼šRegular non-executable file</li><li><code>1000000110110100</code> ( <code>100664</code> )ï¼šRegular non-executable group-writeable file</li><li><code>1000000111101101</code> ( <code>100755</code> )ï¼šRegular executable file</li><li><code>1010000000000000</code> ( <code>120000</code> )ï¼šSymbolic link</li><li><code>1110000000000000</code> ( <code>160000</code> )ï¼šGitlink</li></ul><div class="info"><p>è¨»ï¼šäºŒé€²ä½è¡¨ç¤ºæ³• <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p><ul><li>å‰ 4-bitï¼šç‰©ä»¶ type<ul><li><code>1000</code>ï¼šregular file</li><li><code>1010</code>ï¼šsymbolic link</li><li><code>1110</code>ï¼šgitlink</li></ul></li><li>ä¸­é–“ 3-bitï¼šæ²’æœ‰ä½¿ç”¨</li><li>å¾Œé¢ 9-bitï¼šunix æ¬Šé™<ul><li>regular file åªèƒ½ç”¨ <code>0755</code> å’Œ <code>0644</code></li><li>symbolic link å’Œ gitlink åœ¨æ­¤ field ä¸­çš„å€¼ç‚º <code>0</code></li></ul></li></ul><p>blob ç‰©ä»¶åªå° <code>100644</code>ã€<code>100664</code> å’Œ <code>100755</code> é€™ä¸‰ç¨® mode æœ‰æ•ˆã€‚</p></div><p>åœ¨ <code>git add</code> æŒ‡ä»¤æœŸé–“æ²’æœ‰çœŸæ­£ä½¿ç”¨ä¸åŒçš„ stage numberï¼Œç”¨æ–¼è™•ç†åˆä½µè¡çªï¼š</p><ul><li><code>0</code>ï¼šnormalï¼Œç„¡è¡çªï¼Œä¸€åˆ‡æ­£å¸¸</li><li><code>1</code>ï¼šbaseï¼Œå…±åŒ ancestor ç‰ˆæœ¬</li><li><code>2</code>ï¼šoursï¼Œç›®æ¨™ ( <code>HEAD</code> ) ç‰ˆæœ¬</li><li><code>3</code>ï¼štherisï¼Œè¢«åˆä½µçš„ç‰ˆæœ¬</li></ul><h2 id="git-index-å…§éƒ¨"><a class="header-anchor" href="#git-index-å…§éƒ¨"></a><code>.git/index</code> å…§éƒ¨</h2><p>å° Git index æª”æ¡ˆ <code>.git/index</code> é€²è¡Œä½å…ƒè½‰å„² (bits dump)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> xxd -b -c 4 .git/index</span><br>00000000: 01000100 01001001 01010010 01000011  DIRC<br>00000004: 00000000 00000000 00000000 00000010  ....<br>00000008: 00000000 00000000 00000000 00000001  ....<br>0000000c: 01011110 01011011 11000111 10010001  ^[..<br>00000010: 00101111 00001011 00100011 00101010  /.#*<br>00000014: 01011110 01011011 11000111 10010001  ^[..<br>00000018: 00100111 00101111 10101000 11100000  '/..<br>0000001c: 00000000 00000000 00001000 00000100  ....<br>00000020: 00000000 10111000 00001101 01001111  ...O<br>00000024: 00000000 00000000 10000001 10100100  ....<br>00000028: 00000000 00000000 00000011 11101000  ....<br>0000002c: 00000000 00000000 00000011 11101000  ....<br>00000030: 00000000 00000000 00000000 00001011  ....<br>00000034: 10111011 11011110 11111001 00101010  ...*<br>00000038: 11101111 00001111 11101100 11111000  ....<br>0000003c: 00100111 00000100 01110000 10100110  '.p.<br>00000040: 00011111 11101000 10010101 00101010  ...*<br>00000044: 01101010 11111101 01011011 10011010  j.[.<br>00000048: 00000000 00001010 01101001 01101110  ..in<br>0000004c: 01100100 01100101 01111000 00101110  dex.<br>00000050: 01101000 01110100 01101101 01101100  html<br>00000054: 00000000 00000000 00000000 00000000  ....<br>00000058: 00000000 00000000 00000000 00000000  ....<br>0000005c: 00101000 01000001 00101101 00100001  (A-!<br>00000060: 00011010 10000111 01011011 00010011  ..[.<br>00000064: 01101111 01010010 10010111 01110010  oR.r<br>00000068: 11001010 01001100 01110011 11110011  .Ls.<br>0000006c: 10110011 11001100 00110011 00001000  ..3.<br></code></pre></td></tr></table></figure><p>æˆ–ä»¥åå…­é€²ä½è½‰å„² (hex dump) ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> xxd .git/index     </span><br>00000000: 4449 5243 0000 0002 0000 0001 5e5b c791  DIRC........^[..<br>00000010: 2f0b 232a 5e5b c791 272f a8e0 0000 0804  /.#*^[..'/......<br>00000020: 00b8 0d4f 0000 81a4 0000 03e8 0000 03e8  ...O............<br>00000030: 0000 000b bbde f92a ef0f ecf8 2704 70a6  .......*....'.p.<br>00000040: 1fe8 952a 6afd 5b9a 000a 696e 6465 782e  ...*j.[...index.<br>00000050: 6874 6d6c 0000 0000 0000 0000 2841 2d21  html........(A-!<br>00000060: 1a87 5b13 6f52 9772 ca4c 73f3 b3cc 3308  ..[.oR.r.Ls...3.<br></code></pre></td></tr></table></figure><p>index æª”æ¡ˆåŒ…å«ä»¥ä¸‹è³‡è¨Šï¼š</p><ul><li>12-byte header</li><li>å¤šå€‹æ’åºçš„ index entries</li><li>Extensionsï¼Œå®ƒå€‘é€šéç°½å (signature) ä¾†è­˜åˆ¥</li><li>æ­¤ checksum å’Œä¹‹å‰çš„ index æª”æ¡ˆå…§å®¹çš„ 160-bit SHA-1</li></ul><h3 id="Header"><a class="header-anchor" href="#Header"></a>Header</h3><p>index ä»¥ 12-byte çš„ header é–‹é ­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 4449 5243 0000 0002 0000 0001<br></code></pre></td></tr></table></figure><p>ç”±ä»£è¡¨ â€œDirCacheâ€ çš„ 4-btye ç°½å â€œDIRCâ€ ( <code>0x44495243</code> ) çµ„æˆ<br>4-byte æ˜¯ Git index æ ¼å¼çš„ç•¶å‰ç‰ˆæœ¬è™Ÿ â€œ2â€ ( <code>0x00000002</code> )<br>32-bit çš„ index entries â€œ1â€ ( <code>0x00000001</code> )</p><h3 id="Index-Entry"><a class="header-anchor" href="#Index-Entry"></a>Index Entry</h3><p>åœ¨ <code>index.html</code> æ­¤ index entry ä¸­åŒ…æ‹¬ï¼š</p><h4 id="64-bit-ctime"><a class="header-anchor" href="#64-bit-ctime"></a>64-bit ctime</h4><p>ctime æ˜¯ change timeï¼Œä¹Ÿå°±æ˜¯æª”æ¡ˆçš„ metadata åœ¨æœ€å¾Œä¿®æ”¹çš„æ™‚é–“</p><ul><li>å‰é¢ 32-bitï¼šctime seconds</li><li>å¾Œé¢ 32-bitï¼šctime nanosecond fractions</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 5e5b c791 2f0b 232a<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> çš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'ctime: %z (%Z)'</span> index.html</span><br>ctime: 2020-03-01 22:32:49.789259050 +0800 (1583073169)<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 1583073169</span><br><span class="hljs-meta">5e5bc791%</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 789259050</span><br><span class="hljs-meta">2f0b232a%</span><br></code></pre></td></tr></table></figure><h4 id="64-bit-mtime"><a class="header-anchor" href="#64-bit-mtime"></a>64-bit mtime</h4><p>mtime æ˜¯ modify timeï¼Œä¹Ÿå°±æ˜¯æª”æ¡ˆçš„è³‡æ–™åœ¨æœ€å¾Œä¿®æ”¹çš„æ™‚é–“</p><ul><li>å‰é¢ 32-bitï¼šmtime seconds</li><li>å¾Œé¢ 32-bitï¼šmtime nanosecond fractions</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 5e5b c791 272f a8e0<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> çš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'mtime: %y (%Y)'</span> index.html</span><br>mtime: 2020-03-01 22:32:49.657434848 +0800 (1583073169)<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 1583073169</span><br><span class="hljs-meta">5e5bc791%</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 657434848</span><br><span class="hljs-meta">272fa8e0%</span><br></code></pre></td></tr></table></figure><h4 id="32-bit-dev"><a class="header-anchor" href="#32-bit-dev"></a>32-bit dev</h4><p>æª”æ¡ˆæ‰€åœ¨çš„è£ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 0804<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆæ‰€åœ¨çš„è£ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%D'</span> index.html</span><br>804<br></code></pre></td></tr></table></figure><h4 id="32-bit-ino"><a class="header-anchor" href="#32-bit-ino"></a>32-bit ino</h4><p>æª”æ¡ˆ inode numberï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 00b8 0d4f<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆæ‰€åœ¨çš„è£ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%i'</span> index.html</span><br>12062031<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 12062031</span><br><span class="hljs-meta">b80d4f%</span><br></code></pre></td></tr></table></figure><h4 id="32-bit-mode"><a class="header-anchor" href="#32-bit-mode"></a>32-bit mode</h4><p>æª”æ¡ˆæ¬Šé™ä»¥åå…­é€²ä½è¡¨ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 81a4<br>bin: 00000000 00000000 10000001 10100100<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆçš„æ¬Šé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%f'</span> index.html</span><br>81a4<br></code></pre></td></tr></table></figure><h4 id="32-bit-uid"><a class="header-anchor" href="#32-bit-uid"></a>32-bit uid</h4><p>ç•¶å‰ä½¿ç”¨è€…çš„ user identifier</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 03e8<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆçš„ uidï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%u'</span> index.html</span><br>1000<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 1000</span><br><span class="hljs-meta">3e8%</span><br></code></pre></td></tr></table></figure><h4 id="32-bit-gid"><a class="header-anchor" href="#32-bit-gid"></a>32-bit gid</h4><p>ç•¶å‰ä½¿ç”¨è€…çš„ group identifier</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 03e8<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆçš„ gidï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%g'</span> index.html</span><br>1000<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 1000</span><br><span class="hljs-meta">3e8%</span><br></code></pre></td></tr></table></figure><h4 id="32-bit-file-size"><a class="header-anchor" href="#32-bit-file-size"></a>32-bit file size</h4><p>æª”æ¡ˆå¤§å°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 000b<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>stat</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆçš„å¤§å°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">stat</span> -c <span class="hljs-string">'%s'</span> index.html</span><br>11<br></code></pre></td></tr></table></figure><p>ç„¶å¾Œç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%x'</span> 11</span><br><span class="hljs-meta">b%</span><br></code></pre></td></tr></table></figure><h4 id="160-bit-SHA-1-Object-ID"><a class="header-anchor" href="#160-bit-SHA-1-Object-ID"></a>160-bit SHA-1 Object ID</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: bbde f92a ef0f ecf8 2704<br>     70a6 1fe8 952a 6afd 5b9a<br></code></pre></td></tr></table></figure><p>å¯ç”¨ <code>git hash-object</code> æŒ‡ä»¤ä¾†å–å¾— <code>index.html</code> æª”æ¡ˆçš„ blob ç‰©ä»¶ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object index.html</span><br>bbdef92aef0fecf8270470a61fe8952a6afd5b9a<br></code></pre></td></tr></table></figure><h4 id="16-bit-â€˜flagsâ€™-field"><a class="header-anchor" href="#16-bit-â€˜flagsâ€™-field"></a>16-bit â€˜flagsâ€™ field</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 000a<br></code></pre></td></tr></table></figure><p>åˆ†ç‚ºï¼š</p><ul><li>1-bitï¼šassume-valid flag</li><li>1-bitï¼šextended flag (åœ¨ç‰ˆæœ¬ 2 ä¸­å¿…é ˆç‚ºé›¶)</li><li>2-bitï¼šstage (åˆä½µæœŸé–“)</li><li>å¦‚æœ length å°æ–¼ 0xFFFï¼Œå‰‡ç‚º 12-bit name lengthï¼›å¦å‰‡ï¼Œå°‡ 0xFFF å„²å­˜åœ¨æ­¤ field ä¸­</li></ul><h4 id="16-bit-field"><a class="header-anchor" href="#16-bit-field"></a>16-bit field</h4><p>(ç‰ˆæœ¬ 3 æˆ–æ›´æ–°ç‰ˆ) ç•¶å‰é¢çš„ 16-bit field çš„ â€œextended flagâ€ ç‚º 1 æ™‚é©ç”¨</p><ul><li>1-bitï¼šç‚ºæœªä¾†ä¿ç•™</li><li>1-bitï¼šskip-worktree flag (ç”¨æ–¼ sparse checkout)</li><li>1-bitï¼šintent-to-add flag (ç”¨æ–¼ <code>git add -N</code> )</li><li>13-bitï¼šæœªä½¿ç”¨ï¼Œå¿…é ˆç‚ºé›¶</li></ul><p>å¿½ç•¥æ­¤éƒ¨ä»½ï¼Œå› ç‚ºæˆ‘ç›®å‰ä½¿ç”¨çš„ Git çš„ç‰ˆæœ¬ç‚º 2ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git --version</span><br>git version 2.17.1<br></code></pre></td></tr></table></figure><h4 id="æª”æ¡ˆè·¯å¾‘"><a class="header-anchor" href="#æª”æ¡ˆè·¯å¾‘"></a>æª”æ¡ˆè·¯å¾‘</h4><ul><li>ç›¸å°æ–¼ top level ç›®éŒ„ (ä¸åŒ…å«æ–œç·š) çš„ entry è·¯å¾‘åç¨± (å¯è®Šé•·åº¦)</li><li><code>/</code> ä½œç‚ºè·¯å¾‘åˆ†éš”å­—å…ƒ</li><li>ä¸å…è¨±ä½¿ç”¨ç‰¹æ®Šè·¯å¾‘å…ƒä»¶ <code>.</code>ã€<code>..</code> å’Œ <code>.git</code></li><li>ä¸å…è¨±ä½¿ç”¨æ–œç·š</li><li>ç¢ºåˆ‡çš„ç·¨ç¢¼ä¸ç¢ºå®šï¼Œä½† <code>.</code> å’Œ <code>/</code> å­—å…ƒæœƒä»¥ 7-bit ASCII ç·¨ç¢¼ï¼Œä¸¦ä¸”ç·¨ç¢¼ä¸èƒ½åŒ…å« NUL byte (UNIX è·¯å¾‘åç¨±)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 696e 6465 782e 6874 6d6c<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'index.html'</span> | xxd</span><br>00000000: 696e 6465 782e 6874 6d6c                 index.html<br></code></pre></td></tr></table></figure><h4 id="1-8-NUL-byte"><a class="header-anchor" href="#1-8-NUL-byte"></a>1-8 NUL byte</h4><p>ä½¿ç”¨ 1-8 NUL byte å°‡ entry å¡«å……ç‚º 8 byte çš„å€æ•¸ï¼ŒåŒæ™‚ä¿æŒåç¨± NUL-terminated</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 0000 0000 0000 0000<br></code></pre></td></tr></table></figure><h3 id="Extensions"><a class="header-anchor" href="#Extensions"></a>Extensions</h3><p>å¿½ç•¥æ­¤éƒ¨ä»½ï¼Œå› æœ¬ç¯„ä¾‹çš„ index ç„¡ extensionsã€‚</p><h3 id="SHA-1-Index-Checksum"><a class="header-anchor" href="#SHA-1-Index-Checksum"></a>SHA-1 Index Checksum</h3><p>åœ¨ index æª”æ¡ˆå…§å®¹çš„æœ€å¾Œ 160-bit æ˜¯ index checksumï¼Œæ˜¯ç”±é€™ 160-bit ä¹‹å‰çš„ index æª”æ¡ˆå…§å®¹é€é SHA-1 è¨ˆç®—çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">hex: 2841 2d21 1a87 5b13 6f52<br>     9772 ca4c 73f3 b3cc 3308<br></code></pre></td></tr></table></figure><p>ç”¨ä¸‹é¢æŒ‡ä»¤é©—è­‰ï¼š</p><ul><li><code>head -c</code>ï¼šåˆ—å°æª”æ¡ˆçš„å‰å¹¾å€‹ byte</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .git/index | head -c92 | sha1sum </span><br>28412d211a875b136f529772ca4c73f3b3cc3308  -<br></code></pre></td></tr></table></figure><p>å¦‚æœ index æå£ï¼Œå°±èƒ½é€éæ­¤ SHA-1 Index Checksum ä¾†ç¢ºèªï¼Œä¸¦æœƒèªªæ˜ index æª”æ¡ˆå·²æå£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status</span><br>error: bad index file sha1 signature<br>fatal: index file corrupt<br></code></pre></td></tr></table></figure><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="http://linux.vbird.org/linux_basic/0210filepermission.php#filepermission_perm" target="_blank" rel="noopener">é³¥å“¥çš„ Linux ç§æˆ¿èœ â€“ ç¬¬äº”ç« ã€Linux çš„æª”æ¡ˆæ¬Šé™èˆ‡ç›®éŒ„é…ç½®</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://stackoverflow.com/questions/737673/how-to-read-the-mode-field-of-git-ls-trees-output" target="_blank" rel="noopener">file permissions - How to read the mode field of git-ls-treeâ€™s output - Stack Overflow</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://github.com/doggy8088/Learn-Git-in-30-days/blob/master/zh-tw/09.md" target="_blank" rel="noopener">30 å¤©ç²¾é€š Git ç‰ˆæœ¬æ§ç®¡ ç¬¬ 09 å¤©ï¼šæ¯”å°æª”æ¡ˆèˆ‡ç‰ˆæœ¬å·®ç•° by ä¿å“¥</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://github.com/git/git/blob/master/Documentation/technical/index-format.txt#L63" target="_blank" rel="noopener">git/index-format.txt at master Â· git/git</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - tree ç‰©ä»¶</title>
      <link href="/article/git-tree-object.html"/>
      <url>/article/git-tree-object.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git å¦‚ä½•é‹ä½œï¼ŒGit æ˜¯å¦‚ä½•å»ºç«‹å’Œå„²å­˜ tree ç‰©ä»¶ã€‚</p><a id="more"></a><p>ä¹‹å‰è¬›åˆ° blob ç‰©ä»¶æ˜¯ç”±æª”æ¡ˆå…§å®¹ä¾†ç”¢ç”Ÿçš„ï¼Œé‚£ Git æ˜¯å¦‚ä½•çŸ¥é“é€™äº›æª”æ¡ˆå…§å®¹æ˜¯åˆ†åˆ¥å­˜åœ¨å“ªå€‹ç›®éŒ„å…§çš„æª”æ¡ˆåç¨±ä¸­ï¼Ÿ</p><p>ç›®éŒ„åç¨±å’Œæª”æ¡ˆåç¨±å°±æ˜¯ç”± tree ç‰©ä»¶ä¾†ç®¡ç†ã€‚ä¸€å€‹ tree ç‰©ä»¶å¯ä»¥ç´€éŒ„åŒ…å«å“ªäº› blob ç‰©ä»¶ (ä¹Ÿå°±æ˜¯æª”æ¡ˆå…§å®¹)ï¼Œä»¥åŠè©² blob ç‰©ä»¶å°æ‡‰çš„æª”æ¡ˆåç¨±ï¼Œä»¥åŠå…¶ä»– tree ç‰©ä»¶å’Œå…¶å°æ‡‰çš„ç›®éŒ„åç¨±ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -p</span><br></code></pre></td></tr></table></figure><p>Git å„²å­˜å…§å®¹çš„æ–¹å¼é¡ä¼¼ Unix æª”æ¡ˆç³»çµ±ï¼Œæ‰€æœ‰å…§å®¹åœ¨ Git éƒ½å„²å­˜æˆ tree ç‰©ä»¶å’Œ blob ç‰©ä»¶ï¼Œtree ç‰©ä»¶å°æ‡‰æ–¼ Unix directory entries (ç›®éŒ„é …ç›®)ï¼Œè€Œ blob ç‰©ä»¶æ˜¯å°æ‡‰ inode (è¨˜éŒ„æª”æ¡ˆçš„æ¬Šé™èˆ‡ç›¸é—œå±¬æ€§) <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> æˆ–æª”æ¡ˆå…§å®¹ <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ã€‚</p><p>æ¯å€‹ tree ç‰©ä»¶å¯åŒ…å«ä¸€å€‹æˆ–å¤šå€‹ tree entriesï¼Œæ¯å€‹ tree entry éƒ½åŒ…å«ä¸€å€‹æŒ‡å‘ blob ç‰©ä»¶æˆ– subtree çš„ SHA-1 æŒ‡æ¨™ (hash å€¼) ä»¥åŠé—œè¯æ¨¡å¼ (associated mode)ã€ç‰©ä»¶é¡å‹ã€æª”åã€‚ä¾‹å¦‚ï¼š</p><p>å…ˆå»ºç«‹ä¸€å€‹ commitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git init</span><br>Initialized empty Git repository in /home/titan/project/demo/.git/<br><br><span class="hljs-meta">$</span><span class="bash"> mkdir styles</span><br><span class="hljs-meta">$</span><span class="bash"> touch index.html README.md styles/main.css</span><br><span class="hljs-meta">$</span><span class="bash"> git add .</span><br><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ e6<br>â”‚   â””â”€â”€ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br>3 directories, 1 file<br><br><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">"init"</span>   </span><br>[master (root-commit) 158f5a2] init<br> 3 files changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 README.md<br> create mode 100644 index.html<br> create mode 100644 styles/main.css<br></code></pre></td></tr></table></figure><p><code>master^{tree}</code> ä»£è¡¨ç”± <code>master</code> åˆ†æ”¯ä¸Šçš„æœ€å¾Œä¸€æ¬¡ commit æ‰€æŒ‡å‘çš„ tree ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree</span><br>.<br>â”œâ”€â”€ index.html<br>â”œâ”€â”€ README.md<br>â””â”€â”€ styles<br>    â””â”€â”€ main.css<br><br>1 directory, 3 files<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p master^&#123;tree&#125;</span><br>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391README.md<br>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391index.html<br>040000 tree c6d62294a2323c2047b43787d55a44ff8c94f565styles<br></code></pre></td></tr></table></figure><p><code>styles</code> å­ç›®éŒ„æ˜¯æŒ‡å‘å¦ä¸€å€‹åç‚º <code>c6d622</code> çš„ tree ç‰©ä»¶ï¼Œè€Œé€™å€‹ tree ç‰©ä»¶åˆæŒ‡å‘å¦ä¸€å€‹åç‚º <code>e69de2</code> çš„ blob ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -p c6d622</span><br>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391main.css<br></code></pre></td></tr></table></figure><h2 id="å»ºç«‹-index"><a class="header-anchor" href="#å»ºç«‹-index"></a>å»ºç«‹ index</h2><p>åˆå§‹åŒ– Git repoï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git init</span><br>Initialized empty Git repository in /home/titan/project/git/pro-git/.git/<br><span class="hljs-meta">$</span><span class="bash"> tree .git        </span><br>.git<br>â”œâ”€â”€ branches<br>â”œâ”€â”€ config<br>â”œâ”€â”€ description<br>â”œâ”€â”€ HEAD<br>â”œâ”€â”€ hooks<br>â”‚   â””â”€â”€ ...<br>â”œâ”€â”€ info<br>â”‚   â””â”€â”€ exclude<br>â”œâ”€â”€ objects<br>â”‚   â”œâ”€â”€ info<br>â”‚   â””â”€â”€ pack<br>â””â”€â”€ refs<br>    â”œâ”€â”€ heads<br>    â””â”€â”€ tags<br><br>9 directories, 15 files<br></code></pre></td></tr></table></figure><p>å»ºç«‹å°ˆæ¡ˆéœ€è¦çš„æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mkdir styles</span><br><span class="hljs-meta">$</span><span class="bash"> touch index.html README.md styles/main.css</span><br><span class="hljs-meta">$</span><span class="bash"> tree</span><br>.<br>â”œâ”€â”€ index.html<br>â”œâ”€â”€ README.md<br>â””â”€â”€ styles<br>    â””â”€â”€ main.css<br><br>1 directory, 3 files<br></code></pre></td></tr></table></figure><p>ç¾åœ¨ Git é‚„æœªè¿½è¹¤é€™äº›æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status                      </span><br>On branch master<br><br>No commits yet<br><br>Untracked files:<br>  (use "git add &lt;file&gt;..." to include in what will be committed)<br><br>README.md<br>index.html<br>styles/<br><br>nothing added to commit but untracked files present (use "git add" to track)<br></code></pre></td></tr></table></figure><p>å»ºç«‹ blob ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object -w index.html</span><br>9015a7a32ca0681be64471d3ac2f8c1f24c1040d<br><span class="hljs-meta">$</span><span class="bash"> tree .git/objects            </span><br>.git/objects<br>â”œâ”€â”€ 90<br>â”‚   â””â”€â”€ 15a7a32ca0681be64471d3ac2f8c1f24c1040d<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br>3 directories, 1 file<br></code></pre></td></tr></table></figure><p>åœ¨å°‡ commit ä¹‹å‰ï¼ŒGit æœƒæ ¹æ“š staging area (é å­˜å€æˆ–ç¨±æš«å­˜å€) æˆ– index ä¾†å»ºç«‹ tree ç‰©ä»¶ï¼Œæ‰€ä»¥å¿…é ˆåœ¨å»ºç«‹ tree ç‰©ä»¶ä¹‹å‰ï¼Œå…ˆæš«å­˜ç‰©ä»¶ä¾†å»ºç«‹ indexã€‚</p><p>ä½¿ç”¨ <code>update-index</code> åº•å±¤æŒ‡ä»¤ä¾†ç‚ºå–®ä¸€æª”æ¡ˆå»ºç«‹ indexã€‚</p><p>å› ç‚º index ä¹‹å‰æ²’æœ‰è©²æª”æ¡ˆï¼Œç”šè‡³é€£ index éƒ½é‚„æ²’å»ºç«‹ (ä¹Ÿå°±æ˜¯æ²’æœ‰ <code>.git/index</code> æª”æ¡ˆ)ï¼Œæ‰€ä»¥å¿…é ˆåŠ ä¸Š <code>--add</code> é¸é …ã€‚å¦å¤–ï¼Œå› ç‚ºè¦å¢åŠ çš„æª”æ¡ˆé‚„ä¸åœ¨å·¥ä½œç›®éŒ„ä¸­ï¼Œè€Œæ˜¯åœ¨è³‡æ–™åº« (ä¹Ÿå°±æ˜¯ <code>.git/object</code> ç›®éŒ„å…§) ä¸­ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š <code>--cacheinfo</code> é¸é …ï¼Œ<code>--cacheinfo</code> é¸é …å¾Œé¢å¿…é ˆæŒ‡å®šç›¸é—œ modeã€ç‰©ä»¶ SHA-1 å€¼ã€æª”åã€‚</p><div class="info"><p><code>git update-index</code> æŒ‡ä»¤ï¼šå°‡ working tree ä¸­çš„æª”æ¡ˆå…§å®¹è¨»å†Šè‡³ index</p><ul><li><code>--add</code>ï¼š<ul><li>å¦‚æœæŒ‡å®šçš„æª”æ¡ˆä¸åœ¨ index ä¸­ï¼Œå°±æœƒæ–°å¢è©²æª”æ¡ˆè‡³ index</li><li>é è¨­è¡Œç‚º (ä¹Ÿå°±æ˜¯ä¸åŠ ä¸Š <code>--add</code> é¸é …æ™‚) æœƒå¿½ç•¥æ–°æª”æ¡ˆ</li></ul></li><li><code>--cacheinfo &lt;mode&gt; &lt;object&gt; &lt;path&gt;</code> æˆ– <code>--cacheinfo &lt;mode&gt;,&lt;object&gt;,&lt;path&gt;</code>ï¼š<ul><li>å°‡æŒ‡å®šçš„è³‡è¨Šç›´æ¥æ’å…¥ index</li><li>ç”¨æ–¼è¨»å†Šä¸åœ¨ç•¶å‰å·¥ä½œç›®éŒ„ä¸­çš„æª”æ¡ˆã€‚å°æ–¼æœ€å° checkout åˆä½µå¾ˆæœ‰ç”¨</li><li>ç‚ºäº†å‘å¾Œç›¸å®¹ï¼Œé‚„å¯å°‡é€™ä¸‰å€‹åƒæ•¸ä½œç‚ºä¸‰å€‹å–®ç¨çš„åƒæ•¸æä¾›ï¼Œä½†æ˜¯é¼“å‹µæ–°çš„ä½¿ç”¨è€…ä½¿ç”¨å–®ä¸€åƒæ•¸å½¢å¼</li></ul></li></ul></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-index --add --cacheinfo \</span><br>    100644 9015a7a32ca0681be64471d3ac2f8c1f24c1040d index.html<br><br><span class="hljs-meta">$</span><span class="bash"> git status</span><br>On branch master<br><br>No commits yet<br><br>Changes to be committed:<br>  (use "git rm --cached &lt;file&gt;..." to unstage)<br><br>new file:   index.html<br><br>Untracked files:<br>  (use "git add &lt;file&gt;..." to include in what will be committed)<br><br>README.md<br>styles/<br></code></pre></td></tr></table></figure><p>é€™é‚ŠæŒ‡å®šçš„ <code>100644</code> æ˜¯ modeï¼Œä»£è¡¨æ˜¯å€‹æ™®é€šçš„æª”æ¡ˆã€‚é€™é¡ä¼¼ Unix çš„æª”æ¡ˆå±¬æ€§ <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ï¼Œç”¨ä¾†è¡¨ç¤ºè©²æª”æ¡ˆçš„é¡å‹ (æª”æ¡ˆã€ç›®éŒ„ã€link) å’Œæ¬Šé™ (å¯è®€ã€å¯å¯«ã€å¯åŸ·è¡Œ)ï¼Œä»¥ä¸‹æ˜¯å¸¸è¦‹çš„ (ç”¨äºŒé€²ä½å’Œå…«é€²ä½è¡¨ç¤º) <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup> <sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>ï¼š</p><ul><li><code>0100000000000000</code> ( <code>040000</code> )ï¼šDirectory</li><li><code>1000000110100100</code> ( <code>100644</code> )ï¼šRegular non-executable file</li><li><code>1000000110110100</code> ( <code>100664</code> )ï¼šRegular non-executable group-writeable file</li><li><code>1000000111101101</code> ( <code>100755</code> )ï¼šRegular executable file</li><li><code>1010000000000000</code> ( <code>120000</code> )ï¼šSymbolic link</li><li><code>1110000000000000</code> ( <code>160000</code> )ï¼šGitlink</li></ul><div class="info"><p>è¨»ï¼š<code>.git/index</code> çš„äºŒé€²ä½è¡¨ç¤ºæ³• <sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup></p><ul><li>å‰ 4-bitï¼šç‰©ä»¶ type<ul><li><code>1000</code>ï¼šregular file</li><li><code>1010</code>ï¼šsymbolic link</li><li><code>1110</code>ï¼šgitlink</li></ul></li><li>ä¸­é–“ 3-bitï¼šæ²’æœ‰ä½¿ç”¨</li><li>å¾Œé¢ 9-bitï¼šunix æ¬Šé™<ul><li>regular file åªèƒ½ç”¨ <code>0755</code> å’Œ <code>0644</code></li><li>symbolic link å’Œ gitlink åœ¨æ­¤ field ä¸­çš„å€¼ç‚º <code>0</code></li></ul></li></ul><p>blob ç‰©ä»¶åªå° <code>100644</code>ã€<code>100664</code> å’Œ <code>100755</code> é€™ä¸‰ç¨® mode æœ‰æ•ˆã€‚</p></div><p>æ¥è‘—ä½¿ç”¨ <code>write-tree</code> æŒ‡ä»¤å°‡ index å¯«è‡³ tree ç‰©ä»¶ä¸­ã€‚ä¸éœ€è¦ä½¿ç”¨ <code>-w</code> é¸é …ï¼Œå¦‚æœè©² tree ç‰©ä»¶é‚„ä¸å­˜åœ¨ï¼Œå‰‡å‘¼å« <code>write-tree</code> æœƒæ ¹æ“š index çš„ç‹€æ…‹è‡ªå‹•å»ºç«‹ tree ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git write-tree</span><br>2dce93ea08ed9059be0a838c6bcf62b7b5c28907<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 2dce93</span><br>100644 blob 9015a7a32ca0681be64471d3ac2f8c1f24c1040dindex.html<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 2dce93</span><br>tree<br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨ <code>index.html</code> çš„ç¬¬äºŒç‰ˆå’Œä¸€å€‹æ–°æª”æ¡ˆä¾†å»ºç«‹æ–°çš„ tree ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'text'</span> &gt;&gt; index.html</span><br><span class="hljs-meta">$</span><span class="bash"> cat index.html </span><br>index<br>text<br><span class="hljs-meta">$</span><span class="bash"> git update-index index.html</span><br><span class="hljs-meta">$</span><span class="bash"> git update-index --add README.md</span><br><span class="hljs-meta">$</span><span class="bash"> git status                           </span><br>On branch master<br><br>No commits yet<br><br>Changes to be committed:<br>  (use "git rm --cached &lt;file&gt;..." to unstage)<br><br>new file:   README.md<br>new file:   index.html<br><br>Untracked files:<br>  (use "git add &lt;file&gt;..." to include in what will be committed)<br><br>styles/<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects      </span><br>.git/objects<br>â”œâ”€â”€ 2d<br>â”‚   â””â”€â”€ ce93ea08ed9059be0a838c6bcf62b7b5c28907<br>â”œâ”€â”€ 70<br>â”‚   â””â”€â”€ f702d2c1492a9989a64c8e68bedf7c81052898<br>â”œâ”€â”€ 7e<br>â”‚   â””â”€â”€ 59600739c96546163833214c36459e324bad0a<br>â”œâ”€â”€ 90<br>â”‚   â””â”€â”€ 15a7a32ca0681be64471d3ac2f8c1f24c1040d<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br>6 directories, 4 files<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 70f702          </span><br>index<br>text<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 7e5960</span><br><span class="hljs-meta">#</span><span class="bash"> README</span><br></code></pre></td></tr></table></figure><p>å»ºç«‹ tree ç‰©ä»¶ (å°‡ staging area çš„ç‹€æ…‹æˆ– index ç´€éŒ„åˆ°ä¸€å€‹ tree ç‰©ä»¶)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git write-tree</span><br>436d33ce00a9bbf0a1ce763b2c36330b6faf309b<br><span class="hljs-meta">$</span><span class="bash"> git cat-file -p 436d33      </span><br>100644 blob 7e59600739c96546163833214c36459e324bad0aREADME.md<br>100644 blob 70f702d2c1492a9989a64c8e68bedf7c81052898index.html<br></code></pre></td></tr></table></figure><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="http://linux.vbird.org/linux_basic/0230filesystem.php" target="_blank" rel="noopener">é³¥å“¥çš„ Linux ç§æˆ¿èœ â€“ ç¬¬ä¸ƒç« ã€Linux ç£ç¢Ÿèˆ‡æª”æ¡ˆç³»çµ±ç®¡ç†</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Git-Objects" target="_blank" rel="noopener">Git - Git Objects</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="http://linux.vbird.org/linux_basic/0210filepermission.php#filepermission_perm" target="_blank" rel="noopener">é³¥å“¥çš„ Linux ç§æˆ¿èœ â€“ ç¬¬äº”ç« ã€Linux çš„æª”æ¡ˆæ¬Šé™èˆ‡ç›®éŒ„é…ç½®</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://stackoverflow.com/questions/737673/how-to-read-the-mode-field-of-git-ls-trees-output" target="_blank" rel="noopener">file permissions - How to read the mode field of git-ls-treeâ€™s output - Stack Overflow</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p><a href="https://github.com/doggy8088/Learn-Git-in-30-days/blob/master/zh-tw/09.md" target="_blank" rel="noopener">30 å¤©ç²¾é€š Git ç‰ˆæœ¬æ§ç®¡ ç¬¬ 09 å¤©ï¼šæ¯”å°æª”æ¡ˆèˆ‡ç‰ˆæœ¬å·®ç•° by ä¿å“¥</a> <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li><li id="fn6" class="footnote-item"><p><a href="https://github.com/git/git/blob/master/Documentation/technical/index-format.txt#L63" target="_blank" rel="noopener">git/index-format.txt at master Â· git/git</a> <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è™•ç† Git æ–·è¡Œå­—å…ƒçš„å•é¡Œ</title>
      <link href="/article/git-auto-crlf.html"/>
      <url>/article/git-auto-crlf.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>åœ¨ä½¿ç”¨ Git çš„éç¨‹ä¸­ï¼Œè‹¥åœ¨ä¸åŒä½œæ¥­ç³»çµ±ç·¨è¼¯åŒä¸€å€‹ repo çš„æª”æ¡ˆï¼Œå¯èƒ½å°±æœƒç™¼ç”Ÿæ–·è¡Œå­—å…ƒçš„å•é¡Œã€‚Git åœ¨ config æä¾›äº† <code>core.autocrlf</code> é¸é …ä¸¦ç”¨ <code>.gitAttributes</code> æª”æ¡ˆä¾†è™•ç†æ–·è¡Œå­—å…ƒçš„å•é¡Œã€‚</p><a id="more"></a><p>ä¹‹å‰æˆ‘åœ¨ Windows å»ºç«‹ä¸€å€‹å°ˆæ¡ˆï¼Œæ˜¯ç”¨ä¾†å°ˆé–€æ”¾ç”¨ Markdown æª”æ¡ˆçš„ç­†è¨˜ï¼Œè€Œä¸”æ˜¯ç”¨ Git ä¾†ä½œç‰ˆæœ¬æ§åˆ¶ã€‚ä½†æœ€è¿‘æˆ‘åœ¨é€™å°ç­†é›»å®‰è£å®Œé›™ç³»çµ± (Windows 10 å’Œ Ubuntu 18.04) å¾Œï¼Œæœ‰æ™‚å€™æœƒåœ¨ Ubuntu é–‹ç™¼ä¸¦å°‡éç¨‹å¯«æˆç­†è¨˜ï¼Œæ‰€ä»¥é€™å€‹ç­†è¨˜å°ˆæ¡ˆå°±æœƒéœ€è¦åœ¨ä¸åŒ OS ä¸‹ç·¨è¼¯ã€‚</p><p>ä¹Ÿå› ç‚ºä»¥ä¸Šéœ€æ±‚è®“æˆ‘å¤šå­¸ç¿’åˆ°ä¸åŒç³»çµ±å…¶å¯¦é è¨­ä½¿ç”¨çš„æ–‡å­—æª”æ¡ˆçš„æ–·è¡Œå­—å…ƒæ˜¯ä¸åŒçš„ï¼ŒWindows æ˜¯ä½¿ç”¨ CRLF ( <code>\r\n</code>ï¼Œ<code>0x0D 0x0A</code> )ï¼Œè€Œ Linux å‰‡æ˜¯ä½¿ç”¨ LF å­—å…ƒ ( <code>\n</code>ï¼Œ<code>0x0A</code> )ã€‚ä¹Ÿå› å¦‚æ­¤ï¼ŒWindows ä¸Šçš„æ¯å€‹æª”æ¡ˆçš„æ¯ä¸€è¡Œçµå°¾éƒ½æœƒæ¯” Liunx é‚„è¦å¤šä¸€å€‹å­—å…ƒï¼Œä¹Ÿå°±æ˜¯å¤šäº†å¾ˆå¤š CR ( <code>\r</code> ) å­—å…ƒã€‚</p><div class="info"><p>è¨»ï¼š</p><ul><li>CR æ˜¯ Carriage Return çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ Enter å­—å…ƒ</li><li>LF æ˜¯ Line Feed çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯çœŸæ­£çš„æ›è¡Œå­—å…ƒ</li><li>macOS çš„æ–·è¡Œå­—å…ƒä¹Ÿæ˜¯ LF å­—å…ƒ ( <code>\n</code>ï¼Œ<code>0x0A</code> )</li></ul></div><p>é‚£ç‚ºä½•æœƒæåˆ°æ–·è¡Œå­—å…ƒï¼Ÿå› ç‚ºç•¶æˆ‘åŸ·è¡Œ <code>git status</code> æŒ‡ä»¤å¾Œï¼Œç™¼ç¾ç«Ÿç„¶æª”æ¡ˆæœ‰è¢«ä¿®æ”¹éï¼Œä½†æˆ‘é™¤äº†åˆ‡æ› OS ä¹‹å¤–ï¼Œæ ¹æœ¬æ²’æœ‰ä¿®æ”¹ç­†è¨˜å•Šï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status</span><br>On branch master<br>Your branch is up to date with 'origin/master'.<br><br>Changes not staged for commit:<br>  (use "git add &lt;file&gt;..." to update what will be committed)<br>  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br><br>        modified:   note.md<br><br>no changes added to commit (use "git add" and/or "git commit -a")<br></code></pre></td></tr></table></figure><p>å…¶å¯¦é€™è·Ÿå‰›å‰›æåˆ°çš„æ–·è¡Œå­—å…ƒæœ‰é—œã€‚å¦‚æœç”¨ <code>git diff</code> æŒ‡ä»¤å°±æœƒçœ‹åˆ°ç­†è¨˜å…§çš„æ¯è¡Œæ–‡å­—çš„çµå°¾éƒ½å¤šå‡ºäº† <code>^M</code> é€™å€‹æ±è¥¿ï¼Œè€Œä¸”æœ‰äº›ç·¨è¼¯å™¨ (ä¾‹å¦‚ï¼šVS Code) å¯èƒ½æœƒçœ‹ä¸å‡ºä¾†ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs diff">$ git diff note.md<br>diff --git a/note.md b/note.md<br>index e27815a..6b5682e 100644<br><span class="hljs-comment">--- a/note.md</span><br><span class="hljs-comment">+++ b/note.md</span><br><span class="hljs-meta">@@ -1,5 +1,5 @@</span><br><span class="hljs-deletion">-Note</span><br><span class="hljs-deletion">-===</span><br><span class="hljs-deletion">-</span><br><span class="hljs-deletion">-something</span><br><span class="hljs-addition">+Note^M</span><br><span class="hljs-addition">+===^M</span><br><span class="hljs-addition">+^M</span><br><span class="hljs-addition">+something^M</span><br> This is the last line<br>\ No newline at end of file<br></code></pre></td></tr></table></figure><p>å…¶å¯¦ <code>^M</code> æ°å¥½æ˜¯ vim ç”¨ä¾†é¡¯ç¤º <code>0x0D</code> çš„æ–¹å¼ï¼Œè€Œ <code>0x0D</code> å°±æ˜¯å‰›å‰›æåˆ° Windows æª”æ¡ˆå…§çš„æ¯ä¸€è¡Œçµå°¾ï¼Œéƒ½æœƒæ¯” Linux å¤šå‡º CR ( <code>\r</code> ) é€™å€‹å­—å…ƒã€‚æ‰€ä»¥ <code>^M</code> å…¶å¯¦å°±ç­‰åŒæ–¼ CR ( <code>\r</code>ï¼Œ<code>0x0D</code> )ã€‚</p><div class="info"><p>è¨»ï¼š</p><ul><li><code>^M</code> å…¶ä¸­çš„ <code>^</code> ä»£è¡¨ Ctrlï¼Œæ‰€ä»¥ <code>^M</code> ä¹Ÿå°±ä»£è¡¨ <code>Ctrl + M</code> (ä¹Ÿå°±æ˜¯ Enter)</li><li><code>^M</code> é›–ç„¶çœ‹æ˜¯å…©å€‹å­—å…ƒï¼Œä½†åœ¨çµ‚ç«¯æ©Ÿä¸Šå¯¦éš›åªæœ‰ä¸€å€‹å­—å…ƒã€‚åœ¨å¤§éƒ¨åˆ†çš„çµ‚ç«¯æ©Ÿç³»çµ±ä¸­ï¼ŒåŒ…æ‹¬ Windows çš„ cmdã€Linux å’Œ FreeBSD éƒ½å¯ç”¨ Ctrl ä¾†è¡¨ç¤º <code>^</code> å­—å…ƒ (caret)</li><li><code>0x0D</code> æ˜¯ä»¥åå…­é€²ä½è¡¨ç¤ºçš„ 13ï¼Œè€Œ M æ­£å¥½æ˜¯è‹±æ–‡å­—æ¯ä¸­ç¬¬ 13 å€‹å­—æ¯</li></ul></div><p>ä¸éï¼Œå¦‚æœæœ‰å¤šå€‹æª”æ¡ˆçš„æ¯ä¸€è¡Œéƒ½è¦åˆªæ‰ <code>^M</code> å°±æœƒå¾ˆéº»ç…©ï¼Œæ‰€ä»¥ Git æä¾›ä¸€ç¨®è‡ªå‹•è½‰æ›æ–·è¡Œç¬¦è™Ÿçš„åŠŸèƒ½ï¼š<code>core.autocrlf</code>ã€‚</p><p>é‚£ Git çš„è‡ªå‹•è½‰æ›æ–·è¡Œç¬¦è™ŸåŠŸèƒ½åˆ°åº•åšäº†ä»€éº¼ï¼Ÿ</p><ul><li>ç•¶ä½ åŸ·è¡Œ <code>git add</code> å°‡æª”æ¡ˆåŠ å…¥ index æ™‚ï¼ŒGit å¯å°‡ CRLF è‡ªå‹•å‚³æˆ LFã€‚</li><li>ç•¶ä½ åŸ·è¡Œ <code>git checkout</code> å°‡ç¨‹å¼ç¢¼ checkout å‡ºæª”æ¡ˆç³»çµ±æ™‚ï¼ŒGit å¯å°‡ LF è‡ªå‹•è½‰æˆ CRLFã€‚</li></ul><p>å¦‚æœè¦åœ¨å…¨åŸŸè¨­å®šå¯åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ä¾†è¨­å®šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git config --global core.autocrlf <span class="hljs-literal">true</span></span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¯è¦åœ¨å„åˆ¥çš„ repo è¨­å®šï¼Œå°±éœ€è¦åœ¨ repo çš„æ ¹ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹åç‚º <code>.gitattributes</code> çš„æª”æ¡ˆï¼Œç•¶é€™å€‹æª”æ¡ˆè¢« commit è‡³ repo æ™‚ï¼Œå°±æœƒè¦†è“‹ <code>core.autocrlf</code> çš„è¨­å®šï¼Œä»¥ç¢ºä¿ç®¡ç†æ­¤ repo çš„å”ä½œè€…çš„è¨­å®šä¸€è‡´ã€‚ä¸‹é¢æ˜¯ <code>.gitattributes</code> é€™å€‹æª”æ¡ˆçš„ç¯„ä¾‹æ¨¡æ¿ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plain"># Set the default behavior, in case people don&#39;t have core.autocrlf set.<br>* text&#x3D;auto<br><br># Explicitly declare text files you want to always be normalized and converted<br># to native line endings on checkout.<br>*.c text<br>*.h text<br><br># Declare files that will always have CRLF line endings on checkout.<br>*.sln text eol&#x3D;crlf<br><br># Denote all files that are truly binary and should not be modified.<br>*.png binary<br>*.jpg binary<br></code></pre></td></tr></table></figure><p>æ­¤æª”æ¡ˆçš„è¨­å®šæ ¼å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">pattern attr1 attr2 ...<br></code></pre></td></tr></table></figure><p><code>pattern</code> å’Œå±¬æ€§çš„ä¸­é–“è¦ä»¥ç©ºæ ¼åˆ†éš”ã€‚ç•¶ <code>pattern</code> åŒ¹é…ç›¸é—œè·¯å¾‘æ™‚ï¼Œå¾Œé¢çš„å±¬æ€§çš„è¨­å®šæœƒæ‡‰ç”¨åœ¨é‚£äº›è·¯å¾‘ã€‚</p><p><code>text</code> é€™å€‹å±¬æ€§æ˜¯ç”¨æ–¼å•Ÿç”¨ä¸¦æ§åˆ¶è¡Œå°¾çš„æ­£è¦åŒ–ã€‚æ­£è¦åŒ–æ–‡å­—æª”å¾Œï¼Œè¡Œå°¾æœƒåœ¨ repo ä¸­è½‰æ›ç‚º LFã€‚å¦‚æœè¦æ§åˆ¶å·¥ä½œç›®éŒ„ä¸­ä½¿ç”¨çš„è¡Œå°¾æ¨£å¼ï¼Œè«‹é‡å°è©²æª”æ¡ˆè¨­å®š <code>eol</code> å±¬æ€§ ( <code>eol</code> å°± end-of-line çš„ç¸®å¯«)ï¼Œä¸¦ä¸”å°æ‰€æœ‰æ–‡å­—æª”è¨­å®š <code>core.eol</code> è®Šæ•¸ã€‚å¦‚æœå°‡ <code>core.autocrlf</code> è¨­ç‚º <code>true</code> æˆ– <code>input</code> æœƒè¦†è“‹ <code>core.eol</code> çš„è¨­å®šã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒ <a href="https://git-scm.com/docs/git-config" target="_blank" rel="noopener">Git - git-config Documentation</a> æ–‡ä»¶ä¸­å°æ–¼ <code>core.eol</code> è¨­å®šçš„å®šç¾©ã€‚</p></blockquote><p><code>text=auto</code>ï¼šè·¯å¾‘è¢«æ¨™è¨˜ç‚ºè‡ªå‹•è½‰æ›è¡Œå°¾ã€‚å¦‚æœ Git ç¢ºå®šè©²å…§å®¹ç‚ºæ–‡å­—ï¼Œé‚£è©²æª”æ¡ˆçš„è¡Œå°¾å°±æœƒåœ¨ checkin æ™‚è½‰æ›æˆ LFã€‚ç•¶ç”¨ CRLF commit æª”æ¡ˆæ™‚ï¼Œå‰‡ä¸æœƒé€²è¡Œè½‰æ›ã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://help.github.com/en/articles/configuring-git-to-handle-line-endings" target="_blank" rel="noopener">Configuring Git to handle line endings - GitHub Help</a></li><li><a href="https://blog.miniasp.com/post/2013/09/15/Git-for-Windows-Line-Ending-Conversion-Notes" target="_blank" rel="noopener">Git åœ¨ Windows å¹³å°è™•ç†æ–·è¡Œå­—å…ƒ (CRLF) çš„æ³¨æ„äº‹é … | The Will Will Web</a></li><li><a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII - Wiki</a></li><li><a href="https://stackoverflow.com/questions/5843495/what-does-m-character-mean-in-vim" target="_blank" rel="noopener">unix - What does ^M character mean in Vim? - Stack Overflow</a></li><li><a href="https://git-scm.com/docs/gitattributes" target="_blank" rel="noopener">Git - gitattributes Documentation</a></li><li><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes" target="_blank" rel="noopener">Git - Git Attributes</a></li><li><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration" target="_blank" rel="noopener">Git - Git Configuration</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ Gitï¼šGit ç‰©ä»¶å„²å­˜ - blob ç‰©ä»¶</title>
      <link href="/article/git--blob-object.html"/>
      <url>/article/git--blob-object.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡æ·±å…¥æ¢è¨ Git å¦‚ä½•é‹ä½œï¼Œåœ¨åŸ·è¡Œ <code>git add</code> å°‡æª”æ¡ˆåŠ å…¥ index æ™‚ï¼ŒGit æœƒå¦‚ä½•å»ºç«‹å’Œå„²å­˜ blob ç‰©ä»¶ã€‚</p><a id="more"></a><p>Git æ˜¯ä¸€å€‹ content-addressable (æŒ‰å…§å®¹å®šå€ï¼ŒæŒ‰æª”æ¡ˆå…§å®¹å®šä½) çš„æª”æ¡ˆç³»çµ±ï¼Œé€™ä»£è¡¨ Git çš„æ ¸å¿ƒæ˜¯ä¸€å€‹ key-value data store (è³‡æ–™å„²å­˜) <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚æˆ‘å€‘åªè¦æä¾›æª”æ¡ˆå…§å®¹ï¼ŒGit å°±æœƒé€éä¸€äº›æ¼”ç®—æ³•è¨ˆç®—æˆ keyï¼Œæœªä¾†å°±å¯é€éè©² key ä¾†æª¢ç´¢å‡ºå°æ‡‰çš„å…§å®¹ã€‚</p><p>Git æœ‰å››ç¨® type (é¡å‹) çš„ç‰©ä»¶ï¼šblobã€treeã€commit å’Œ tagã€‚</p><p>ä¸‹é¢æœƒä½¿ç”¨ <code>git hash-object</code> é€™å€‹åº•å±¤æŒ‡ä»¤ä¾†ä»‹ç´¹ç‰©ä»¶åç¨±æ˜¯å¦‚ä½•ç”¢ç”Ÿçš„ã€‚</p><h2 id="æ‰‹å‹•å»ºç«‹-blob-ç‰©ä»¶"><a class="header-anchor" href="#æ‰‹å‹•å»ºç«‹-blob-ç‰©ä»¶"></a>æ‰‹å‹•å»ºç«‹ blob ç‰©ä»¶</h2><p>é¦–å…ˆï¼Œå…ˆåŸ·è¡Œ <code>git init</code> åˆå§‹åŒ– repoï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git init</span><br>Initialized empty Git repository in /home/titan/project/git-demo/.git/<br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ–æ–°çš„ repo æ™‚ï¼ŒGit æœƒåœ¨ <code>.git</code> ç›®éŒ„ä¸­åˆå§‹åŒ– <code>objects</code> ç›®éŒ„ï¼Œä¸¦åœ¨è£¡é¢å»ºç«‹ <code>pack</code> å’Œ <code>info</code> å­å±¤çš„ç©ºç›®éŒ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åº•å±¤æŒ‡ä»¤ <code>hash-object</code> å°‡è³‡æ–™å„²å­˜è‡³ <code>.git</code> ç›®éŒ„ä¸­ï¼Œä¸¦ç²å¾—å°æ‡‰çš„ key (ä¹Ÿå°±æ˜¯ç‰©ä»¶åç¨±ï¼Œæˆ–ç¨± SHA-1 å€¼)ã€‚ä¸‹é¢æ˜¯ <code>hash-object</code> çš„ optionï¼š</p><ul><li><code>-w</code>ï¼š<ul><li>å°‡ç‰©ä»¶å¯«å…¥è‡³ç‰©ä»¶è³‡æ–™åº« (ä¹Ÿå°±æ˜¯ <code>.git/objects</code> ç›®éŒ„å…§)ï¼Œä¸¦è¼¸å‡ºè©²ç‰©ä»¶çš„ key (ä¹Ÿå°±æ˜¯ SHA-1 checksum)</li><li>è‹¥ä¸ç”¨æ­¤ optionï¼Œå°±åªæœƒè¼¸å‡º keyï¼Œä¸æœƒå„²å­˜ç‰©ä»¶</li></ul></li><li><code>--stdin</code>ï¼š<ul><li>å¾ stdin (standard inputï¼Œæ¨™æº–è¼¸å…¥) è®€å–å…§å®¹</li><li>è‹¥ä¸ç”¨æ­¤ optionï¼Œ<code>hash-object</code> æŒ‡ä»¤é è¨­æœƒå¾æª”æ¡ˆä¸­è®€å–ï¼Œæ‰€ä»¥å¿…é ˆåœ¨ <code>hash-object</code> æŒ‡ä»¤ä¹‹å¾ŒåŠ ä¸ŠæŒ‡å®šçš„æª”æ¡ˆè·¯å¾‘<ul><li>ä¾‹å¦‚ï¼š<code>git hash-object README.md</code></li></ul></li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'test content'</span> | git <span class="hljs-built_in">hash</span>-object -w --stdin</span><br>d670460b4b4aece5915caf5c68d12f560a9fe3e4<br></code></pre></td></tr></table></figure><p><code>hash-object</code> æŒ‡ä»¤æœƒè¼¸å‡º 40 å€‹å­—å…ƒçš„ checksum hashï¼Œé€™æ˜¯å€‹ SHA-1 hash (å¾Œé¢æœƒä»‹ç´¹ <a href="#SHA-1">SHA-1</a>)ï¼Œæ˜¯ç”±å„²å­˜çš„å…§å®¹å’Œ header è³‡è¨Šæ‰€è¨ˆç®—å‡ºä¾†çš„ checksumã€‚</p><p>åœ¨ Git çš„å„²å­˜æ–¹å¼æ˜¯ä¸€ä»½å…§å®¹å°±å­˜æˆä¸€å€‹æª”æ¡ˆï¼Œéƒ½æ”¾åœ¨ <code>.git/objects</code> ç›®éŒ„å…§ï¼Œå­ç›®éŒ„ç‚º SHA-1 çš„å‰ 2 å€‹å­—å…ƒï¼Œæª”åç‚ºå‰©é¤˜çš„ 38 å€‹å­—å…ƒã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ d6<br>â”‚   â””â”€â”€ 70460b4b4aece5915caf5c68d12f560a9fe3e4<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-cat-file-æŒ‡ä»¤å¯Ÿçœ‹ç‰©ä»¶è³‡è¨Š"><a class="header-anchor" href="#ä½¿ç”¨-cat-file-æŒ‡ä»¤å¯Ÿçœ‹ç‰©ä»¶è³‡è¨Š"></a>ä½¿ç”¨ <code>cat-file</code> æŒ‡ä»¤å¯Ÿçœ‹ç‰©ä»¶è³‡è¨Š</h2><p>ä½¿ç”¨ <code>cat-file</code> æŒ‡ä»¤å–å¾—ç‰©ä»¶çš„å…§å®¹ï¼Œå¯ç”¨æ–¼æª¢æŸ¥ç‰©ä»¶ã€‚ä½¿ç”¨ <code>-p</code> option æ‰¾å‡ºå…§å®¹çš„ type ä¸¦è¼¸å‡ºè©²å…§å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -p d67046</span><br>test content<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>-t</code> option å¯ç²å¾—è©²ç‰©ä»¶çš„ typeï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -t d67046</span><br>blob<br></code></pre></td></tr></table></figure><p>å‰›å‰›å»ºç«‹çš„ <code>d67046</code> å°±æ˜¯ Git çš„ blob ç‰©ä»¶ã€‚</p><h2 id="è®Šæ›´æª”æ¡ˆå…§å®¹å¾Œå†æ¬¡å»ºç«‹-blob-ç‰©ä»¶"><a class="header-anchor" href="#è®Šæ›´æª”æ¡ˆå…§å®¹å¾Œå†æ¬¡å»ºç«‹-blob-ç‰©ä»¶"></a>è®Šæ›´æª”æ¡ˆå…§å®¹å¾Œå†æ¬¡å»ºç«‹ blob ç‰©ä»¶</h2><p>é‚£å¦‚æœè®Šæ›´æª”æ¡ˆå…§å®¹å¾Œï¼Œå†å»ºç«‹ blob ç‰©ä»¶åˆæœƒå¦‚ä½•ï¼Ÿçœ‹ä¸‹é¢ç¯„ä¾‹ï¼š</p><p>å…ˆå»ºç«‹ä¸€å€‹å…¨æ–°çš„å°ˆæ¡ˆï¼Œä¸¦ä½¿ç”¨ <code>git init</code> åˆå§‹åŒ– Git repoï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mkdir git-demo-2</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> git-demo-2</span><br><span class="hljs-meta">$</span><span class="bash"> git init</span><br>Initialized empty Git repository in /home/titan/project/git-demo-2/.git/<br></code></pre></td></tr></table></figure><p>æ¥è‘—å»ºç«‹ä¸€å€‹åç‚º <code>test.txt</code> çš„æª”æ¡ˆï¼Œå…§å®¹ç‚º <code>v1</code>ï¼Œä½¿ç”¨ <code>git hash-object</code> å»ºç«‹çš„ blob ç‰©ä»¶ç‚º <code>626799</code>ï¼Œå¾Œä¾†å°‡å…§å®¹ä¿®æ”¹ç‚º <code>v2</code>ï¼Œå†æ¬¡å»ºç«‹çš„ blob ç‰©ä»¶ç‚º <code>8c1384</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'v1'</span> &gt; test.txt</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object -w test.txt</span><br>626799f0f85326a8c1fc522db584e86cdfccd51f<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 626799</span><br>blob<br><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'v2'</span> &gt; test.txt</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object -w test.txt</span><br>8c1384d825dbbe41309b7dc18ee7991a9085c46e<br><br><span class="hljs-meta">$</span><span class="bash"> git cat-file -t 8c1384</span><br>blob<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç•¶æª”æ¡ˆå…§å®¹ä¸åŒæ™‚ï¼Œå°±å¯ä»¥ç”¢ç”Ÿä¸åŒçš„ blob ç‰©ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ 62<br>â”‚   â””â”€â”€ 6799f0f85326a8c1fc522db584e86cdfccd51f<br>â”œâ”€â”€ 8c<br>â”‚   â””â”€â”€ 1384d825dbbe41309b7dc18ee7991a9085c46e<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br></code></pre></td></tr></table></figure><h2 id="å»ºç«‹å…§å®¹ç›¸åŒï¼Œä½†æª”åä¸åŒçš„æª”æ¡ˆ"><a class="header-anchor" href="#å»ºç«‹å…§å®¹ç›¸åŒï¼Œä½†æª”åä¸åŒçš„æª”æ¡ˆ"></a>å»ºç«‹å…§å®¹ç›¸åŒï¼Œä½†æª”åä¸åŒçš„æª”æ¡ˆ</h2><p>ç•¶ä½ å»ºç«‹æª”æ¡ˆå…§å®¹ç›¸åŒï¼Œä½†æª”åä¸åŒçš„æª”æ¡ˆæ™‚ï¼Œåœ¨ repo å…§ä¹Ÿåªæœƒå­˜ä¸€ä»½ï¼Œå› ç‚ºç‰©ä»¶çš„åç¨±æ˜¯ç”±æª”æ¡ˆå…§å®¹ä¾†æ±ºå®šçš„ï¼Œè€Œä¸æ˜¯ä¾æª”åæ±ºå®šã€‚</p><p>ä¸éï¼Œ<code>git hash-object</code> æŒ‡ä»¤é‚„æ˜¯æœƒé‡æ–°ç”¢ç”ŸåŒä¸€å€‹ blob ç‰©ä»¶ (å› ç‚ºè©²ç‰©ä»¶çš„æª”æ¡ˆæ™‚é–“è¢«æ›´æ–°äº†)ã€‚ç¯„ä¾‹å¦‚ä¸‹ï¼š</p><p>åœ¨å»ºç«‹ <code>other-test.txt</code> æª”æ¡ˆä¹‹å‰ï¼Œ<code>.git/objects/8c/6799f...</code> çš„æª”æ¡ˆæ™‚é–“æ˜¯ <code>23:38</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ 62<br>â”‚   â””â”€â”€ 6799f0f85326a8c1fc522db584e86cdfccd51f<br>â”œâ”€â”€ 8c<br>â”‚   â””â”€â”€ 1384d825dbbe41309b7dc18ee7991a9085c46e<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br><span class="hljs-meta">$</span><span class="bash"> ls -lR .git/objects</span><br>.git/objects:<br>ç¸½è¨ˆ 16<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 62<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:40 8c<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 info<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 pack<br><br>.git/objects/62:<br>ç¸½è¨ˆ 4<br>-r--r--r-- 1 titan titan 18  2æœˆ 16 23:38 6799f0f85326a8c1fc522db584e86cdfccd51f<br><br>.git/objects/8c:<br>ç¸½è¨ˆ 4<br>-r--r--r-- 1 titan titan 18  2æœˆ 16 23:39 1384d825dbbe41309b7dc18ee7991a9085c46e<br><br>...<br></code></pre></td></tr></table></figure><p>åœ¨å»ºç«‹ <code>other-test.txt</code> æª”æ¡ˆä¹‹å¾Œï¼Œ<code>.git/objects/8c/6799f...</code> çš„æª”æ¡ˆæ™‚é–“è®Šæˆ <code>23:40</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'v2'</span> &gt; other-test.txt</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">hash</span>-object -w other-test.txt</span><br>8c1384d825dbbe41309b7dc18ee7991a9085c46e<br><br><span class="hljs-meta">$</span><span class="bash"> tree .git/objects</span><br>.git/objects<br>â”œâ”€â”€ 62<br>â”‚   â””â”€â”€ 6799f0f85326a8c1fc522db584e86cdfccd51f<br>â”œâ”€â”€ 8c<br>â”‚   â””â”€â”€ 1384d825dbbe41309b7dc18ee7991a9085c46e<br>â”œâ”€â”€ info<br>â””â”€â”€ pack<br><br><span class="hljs-meta">$</span><span class="bash"> ls -lR .git/objects</span><br>.git/objects:<br>ç¸½è¨ˆ 16<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 62<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:40 8c<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 info<br>drwxr-xr-x 2 titan titan 4096  2æœˆ 16 23:39 pack<br><br>.git/objects/62:<br>ç¸½è¨ˆ 4<br>-r--r--r-- 1 titan titan 18  2æœˆ 16 23:40 6799f0f85326a8c1fc522db584e86cdfccd51f<br><br>.git/objects/8c:<br>ç¸½è¨ˆ 4<br>-r--r--r-- 1 titan titan 18  2æœˆ 16 23:39 1384d825dbbe41309b7dc18ee7991a9085c46e<br><br>...<br></code></pre></td></tr></table></figure><h2 id="hash-object-è¨ˆç®—ç‰©ä»¶åç¨±çš„æ¼”ç®—æ³•"><a class="header-anchor" href="#hash-object-è¨ˆç®—ç‰©ä»¶åç¨±çš„æ¼”ç®—æ³•"></a><code>hash-object</code> è¨ˆç®—ç‰©ä»¶åç¨±çš„æ¼”ç®—æ³•</h2><p>é‚£ Git çš„ç‰©ä»¶åç¨± (ä¹Ÿå°±æ˜¯ SHA-1) æ˜¯å¦‚ä½•è¨ˆç®—çš„ï¼Ÿä¸åŒçš„ Git ç‰©ä»¶æœ‰ä¸åŒçš„è¨ˆç®—æ–¹å¼ï¼Œé€™é‚Šå…ˆèªªæ˜ blob ç‰©ä»¶çš„éƒ¨ä»½ã€‚</p><p>Git ç‰©ä»¶éƒ½æ˜¯ä½¿ç”¨ <a href="https://www.zlib.net/" target="_blank" rel="noopener">zlib</a> å£“ç¸®ï¼Œç‰©ä»¶åç¨±çš„ SHA-1 hash å€¼å°±æ˜¯ header åŠ ä¸Šæª”æ¡ˆå…§å®¹ï¼Œæ¼”ç®—æ³•å¦‚ä¸‹ <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">&lt;type&gt; &lt;content_length&gt;\0&lt;content&gt;<br></code></pre></td></tr></table></figure><p>å‰é¢çš„ <code>&lt;type&gt; &lt;content_length&gt;\0</code> ä»£è¡¨ headerï¼Œè€Œ <code>&lt;content&gt;</code> ä»£è¡¨æª”æ¡ˆå…§å®¹ã€‚ä¸‹é¢èˆ‰å€‹ä¾‹å­ï¼š</p><p>å»ºç«‹åç‚º <code>hello.txt</code> çš„æª”æ¡ˆï¼Œæª”æ¡ˆå…§å®¹ç‚º <code>hello</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"hello"</span> &gt; hello.txt</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>cat</code> æŒ‡ä»¤ä¸¦åŠ ä¸Š <code>-A</code> é¸é …å¯Ÿçœ‹æª”æ¡ˆå…§å®¹ï¼š</p><ul><li><code>-A</code>ï¼šç›¸ç•¶æ–¼ <code>-vET</code> æ•´åˆé¸é …</li><li><code>-E</code>ï¼šå°‡çµå°¾çš„æ–·è¡Œå­—å…ƒä»¥ <code>$</code> é¡¯ç¤º</li><li><code>-T</code>ï¼šå°‡ TAB å­—å…ƒä»¥ <code>^I</code> é¡¯ç¤º</li><li><code>-v</code>ï¼šé™¤äº†æ›è¡ŒåŠ TAB å­—å…ƒå¤–ï¼Œä½¿ç”¨ <code>^</code> åŠ <code>M-</code> è¡¨ç¤ºæ³•é¡¯ç¤ºå­—å…ƒ (åˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºä¾†çš„ç‰¹æ®Šå­—å…ƒ)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat -A hello.txt</span><br><span class="hljs-meta">hello%</span><br></code></pre></td></tr></table></figure><p>æª”æ¡ˆå…§å®¹çš„çµå°¾ <code>%</code> ä»£è¡¨ LF (line Feedï¼Œ<code>\n</code> )ï¼Œæˆ‘æ˜¯åœ¨ Linux å»ºç«‹ <code>hello.txt</code> æ­¤æª”æ¡ˆçš„ï¼Œè€Œ Linux çš„æ›è¡Œå­—å…ƒæ˜¯ä½¿ç”¨ LF å­—å…ƒï¼Œæ‰€ä»¥åœ¨æ¯ä¸€è¡Œçš„çµå°¾æ‰æœƒå¤šäº† LF é€™å€‹å­—å…ƒã€‚</p><p>æ‰€ä»¥ä¾ç…§ä¸Šé¢å»ºç«‹ç‰©ä»¶åç¨±çš„æ¼”ç®—æ³•å°±æœƒåƒé€™æ¨£ï¼Œä¸‹é¢åˆ†åˆ¥ä»£è¡¨ï¼š</p><ul><li><code>blob</code>ï¼šè¦å»ºç«‹çš„ç‰©ä»¶æ˜¯ blob ç‰©ä»¶</li><li><code>6</code>ï¼šæª”æ¡ˆå…§å®¹é•·åº¦</li><li><code>\0</code>ï¼šNull çµæŸå­—å…ƒ</li><li><code>hello\n</code>ï¼šæª”æ¡ˆå…§å®¹</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">blob 6\0hello\n<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å¦‚æœä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°±èƒ½ç®—å‡ºæ­¤ blob ç‰©ä»¶çš„ SHA-1 hash å€¼ï¼š</p><ul><li><code>echo</code> çš„ <code>-n</code> é¸é …ï¼šä¸è¼¸å‡ºçµå°¾çš„æ›è¡Œå­—å…ƒ (trailing newline)</li><li><code>sha1sum</code>ï¼šè¨ˆç®— SHA-1 å€¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"blob 6\0hello\n"</span> | sha1sum </span><br>ce013625030ba8dba906f756967f9e9ca394464a<br></code></pre></td></tr></table></figure><h2 id="å¯¦ä½œ-Git-ç‰©ä»¶åç¨±æ¼”ç®—æ³•"><a class="header-anchor" href="#å¯¦ä½œ-Git-ç‰©ä»¶åç¨±æ¼”ç®—æ³•"></a>å¯¦ä½œ Git ç‰©ä»¶åç¨±æ¼”ç®—æ³•</h2><p>å¦‚æœç”¨ Python å¯¦ä½œæ­¤æ¼”ç®—æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> zlib<br><span class="hljs-keyword">from</span> hashlib <span class="hljs-keyword">import</span> sha1<br><br>content = <span class="hljs-string">'hello\n'</span><br>header = <span class="hljs-string">'blob &#123;&#125;\0'</span>.format(len(content))<br>store = header + content<br>hash = sha1(store.encode(<span class="hljs-string">'utf-8'</span>)).hexdigest()<br><br>zlib_content = zlib.compress(store.encode(<span class="hljs-string">'utf-8'</span>))<br><br>path = <span class="hljs-string">'.git/objects/&#123;&#125;/&#123;&#125;'</span>.format(hash[:<span class="hljs-number">2</span>], hash[<span class="hljs-number">2</span>:])<br>os.makedirs(os.path.dirname(path), exist_ok=<span class="hljs-literal">True</span>)<br><span class="hljs-keyword">with</span> open(path, <span class="hljs-string">'wb+'</span>) <span class="hljs-keyword">as</span> file:<br>    file.write(zlib_content)<br></code></pre></td></tr></table></figure><p>é©—è­‰å‰›å‰›å¯¦ä½œçš„ blob ç‰©ä»¶æ˜¯å¦æœ‰æ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cat-file -p ce0136</span><br>hello<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°æª”æ¡ˆå…§å®¹å°±ä»£è¡¨å¯¦ä½œæˆåŠŸ ğŸ˜ƒã€‚</p><h2 id="é©—è­‰-Git-ç‰©ä»¶"><a class="header-anchor" href="#é©—è­‰-Git-ç‰©ä»¶"></a>é©—è­‰ Git ç‰©ä»¶</h2><p>Git ç‰©ä»¶åç¨±å¯ä»¥ç”¨ä¾†æª¢æŸ¥ç‰©ä»¶çš„ type å’Œç‰©ä»¶å…§å®¹æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœ Git ç‰©ä»¶çš„æª”æ¡ˆåç¨±æˆ–å…§å®¹è¢«æƒ¡æ„ä¿®æ”¹ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“çš„ç™¼ç¾æœ‰éŒ¯èª¤ã€‚</p><p>Git å¯ç”¨ <code>git fsck</code> æŒ‡ä»¤ä¾†å¦‚ä½•é©—è­‰è³‡æ–™åº«ä¸­çš„ç‰©ä»¶æ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœé©—è­‰æˆåŠŸå°±æœƒåƒé€™æ¨£è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git fsck</span><br>Checking object directories: 100% (256/256), done.<br></code></pre></td></tr></table></figure><p>å‡è¨­æˆ‘æƒ¡æ„ä¿®æ”¹å‰›å‰›å»ºç«‹çš„ blob ç‰©ä»¶ï¼Œä½¿ç”¨ <code>git fsck</code> æŒ‡ä»¤å°±æœƒå‘ŠçŸ¥è©²ç‰©ä»¶æœ‰å•é¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> vim .git/objects/ce/013625030ba8dba906f756967f9e9ca394464a</span><br><span class="hljs-meta">$</span><span class="bash"> git fsck                                                  </span><br>error: inflate: data stream error (incorrect header check)<br>error: unable to unpack header of .git/objects/ce/013625030ba8dba906f756967f9e9ca394464a<br>error: ce013625030ba8dba906f756967f9e9ca394464a: object corrupt or missing: .git/objects/ce/013625030ba8dba906f756967f9e9ca394464a<br>Checking object directories: 100% (256/256), done.<br>missing blob ce013625030ba8dba906f756967f9e9ca394464a<br></code></pre></td></tr></table></figure><h2 id="SHA-1"><a class="header-anchor" href="#SHA-1"></a>SHA-1</h2><p>SHA-1 (Secure Hash Algorithm 1) æ˜¯ä¸€ç¨® hash (é›œæ¹Š) æ¼”ç®—æ³•ï¼Œå®ƒå¯ç”Ÿæˆ 160 bit (20 byte) çš„ hash å€¼ï¼Œé€šå¸¸ä»¥ 40 å€‹åå…­é€²ä½ (hex) çš„æ•¸å­—è¡¨ç¤º <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ã€‚</p><p>hash æ¼”ç®—æ³•çš„ç‰¹æ€§ <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>ï¼š</p><ul><li>çµ¦å®šè¨Šæ¯å¾ˆå®¹æ˜“è¨ˆç®—å‡º hash å€¼</li><li>å¾ˆé›£ç”¨å·²çŸ¥çš„ hash å€¼æ¨ç®—å‡ºåŸå§‹è¨Šæ¯</li><li>å¾ˆé›£ä¿®æ”¹è¨Šæ¯è€Œ hash å€¼ä¸è®Š</li><li>å¾ˆé›£è®“ä¸åŒçš„è¨Šæ¯æœ‰ç›¸åŒçš„ hash å€¼</li></ul><p>æ‰€ä»¥ Git æœ‰ä»¥ä¸‹å„ªé» <sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>ï¼š</p><ul><li>Git å¯é€éæ¯”è¼ƒç‰©ä»¶åç¨± (ä¹Ÿå°±æ˜¯ SHA-1) ä¾†å¿«é€Ÿç¢ºå®šå…©å€‹ç‰©ä»¶æ˜¯å¦ç›¸åŒ</li><li>åœ¨æ¯å€‹ repo ä¸­éƒ½ä»¥ç›¸åŒçš„æ–¹å¼è¨ˆç®—ç‰©ä»¶åç¨±ï¼Œæ‰€ä»¥å„²å­˜åœ¨ä¸åŒ repo å…§çš„ç›¸åŒå…§å®¹æœƒä»¥ç›¸åŒçš„åç¨±ä¾†å„²å­˜</li><li>å¯ä»¥é€éæª¢æŸ¥ç‰©ä»¶åç¨±ä¾†ç¢ºèªå…¶å…§å®¹çš„ SHA-1 hash å€¼ï¼ŒGit å¯åœ¨è®€å–ç‰©ä»¶æ™‚æª¢æŸ¥éŒ¯èª¤</li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Git-Objects" target="_blank" rel="noopener">Git Internals - Git Objects | Pro Git 2/e</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://git-scm.com/docs/user-manual#object-details" target="_blank" rel="noopener">Git - user-manual Documentation</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://zh.wikipedia.org/wiki/SHA-1" target="_blank" rel="noopener">SHA-1 - Wiki</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E9%9B%9C%E6%B9%8A%E5%87%BD%E6%95%B8" target="_blank" rel="noopener">å¯†ç¢¼é›œæ¹Šå‡½å¼ - Wiki</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p><a href="https://git-scm.com/docs/user-manual#the-object-database" target="_blank" rel="noopener">Git - user-manual Documentation</a> <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> æ·±å…¥ Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git - åˆªé™¤é ç«¯åˆ†æ”¯ (ä»¥ GitHubã€GitLab ç‚ºä¾‹)</title>
      <link href="/article/git-delete-remote-branch.html"/>
      <url>/article/git-delete-remote-branch.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/git.jpg" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹å¦‚ä½•åˆªé™¤ GitHub æˆ– GitLab çš„é ç«¯åˆ†æ”¯ï¼Œä»¥åŠé€éæ˜¯å¦å¯åˆªé™¤é ç«¯ <code>master</code> åˆ†æ”¯ (é›–ç„¶é€šå¸¸ä¸æœƒé€™æ¨£åš)ï¼Œä»¥äº†è§£å¦‚ä½•åœ¨ GitHub å’Œ GitLab ä¿®æ”¹é è¨­åˆ†æ”¯ã€‚</p><a id="more"></a><p>å¦‚æœæŸåˆ†æ”¯å·²åˆä½µè‡³é ç«¯çš„ <code>master</code> åˆ†æ”¯ (æˆ–ç©©å®šç‰ˆçš„åˆ†æ”¯) æ™‚ï¼Œå¯åœ¨ <code>git push</code> æŒ‡ä»¤åŠ ä¸Š <code>--delete</code> æˆ– <code>-d</code> é¸é …ä¾†åˆªé™¤é ç«¯åˆ†æ”¯ <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push &lt;remote&gt; --delete &lt;remoteBranchName&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> git push &lt;remote&gt; -d &lt;remoteBranchName&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin --delete dev</span><br>To github.com:titangene/git-demo.git<br> - [deleted]         dev<br></code></pre></td></tr></table></figure><p>æˆ–æ˜¯åœ¨ ref (åœ¨é€™é‚ŠæŒ‡çš„æ˜¯ä¸‹é¢æŒ‡ä»¤ä¸­çš„ <code>&lt;remoteBranchName&gt;</code> ) ä¹‹å‰åŠ ä¸Šå†’è™Ÿ ( <code>:</code> ) ä¹Ÿå¯ä»¥åˆªé™¤é ç«¯åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push &lt;remote&gt; :&lt;remoteBranchName&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin :dev</span><br>To github.com:titangene/git-demo.git<br> - [deleted]         dev<br></code></pre></td></tr></table></figure><p>æ­¤æŒ‡ä»¤æ˜¯åœ¨ <code>origin</code> repo ä¸­æ‰¾åˆ°èˆ‡ <code>dev</code> match çš„ ref (ä¾‹å¦‚ï¼š<code>refs/heads/dev</code> )ï¼Œç„¶å¾Œå°‡è©²é ç«¯åˆ†æ”¯åˆªé™¤ <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ï¼Œå…¶å¯¦å°±æ˜¯åˆªé™¤é ç«¯ server ä¸Šçš„åˆ†æ”¯æŒ‡æ¨™ã€‚Git Server æœƒå°‡è³‡æ–™ä¿ç•™ä¸€æ®µæ™‚é–“ï¼Œç›´åˆ°åŸ·è¡Œ GC (garbage collectionï¼Œåƒåœ¾å›æ”¶) ç‚ºæ­¢ã€‚æ‰€ä»¥å¦‚æœèª¤åˆªäº†åˆ†æ”¯éƒ½å¾ˆå®¹æ˜“æ¢å¾©ã€‚</p><h2 id="åˆªé™¤å¤šå€‹é ç«¯åˆ†æ”¯"><a class="header-anchor" href="#åˆªé™¤å¤šå€‹é ç«¯åˆ†æ”¯"></a>åˆªé™¤å¤šå€‹é ç«¯åˆ†æ”¯</h2><p>å¦‚æœè¦åˆªé™¤å¤šå€‹é ç«¯åˆ†æ”¯ï¼Œå¯ç›´æ¥å°‡å¤šå€‹æŒ‡å®šé ç«¯åˆ†æ”¯åŠ åœ¨å¾Œé¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin -d feature master</span><br>To github.com:titangene/git-demo.git<br> - [deleted]         feature<br> - [deleted]         master<br></code></pre></td></tr></table></figure><h2 id="ç„¡æ³•åˆªé™¤çš„é ç«¯åˆ†æ”¯"><a class="header-anchor" href="#ç„¡æ³•åˆªé™¤çš„é ç«¯åˆ†æ”¯"></a>ç„¡æ³•åˆªé™¤çš„é ç«¯åˆ†æ”¯</h2><p>é€šå¸¸é è¨­æœƒç„¡æ³•åˆªé™¤é ç«¯çš„ <code>master</code> åˆ†æ”¯ï¼Œå› ç‚ºé ç«¯é€šå¸¸æœƒå°‡ <code>master</code> åˆ†æ”¯ä½œç‚ºé è¨­åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin -d master</span><br>To github.com:titangene/git-demo.git<br> ! [remote rejected] master (refusing to delete the current branch: refs/heads/master)<br>error: failed to push some refs to 'git@github.com:titangene/git-demo.git'<br></code></pre></td></tr></table></figure><p>é è¨­æ˜¯ç„¡æ³•åˆªé™¤ GitHub å’Œ GitLab é ç«¯ repo çš„ <code>master</code> åˆ†æ”¯ã€‚</p><h2 id="åˆªé™¤-GitHub-çš„é ç«¯åˆ†æ”¯"><a class="header-anchor" href="#åˆªé™¤-GitHub-çš„é ç«¯åˆ†æ”¯"></a>åˆªé™¤ GitHub çš„é ç«¯åˆ†æ”¯</h2><p>å¦‚æœè¦åˆªé™¤ GitHub é ç«¯ repo çš„ <code>master</code> åˆ†æ”¯ï¼Œåªè¦å°‡è©² repo çš„é è¨­åˆ†æ”¯æ”¹æˆå…¶ä»–åˆ†æ”¯ï¼Œé€™æ¨£å°±å¯ä»¥åˆªæ‰äº†ã€‚</p><p>åœ¨ repo çš„ã€ŒSettings &gt; Branches &gt; Default branch &gt; å°‡é è¨­åˆ†æ”¯æ”¹ç‚ºå…¶ä»–åˆ†æ”¯ &gt; Updateã€ï¼Œå¦‚åœ–ï¼š</p><p><img src="../images/git-delete-remote-branch/2020-02-09-23-30-43.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin -d master</span><br>To github.com:titangene/git-demo.git<br> - [deleted]         master<br></code></pre></td></tr></table></figure><h2 id="åˆªé™¤-GitLab-çš„é ç«¯åˆ†æ”¯"><a class="header-anchor" href="#åˆªé™¤-GitLab-çš„é ç«¯åˆ†æ”¯"></a>åˆªé™¤ GitLab çš„é ç«¯åˆ†æ”¯</h2><p>åˆªé™¤ GitLab é ç«¯ repo çš„ <code>master</code> åˆ†æ”¯æ™‚ï¼Œæœƒç™¼ç”Ÿä»¥ä¸‹éŒ¯èª¤ï¼ŒéŒ¯èª¤è¨Šæ¯ä¸­ç›´æ¥èªªæ˜ <code>master</code> åˆ†æ”¯æ˜¯é è¨­åˆ†æ”¯ï¼Œæ‰€ä»¥ç„¡æ³•åˆªé™¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push gitlab -d master</span><br>remote: GitLab: The default branch of a project cannot be deleted.<br>To gitlab.com:titangene/git-demo.git<br> ! [remote rejected] master (pre-receive hook declined)<br>error: failed to push some refs to 'git@gitlab.com:titangene/git-demo.git'<br></code></pre></td></tr></table></figure><p>åœ¨ repo çš„ã€ŒSettings &gt; Repository &gt; Default branch &gt; å°‡é è¨­åˆ†æ”¯æ”¹ç‚ºå…¶ä»–åˆ†æ”¯ &gt; Save changesã€ï¼Œå¦‚åœ–ï¼š</p><p><img src="../images/git-delete-remote-branch/2020-02-09-23-28-47.png" alt=""></p><p>é‚£å¦‚æœå°‡é è¨­åˆ†æ”¯æ”¹æˆå…¶ä»–åˆ†æ”¯å‘¢ï¼Ÿçµæœé‚„æ˜¯ä¸èƒ½åˆªé™¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push gitlab -d master</span><br>remote: GitLab: You can only delete protected branches using the web interface.<br>To gitlab.com:titangene/git-demo.git<br> ! [remote rejected] master (pre-receive hook declined)<br>error: failed to push some refs to 'git@gitlab.com:titangene/git-demo.git'<br></code></pre></td></tr></table></figure><p>å…¶å¯¦åŸå› ä¹Ÿå¯«åœ¨éŒ¯èª¤è¨Šæ¯å…§ï¼Œå› ç‚º GitLab æœƒé è¨­å°‡ repo çš„ <code>master</code> åˆ†æ”¯è¨­ç‚ºå—ä¿è­·çš„åˆ†æ”¯ (protected branch) <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>ï¼Œæ‰€ä»¥æ‰ä¸èƒ½åˆªé™¤ã€‚</p><p>å¦‚æœè¦åˆªé™¤å—ä¿è­·çš„åˆ†æ”¯ï¼Œé‚£å°±è®“ä»–ä¸å—ä¿è­·å°±å¯ä»¥å›‰ XDã€‚</p><p>åœ¨ repo çš„ã€ŒSettings &gt; Repository &gt; Protected Branches &gt; Unprotect <code>master</code> åˆ†æ”¯ã€ï¼Œå¦‚åœ–ï¼š</p><p><img src="../images/git-delete-remote-branch/2020-02-09-23-30-32.png" alt=""></p><p>è¨­å®šå¾Œå°±å¯ä»¥åˆªé™¤ <code>master</code> åˆ†æ”¯äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push gitlab -d master</span><br>To gitlab.com:titangene/git-demo.git<br> - [deleted]         master<br></code></pre></td></tr></table></figure><h2 id="å¯Ÿçœ‹æ˜¯å¦åˆªé™¤é ç«¯åˆ†æ”¯"><a class="header-anchor" href="#å¯Ÿçœ‹æ˜¯å¦åˆªé™¤é ç«¯åˆ†æ”¯"></a>å¯Ÿçœ‹æ˜¯å¦åˆªé™¤é ç«¯åˆ†æ”¯</h2><p>å¦å¤–ï¼Œå¦‚æœç”¨ <code>git branch -vv</code> å¯ä»¥çœ‹åˆ°è©²åˆ†æ”¯å·²è¢«åˆªé™¤ (è¼¸å‡ºè¨Šæ¯ä¸­çš„ <code>gone</code> )ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -vv</span><br>* dev    44fdaf6 [origin/dev: gone] feat: d<br>  master 49135dc [origin/master] feat: b<br></code></pre></td></tr></table></figure><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches#_delete_branches" target="_blank" rel="noopener">Git - Remote Branches | Pro Git, 2/e</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://git-scm.com/docs/git-push#Documentation/git-push.txt-codegitpushoriginexperimentalcode" target="_blank" rel="noopener">Git - git-push Documentation</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://gitlab.com/help/user/permissions" target="_blank" rel="noopener">Permissions Â· User Â· Help Â· GitLab</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://gitlab.com/help/user/project/protected_branches" target="_blank" rel="noopener">Protected branches Â· Project Â· User Â· Help Â· GitLab</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> w3HexSchool </tag>
            
            <tag> GitHub </tag>
            
            <tag> GitLab </tag>
            
            <tag> Branch </tag>
            
            <tag> Remote </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - ç¸½çµ &amp; ç³»åˆ—ç›®éŒ„</title>
      <link href="/article/css-series-catalog.html"/>
      <url>/article/css-series-catalog.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>çµ‚æ–¼ä¾†åˆ°éµäººè³½çš„æœ€å¾Œä¸€å¤©ï¼æœ¬ç¯‡å°ã€Œé‡æ–°èªè­˜ CSSã€æ­¤ç³»åˆ—åšå€‹ç¸½çµï¼Œä¸¦æ•´ç†æ­¤ç³»åˆ—ä¸­çš„æ¯ç¯‡æ–‡ç« å¯å°æ‡‰åˆ°å“ªäº› CSS Specã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10228321" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - ç¸½çµ &amp; ç³»åˆ—ç›®éŒ„</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>å°±å¦‚å‰è¨€æ‰€èªªï¼Œç¶“éé€™æ¬¡çš„éµäººè³½ï¼Œé€éçœ‹ spec ä¾†å­¸ç¿’ CSS çš„çœŸå¯¦é¢è²Œï¼Œè€Œä¸æ˜¯æœªç¶“é©—è­‰æˆ–è‡ªè¡Œè…¦è£œä¾†åˆ‡ç‰ˆï¼Œè®“è‡ªå·±èƒ½çœŸæ­£çš„ã€Œé‡æ–°èªè­˜ CSSã€ã€‚</p><p>é€™å€‹æœˆä»¥ä¾†éƒ½æ˜¯ç•¶å¤©çœ‹ spec ç•¶å¤©å¯«æ–‡ï¼Œæ‰€ä»¥æ¯å¤©éƒ½æœ‰éµäººè³½çš„æ„Ÿè¦ºã€‚èµ·åˆçœ‹ spec çš„æ™‚å€™ï¼Œè…¦ä¸­å¤©æ—‹åœ°è½‰ï¼Œå¥½å¤šä»¥å‰é‡ä¾†æ²’çœ‹éçš„å°ˆæœ‰åè©ï¼Œé‚„å¥½æœ‰<a href="https://ithelp.ithome.com.tw/2020ironman/signup/team/78" target="_blank" rel="noopener">å¥½æƒ³å·¥ä½œå®¤</a>çš„å¤¥ä¼´è·Ÿæˆ‘ä¸€èµ·è¨è«– specï¼ŒåŠ å¿«æˆ‘ç†è§£çš„é€Ÿåº¦ã€‚</p><p>æˆ‘ç¬¬ä¸€æ¬¡å¯«é€£çºŒé€™éº¼å¤šå¤©çš„æ–‡ç« ï¼Œé›–ç„¶æ²’æœ‰åƒä»¥å‰åƒåŠ éµäººè³½çš„å‰è¼©å€‘èªªçš„é‚£æ¨£ï¼šã€Œåˆ°å¾Œé¢å¹¾å¤©å°±æœƒä¸çŸ¥é“è¦å¯«ä»€éº¼äº†ã€ï¼Œæ‰€ä»¥å»ºè­°æˆ‘åœ¨é–‹è³½å‰ï¼Œäº‹å…ˆè¦åŠƒå¥½é€™ 30 å¤©è¦å¯«ä»€éº¼ã€‚ä¸éæˆ‘ä¹Ÿæ²’æœ‰ç‰¹åˆ¥äº‹å…ˆå®‰æ’å¯«æ–‡çš„é †åºï¼Œå› ç‚ºæˆ‘åŸæœ¬å°±é è¨ˆæœƒæŒ‰ç…§ <a href="https://www.w3.org/TR/CSS22/Overview.html#minitoc" target="_blank" rel="noopener">CSS 2.2</a> çš„å¤§ç¶±ä¾†å•ƒ specï¼Œæ‰€ä»¥æˆ‘ä¸æ€•æ²’æœ‰ä¸»é¡Œå¯ä»¥å¯«ï¼Œåªæ€•è‡ªå·±ç†è§£çš„é€Ÿåº¦è·Ÿä¸ä¸Šç™¼æ–‡çš„é€Ÿåº¦ QQï¼Œé‚„å¥½æœ€å¾ŒæˆåŠŸå®Œè³½ ğŸ˜„ã€‚</p><p>é›–ç„¶éµäººå®Œè³½äº†ï¼Œä½†é€™åªæ˜¯æˆ‘å­¸ç¿’æ—…ç¨‹çš„é–‹å§‹ï¼Œå¦‚æœæœªä¾†é‚„æœ‰å¾ŒçºŒçš„å­¸ç¿’ç´€éŒ„ï¼Œéƒ½æœƒåˆ†äº«åœ¨æˆ‘çš„ blogã€Œ<a href="https://titangene.github.io/">Titangene Blog</a>ã€ï¼Œæ­¡è¿å¤§å®¶ä¾†å…‰é¡§ã€‚å¦‚æœæƒ³çŸ¥é“æˆ‘ä¹‹å‰å¯«éå“ªäº›å°ˆæ¡ˆï¼Œå¯ä»¥åˆ°æˆ‘çš„ <a href="https://github.com/titangene" target="_blank" rel="noopener">Githubï¼štitangene</a> çœ‹çœ‹ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘å°æ–¼é€™æ¬¡ç³»åˆ—ã€Œé‡æ–°èªè­˜ CSSã€çš„æ•´ç†ï¼Œè®“å¤§å®¶å¯ä»¥æ›´å¿«çŸ¥é“å“ªäº›å…§å®¹å¯ä»¥å°æ‡‰åˆ°å“ªäº› specã€‚</p><h2 id="ç°¡ä»‹"><a class="header-anchor" href="#ç°¡ä»‹"></a>ç°¡ä»‹</h2><p>ç°¡ä»‹ CSSï¼Œä¸¦èªªæ˜å¦‚ä½•åœ¨ HTML ä½¿ç”¨ CSSã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-introduction.html">é‡æ–°èªè­˜ CSS - CSS ç°¡ä»‹</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/html401/present/styles.html" target="_blank" rel="noopener">HTM 4.01 - 14. Style Sheets</a></li><li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" target="_blank" rel="noopener">HTML Living Standard - 4.2.4. The link element</a></li></ul></blockquote><h2 id="Selector"><a class="header-anchor" href="#Selector"></a>Selector</h2><p>Selector æ˜¯å¯« CSS æ™‚ï¼Œå¿…é ˆæŒæ¡çš„æ±è¥¿ï¼Œç†Ÿæ‚‰ selector æ‰æœƒé¸åˆ°æ­£ç¢ºçš„å…ƒç´ ã€‚è€Œæ­¤ç³»åˆ—æ˜¯ä¾æ“š <a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a> çš„åˆ†é¡ä¾†å„åˆ¥ä»‹ç´¹çš„ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-selector-1.html">é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</a></li><li><a href="https://titangene.github.io/article/css-attribute-selector.html">é‡æ–°èªè­˜ CSS - Attribute selector (å±¬æ€§é¸æ“‡å™¨)</a></li><li><a href="https://titangene.github.io/article/css-selector-pseudo-class-1.html">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (1)</a></li><li><a href="https://titangene.github.io/article/css-selector-pseudo-class-2.html">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (2)</a></li><li><a href="https://titangene.github.io/article/css-selector-pseudo-element.html">é‡æ–°èªè­˜ CSS - Pseudo-element (å½å…ƒç´ )</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 - 5. Selectors</a></li><li><a href="https://www.w3.org/TR/CSS22/generate.html#before-after-content" target="_blank" rel="noopener">CSS 2.2 - 12.1. The :before and :after pseudo-elements</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li><li><a href="https://www.w3.org/TR/css-pseudo-4/" target="_blank" rel="noopener">CSS Pseudo-Elements Module Level 4</a></li></ul></blockquote><h2 id="Values-Units"><a class="header-anchor" href="#Values-Units"></a>Values &amp; Units</h2><p>åœ¨é–‹å§‹èªè­˜ CSS å±¬æ€§ä¹‹å‰ï¼Œå¯ä»¥å…ˆèªè­˜å±¬æ€§æœ‰å“ªäº›å€¼å’Œå–®ä½å¯ä»¥ä½¿ç”¨ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-attribute-value.html">é‡æ–°èªè­˜ CSS - CSS å±¬æ€§å€¼</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/syndata.html#values" target="_blank" rel="noopener">CSS 2.2 - 4.3. Values</a></li><li><a href="https://www.w3.org/TR/css-values-3/" target="_blank" rel="noopener">CSS Values and Units Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-values-4/" target="_blank" rel="noopener">CSS Values and Units Module Level 4</a></li></ul></blockquote><h2 id="Assigning-property-values-Cascading-and-Inheritance"><a class="header-anchor" href="#Assigning-property-values-Cascading-and-Inheritance"></a>Assigning property values, Cascading, and Inheritance</h2><p>äº†è§£åœ¨ CSS ä¸­ï¼Œç¹¼æ‰¿å’Œæ¬Šé‡é€™äº›é‡è¦çš„è§€å¿µä¹‹å¾Œï¼Œæ¥è‘—å°±å¯ä»¥æ›´æ·±å…¥çš„äº†è§£ CSS æ˜¯å¦‚ä½•è™•ç†å±¬æ€§å€¼çš„ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-inheritance.html">é‡æ–°èªè­˜ CSS - Inheritance (ç¹¼æ‰¿)</a></li><li><a href="https://titangene.github.io/article/css-cascading-and-specificity.html">é‡æ–°èªè­˜ CSS - Cascading &amp; Specificity</a></li><li><a href="https://titangene.github.io/article/css-value-processing.html">é‡æ–°èªè­˜ CSS - CSS å¦‚ä½•è™•ç†å±¬æ€§å€¼</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/cascade.html" target="_blank" rel="noopener">CSS 2.2 - 6. Assigning property values, Cascading, and Inheritance</a></li><li><a href="https://www.w3.org/TR/css-cascade-3/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 3</a></li><li><a href="https://www.w3.org/TR/css-cascade-4/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 4</a></li></ul></blockquote><h2 id="media-import-rules"><a class="header-anchor" href="#media-import-rules"></a><code>@media</code> &amp; <code>@import</code> rules</h2><p>å¼•å…¥å…¶ä»– CSS æª”æ¡ˆæˆ–åœ¨å¤šå€‹è£ç½®ã€è§£æåº¦ã€è¢å¹•å°ºå¯¸ä¸‹è¦æ‡‰ç”¨å“ªå€‹ style sheet (æ¨£å¼è¡¨)ï¼Œå°±éœ€è¦äº†è§£å¦‚ä½•ä½¿ç”¨ <code>@media</code> å’Œ <code>@import</code>ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-media-type.html">é‡æ–°èªè­˜ CSS - Media type</a></li><li><a href="https://titangene.github.io/article/css-media-query.html">é‡æ–°èªè­˜ CSS - Media query</a></li><li><a href="https://titangene.github.io/article/css-import.html">é‡æ–°èªè­˜ CSS - @import</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/media.html" target="_blank" rel="noopener">CSS 2.2 - 7. Media types</a></li><li><a href="https://www.w3.org/TR/css3-mediaqueries/" target="_blank" rel="noopener">Media Queries</a></li><li><a href="https://www.w3.org/TR/mediaqueries/" target="_blank" rel="noopener">Media Queries Level 4</a></li><li><a href="https://www.w3.org/TR/CSS22/cascade.html#at-import" target="_blank" rel="noopener">CSS 2.2 - 6.3 The @import rule</a></li></ul></blockquote><h2 id="Box-model"><a class="header-anchor" href="#Box-model"></a>Box model</h2><p>Box model æ˜¯ç”¨ä¾†æè¿° document tree ä¸­çš„æ¯å€‹å…ƒç´ æ‰€ç”¢ç”Ÿçš„çŸ©å½¢æ¡†ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-box-model.html">é‡æ–°èªè­˜ CSS - Box model (å‰å‚³)</a></li><li><a href="https://titangene.github.io/article/css-border.html">é‡æ–°èªè­˜ CSS - Box modelï¼šborder</a></li><li><a href="https://titangene.github.io/article/css-box-sizing.html">é‡æ–°èªè­˜ CSS - box-sizing</a></li><li><a href="https://titangene.github.io/article/css-collapsing-margins.html">é‡æ–°èªè­˜ CSS - Collapsing margins</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/box.html" target="_blank" rel="noopener">CSS 2.2 - 8. Box model</a></li><li><a href="https://www.w3.org/TR/css-box-3/" target="_blank" rel="noopener">CSS Box Model Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-ui-3/#box-model" target="_blank" rel="noopener">CSS Basic User Interface Module Level 3 (CSS3 UI) - 3. Box Model addition</a></li><li><a href="https://www.w3.org/TR/css-backgrounds-3/#borders" target="_blank" rel="noopener">CSS Backgrounds and Borders Module Level 3 - 4. Borders</a></li></ul></blockquote><h2 id="Visual-formatting-model"><a class="header-anchor" href="#Visual-formatting-model"></a>Visual formatting model</h2><p>Visual formatting model æ˜¯ç”¨ä¾†æè¿° UA æœƒå¦‚ä½•è™•ç†è¦–è¦ºåª’é«” (visual media) çš„ document treeï¼Œdocument tree ä¸­çš„æ¯å€‹å…ƒç´ éƒ½æœƒæ ¹æ“š box model ä¾†ç”¢ç”Ÿ 0 å€‹æˆ–å¤šå€‹ boxã€‚è€Œé€™äº› box çš„ä½ç½®å’Œå¤§å°éƒ½æ˜¯ç›¸å°æ–¼ç¨±ç‚º containing block çš„çŸ©å½¢æ¡†çš„é‚Šç·£è¨ˆç®—çš„ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-containing-block.html">é‡æ–°èªè­˜ CSS - Containing block</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#containing-block" target="_blank" rel="noopener">CSS 2.2 - 9.1.2. Containing blocks</a></li><li><a href="https://www.w3.org/TR/CSS22/visudet.html#containing-block-details" target="_blank" rel="noopener">CSS 2.2 - 10.1. Definition of â€œcontaining blockâ€</a></li></ul></blockquote><h3 id="Controlling-box-generation"><a class="header-anchor" href="#Controlling-box-generation"></a>Controlling box generation</h3><p>å…ƒç´ ç”¢ç”Ÿçš„ box çš„ typeï¼Œå¯ä»¥ä½¿ç”¨ <code>display</code> å±¬æ€§ä¾†æŒ‡å®šï¼Œè€Œ box çš„ type æœƒå½±éŸ¿ box åœ¨ visual formatting model ä¸­çš„è¡Œç‚ºã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-box-generation-block-box.html">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (block)</a></li><li><a href="https://titangene.github.io/article/css-box-generation-inline-box.html">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (inline)</a></li><li><a href="https://titangene.github.io/article/css-display.html">é‡æ–°èªè­˜ CSS - display</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#box-gen" target="_blank" rel="noopener">CSS 2.2 - 9.2. Controlling box generation</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li></ul></blockquote><h3 id="Formatting-context-Normal-flow"><a class="header-anchor" href="#Formatting-context-Normal-flow"></a>Formatting context &amp; Normal flow</h3><p>Normal flow ä¸­çš„ box å±¬æ–¼æŸç¨® formatting contextï¼Œå¯æ˜¯ block æˆ– inlineï¼Œä¸åŒçš„ box æœƒåƒèˆ‡ä¸åŒçš„ formatting contextã€‚block-level box æœƒåƒèˆ‡ BFCï¼Œinline-level box æœƒåƒèˆ‡ IFCã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-formatting-context.html">é‡æ–°èªè­˜ CSS - formatting context &amp; independent formatting context</a></li><li><a href="https://titangene.github.io/article/css-bfc.html">é‡æ–°èªè­˜ CSS - Block formatting context (BFC)</a></li><li><a href="https://titangene.github.io/article/css-ifc.html">é‡æ–°èªè­˜ CSS - Inline formatting context (IFC)</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#block-formatting" target="_blank" rel="noopener">CSS 2.2 - 9.4.1. Block formatting contexts</a></li><li><a href="https://www.w3.org/TR/CSS22/visuren.html#inline-formatting" target="_blank" rel="noopener">CSS 2.2 - 9.4.2. Inline formatting contexts</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-inline-3/" target="_blank" rel="noopener">CSS Inline Layout Module Level 3</a></li></ul></blockquote><h3 id="Positioning-schemes"><a class="header-anchor" href="#Positioning-schemes"></a>Positioning schemes</h3><p>åœ¨ CSS 2.2 ä¸­ï¼Œ<code>position</code> å’Œ <code>float</code> å±¬æ€§é€™äº›å®šä½æ–¹æ¡ˆéƒ½å¯ä»¥å° box é€²è¡Œä½ˆå±€ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-position.html">é‡æ–°èªè­˜ CSS - position</a></li><li><a href="https://titangene.github.io/article/css-float.html">é‡æ–°èªè­˜ CSS - float</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#positioning-scheme" target="_blank" rel="noopener">CSS 2.2 - 9.3. Positioning schemes</a></li><li><a href="https://www.w3.org/TR/css-position-3/" target="_blank" rel="noopener">CSS Positioned Layout Module Level 3</a></li></ul></blockquote><h3 id="Layered-presentation"><a class="header-anchor" href="#Layered-presentation"></a>Layered presentation</h3><p>é™¤äº†æ°´å¹³å’Œå‚ç›´çš„ä½ç½®ä¹‹å¤–ï¼Œå¦‚æœæƒ³è®“ box å¯ä»¥æœ‰é¡ä¼¼åœ–å±¤çš„æ¦‚å¿µä¾†æ’ç‰ˆï¼Œå°±èƒ½ä½¿ç”¨ <code>z-index</code> å±¬æ€§ï¼Œé€™äº› box å¯ä»¥æ²¿è‘— z è»¸ä¾†æ’åˆ—ï¼Œè®“ä¸€å€‹ box å¯ä»¥ç–Šåœ¨å¦ä¸€å€‹ box çš„ä¸Šé¢ã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-z-index-and-stacking-context.html">é‡æ–°èªè­˜ CSS - z-index &amp; stacking context</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#layers" target="_blank" rel="noopener">CSS 2.2 - 9.9. Layered presentation</a></li></ul></blockquote><h2 id="Visual-effects"><a class="header-anchor" href="#Visual-effects"></a>Visual effects</h2><p>ç•¶ block box çš„å…§å®¹è¶…å‡º box çš„ content edge æ™‚ï¼Œå°±å¯èƒ½æœƒç™¼ç”Ÿ overflowã€‚ä½¿ç”¨ <code>overflow</code> å±¬æ€§å°±èƒ½æŒ‡å®šè¶…å‡ºçš„éƒ¨ä»½è¦å¦‚ä½•è™•ç† (ä¾‹å¦‚ï¼šæä¾›æ²å‹•æ©Ÿåˆ¶ä¾†è¨ªå•è¢«å‰ªè£çš„å…§å®¹)ã€‚è€Œ <code>visibility</code> å±¬æ€§å‰‡å¯ä»¥æŒ‡å®šæ˜¯å¦è¦ render ç”±å…ƒç´ ç”¢ç”Ÿçš„ boxï¼Œå¯ç”¨ä¾†é¡¯ç¤ºæˆ–éš±è— boxã€‚ç³»åˆ—å¦‚ä¸‹ï¼š</p><ul><li><a href="https://titangene.github.io/article/css-overflow.html">é‡æ–°èªè­˜ CSS - overflow</a></li><li><a href="https://titangene.github.io/article/css-visibility.html">é‡æ–°èªè­˜ CSS - visibility</a></li></ul><blockquote><p>å°æ‡‰ spec çš„ä»¥ä¸‹å¹¾ç¯‡ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visufx.html" target="_blank" rel="noopener">CSS 2.2 - 11. Visual effects</a></li><li><a href="https://www.w3.org/TR/CSS22/tables.html#dynamic-effects" target="_blank" rel="noopener">CSS 2.2 - 17.5.5. Dynamic row and column effects</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - z-index &amp; stacking context</title>
      <link href="/article/css-z-index-and-stacking-context.html"/>
      <url>/article/css-z-index-and-stacking-context.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ <code>z-index</code> å±¬æ€§å’Œ stacking contextã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10228026" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - z-index &amp; stacking context</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>å¾ CSS 2.1 é–‹å§‹ï¼Œæ¯å€‹ box åœ¨ä¸‰ç¶­ç©ºé–“ä¸Šéƒ½æœ‰ä¸€å€‹ä½ç½®ï¼Œé™¤äº†æ°´å¹³å’Œå‚ç›´çš„ä½ç½®ä¹‹å¤–ï¼Œé€™äº› box é‚„æœƒæ²¿è‘— z è»¸ä¾†æ’åˆ—ï¼Œè®“ä¸€å€‹ box å¯ä»¥ç–Šåœ¨å¦ä¸€å€‹ box çš„ä¸Šé¢ï¼Œé€™å€‹æ¦‚å¿µå°±é¡ä¼¼æ–¼åœ–å±¤ã€‚</p><p>ç•¶ä½¿ç”¨è€…é¢å°è¢å¹•æ™‚ï¼Œå…ƒç´ çš„ <code>z-index</code> å±¬æ€§è¨­å®šçš„æ•¸å€¼æ„ˆå¤§ï¼Œå‰‡è©²å…ƒç´ å°±æœƒæ„ˆé è¿‘ä½¿ç”¨è€…ã€‚</p><h2 id="z-index-å±¬æ€§"><a class="header-anchor" href="#z-index-å±¬æ€§"></a><code>z-index</code> å±¬æ€§</h2><p>ä¸‹é¢æ˜¯ <code>z-index</code> å±¬æ€§çš„å®šç¾©è¡¨ï¼š</p><p><img src="../images/css-z-index-and-stacking-context/2019-10-14-12-15-58.png" alt=""></p><ul><li>æ­¤å…ƒç´ çš„ initial value ç‚º <code>auto</code></li><li>åªé©ç”¨æ–¼å®šä½å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ çš„ <code>position</code> å±¬æ€§ä¸ç‚ºé è¨­å€¼ <code>static</code>ï¼ŒåŒ…æ‹¬ï¼š<code>absolute</code>ã€<code>relative</code>ã€<code>fixed</code></li><li>æ­¤å…ƒç´ ç‚ºä¸å¯ç¹¼æ‰¿å±¬æ€§</li></ul><p><code>z-index</code> å±¬æ€§æ˜¯å° positioned box æŒ‡å®šäº†ï¼š</p><ul><li>ç•¶å‰ stacking context ä¸­ box çš„ stack level</li><li>è©² box æ˜¯å¦å»ºç«‹ stacking context</li></ul><p>ä¸‹é¢ä»‹ç´¹å„å±¬æ€§å€¼ï¼š</p><ul><li><code>&lt;integer&gt;</code>ï¼šè©²æ•´æ•¸æ˜¯ç•¶å‰ stacking context ä¸­ç”¢ç”Ÿçš„ box çš„ stack levelã€‚è©² box é‚„å»ºç«‹äº†ä¸€å€‹æ–°çš„ stacking context</li><li><code>auto</code>ï¼šç•¶å‰ stacking context ä¸­ç”¢ç”Ÿçš„ box çš„ stack level ç‚º 0ã€‚å¦‚æœè©² box å…·æœ‰ <code>position: fixed</code> æˆ–æ˜¯ rootï¼Œå‰‡å®ƒé‚„æœƒå»ºç«‹æ–°çš„ stacking context</li></ul><h2 id="stacking-context"><a class="header-anchor" href="#stacking-context"></a>stacking context</h2><blockquote><p>åŸæœ¬å…ƒç´ æœƒ in-flow ä¾†æ’åˆ—ï¼Œç•¶å…ƒç´ ä½¿ç”¨ <code>position</code> å±¬æ€§è¨­å®šæ’åˆ—çš„ä½ç½®æ™‚ï¼Œæœƒå¾åŸæœ¬çš„ä½ç½®ç§»è‡³æŒ‡å®šçš„ä½ç½®ï¼Œç”šè‡³æ˜¯ out-of-flowï¼Œæ­¤æ™‚å°±æœƒå»ºç«‹æ–°çš„ stacking context</p></blockquote><ul><li>render tree ç¹ªè£½ (painted) åˆ° canvas ä¸Šçš„é †åºæ˜¯æ ¹æ“š stacking context ä¾†æ±ºå®šçš„</li><li>æ¯å€‹ box éƒ½å±¬æ–¼ä¸€å€‹ stacking contextï¼Œä¸¦ä¸”æ¯å€‹å®šä½çš„ box éƒ½æœ‰ä¸€å€‹æ•´æ•¸çš„ stack level<ul><li>stack levelï¼šä»£è¡¨è©² box åœ¨ z è»¸ä¸Šç›¸å°æ–¼åŒä¸€å€‹ stacking context ä¸­å…¶ä»– stack level çš„ä½ç½®</li></ul></li><li>stack level è¼ƒé«˜çš„ box æœƒåœ¨ stack level è¼ƒä½çš„ box å‰é¢</li><li>box çš„ stack level å¯èƒ½ç‚ºè² æ•¸</li><li>åœ¨ stacking context ä¸­ï¼Œstack level ç›¸åŒçš„ box æœƒæ ¹æ“š document tree çš„é †åºä¾†å †ç–Š (stacked)ï¼Œä¹Ÿå°±æ˜¯è¶Šå¯«åœ¨ HTML å¾Œé¢çš„å…ƒç´ æœƒè“‹ä½å‰é¢çš„å…ƒç´ </li><li>stacking context å¯ä»¥åŒ…å«å…¶ä»– stacking context</li></ul><p>å¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box box1"</span>&gt;</span>box1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box box2"</span>&gt;</span>box2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36px</span>;<br>&#125;<br><span class="hljs-selector-class">.box1</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: lightblue;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> -<span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;<br>&#125;<br><span class="hljs-selector-class">.box2</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: lightslategray;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/OJJNJJY" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><code>.box2</code> å…ƒç´ åœ¨ <code>.box1</code> å…ƒç´ ä¹‹å¾Œï¼Œæ‰€ä»¥ <code>.box2</code> å…ƒç´ æœƒè“‹ä½ <code>.box1</code> å…ƒç´ ï¼š</p><p><img src="../images/css-z-index-and-stacking-context/2019-10-14-19-13-08.png" alt=""></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div1"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #1<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: relative;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 5;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div2"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: relative;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 2;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div3"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div4"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #4<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: relative;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 6;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #3<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: absolute;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 4;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div5"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #5<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: relative;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 1;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"div6"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>div #6<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>position: absolute;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>z-index: 3;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; &#125;<br><span class="hljs-selector-tag">html</span> &#123; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; &#125;<br><span class="hljs-selector-tag">div</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>;<br>&#125;<br><span class="hljs-selector-id">#div1</span>,<br><span class="hljs-selector-id">#div2</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#cfc</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#696</span>;<br>&#125;<br><span class="hljs-selector-id">#div1</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">160px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">280px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">220px</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">300px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">5</span>;<br>&#125;<br><span class="hljs-selector-id">#div2</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">240px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-selector-id">#div3</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdd</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40px</span> <span class="hljs-number">20px</span> <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#900</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">340px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">4</span>;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-selector-id">#div4</span>,<br><span class="hljs-selector-id">#div5</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ffc</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#996</span>;<br>&#125;<br><span class="hljs-selector-id">#div4</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span> <span class="hljs-number">10px</span> <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">6</span>;<br>&#125;<br><span class="hljs-selector-id">#div5</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-selector-id">#div6</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">180px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ddf</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">300px</span> <span class="hljs-number">20px</span> <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#009</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">3</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/KKKzwZe" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>ç¯„ä¾‹å¦‚åœ–ï¼š</p><p><img src="../images/css-z-index-and-stacking-context/2019-10-14-19-07-02.png" alt=""></p><iframe height="559" style="width:100%" scrolling="no" title="stacking context: z-index" src="https://codepen.io/titangene/embed/KKKzwZe?height=559&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/KKKzwZe" target="_blank" rel="noopener">stacking context: z-index</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#z-index" target="_blank" rel="noopener">CSS 2.2 - 9.9.1. Specifying the stack level: the <code>z-index</code> property</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context" target="_blank" rel="noopener">The stacking context - CSS: Cascading Style Sheets | MDN</a></li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - visibility</title>
      <link href="/article/css-visibility.html"/>
      <url>/article/css-visibility.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ <code>visibility</code> å±¬æ€§ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10227785" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - visibility</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="visibility-å±¬æ€§"><a class="header-anchor" href="#visibility-å±¬æ€§"></a><code>visibility</code> å±¬æ€§</h2><p><code>visibility</code> å±¬æ€§æ˜¯ç”¨æ–¼æŒ‡å®šæ˜¯å¦ render ç”±å…ƒç´ ç”¢ç”Ÿçš„ boxï¼Œå¯ç”¨ä¾†é¡¯ç¤ºæˆ–éš±è— boxï¼Œè€Œç„¡éœ€æ›´æ”¹æ–‡ä»¶çš„ä½ˆå±€ã€‚</p><p>ä¸‹é¢æ˜¯ <code>visibility</code> å±¬æ€§çš„å®šç¾©è¡¨ï¼š</p><p><img src="../images/css-visibility/css-visibility-property.png" alt=""></p><ul><li>æ­¤å…ƒç´ çš„ initial value ç‚º <code>visible</code></li><li>é©ç”¨æ–¼æ‰€æœ‰å…ƒç´ </li><li>æ­¤å…ƒç´ ç‚ºå¯ç¹¼æ‰¿å±¬æ€§ï¼Œdescendant æœƒç¹¼æ‰¿çˆ¶å…ƒç´ çš„ <code>visibility</code> å±¬æ€§è¨­å®š</li></ul><p>ä¸‹é¢ä»‹ç´¹å„å±¬æ€§å€¼ï¼š</p><h3 id="visible"><a class="header-anchor" href="#visible"></a><code>visible</code></h3><ul><li><code>visibility</code> å±¬æ€§çš„ initial value</li><li>ç”¢ç”Ÿçš„ box æ˜¯å¯è¦‹çš„</li></ul><h3 id="hidden"><a class="header-anchor" href="#hidden"></a><code>hidden</code></h3><ul><li>ç”¢ç”Ÿçš„ box æ˜¯ä¸å¯è¦‹çš„ (å®Œå…¨é€æ˜ï¼Œä¸æœƒç¹ªè£½ (drawn) åœ¨ç•«é¢ä¸Š)</li><li>ä½†ä¸å¯è¦‹çš„ box é‚„æ˜¯æœƒå½±éŸ¿ä½ˆå±€</li><li>å¦‚æœå…ƒç´ çš„ descendant è¨­å®š <code>visibility: visible</code>ï¼Œå‰‡å®ƒå€‘å°‡æ˜¯å¯è¦‹çš„</li></ul><p>å¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼Œ<code>.outer</code> å…ƒç´ è¨­å®š <code>visibility: hidden</code>ï¼Œè€Œ <code>.outer</code> å…ƒç´ æœ‰å…©å€‹ descendantï¼Œæ‰€æœ‰ descendant éƒ½æœƒç¹¼æ‰¿çˆ¶å…ƒç´  <code>.outer</code> çš„ <code>visibility</code> å±¬æ€§è¨­å®šï¼š</p><ul><li><code>.inner-hidden</code> å…ƒç´ ï¼šå› ç‚ºæ²’æœ‰åœ¨æ­¤å…ƒç´ è¨­å®š <code>visibility: visible</code>ï¼Œæ‰€ä»¥å…ƒç´ ç‚ºä¸å¯è¦‹çš„</li><li><code>.inner-visible</code> å…ƒç´ ï¼šä¹Ÿå°±æ˜¯ç•«é¢ä¸­çš„ç´…è‰²çŸ©å½¢ï¼Œå› ç‚ºæœ‰åœ¨æ­¤å…ƒç´ è¨­å®š <code>visibility: visible</code>ï¼Œæ‰€ä»¥å…ƒç´ å°±è®Šç‚ºå¯è¦‹çš„</li></ul><p>åœ¨ç´…è‰²çŸ©å½¢ä¸Šé¢æ‰€ç©ºå‡ºçš„ç©ºé–“ï¼Œå…¶å¯¦å°±æ˜¯ <code>.inner-hidden</code> å…ƒç´ ä½”ç”¨çš„ã€‚é›–ç„¶ <code>.inner-hidden</code> å…ƒç´ æ˜¯ä¸å¯è¦‹çš„ï¼Œä½†å®ƒåªæ˜¯è¢«éš±è—è€Œå·²ï¼Œå…ƒç´ æ‰€ç”¢ç”Ÿçš„ box ä¸æœƒå¾æ–‡ä»¶ä½ˆå±€ä¸­åˆªé™¤ï¼Œæ‰€ä»¥ box é‚„æ˜¯æœƒå½±éŸ¿ä½ˆå±€ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"outer"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner inner-hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner inner-visible"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">3px</span> solid;<br>&#125;<br><span class="hljs-selector-class">.outer</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: gray;<br>  <span class="hljs-attribute">visibility</span>: hidden;<br>&#125;<br><span class="hljs-selector-class">.inner</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">background-color</span>: red;<br>&#125;<br><span class="hljs-selector-class">.inner-visible</span> &#123;<br>  <span class="hljs-attribute">visibility</span>: visible;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/Baajxbx" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-visibility/descendant-visibility-visible.png" alt=""></p><iframe height="382" style="width:100%" scrolling="no" title="descendant visibility: visible" src="https://codepen.io/titangene/embed/Baajxbx?height=382&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/Baajxbx" target="_blank" rel="noopener">descendant visibility: visible</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="collapse"><a class="header-anchor" href="#collapse"></a><code>collapse</code></h3><ul><li>åœ¨è¡¨æ ¼çš„ row æˆ– column (rowã€row groupã€column å’Œ column group å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åˆ†åˆ¥ç‚º HTML ä¸­çš„ <code>tr</code>ã€<code>tbody</code>ã€<code>col</code> å’Œ <code>colgroup</code> å…ƒç´ ) ä½¿ç”¨ <code>visibility: collapse</code> æ™‚ï¼š<ul><li>æœƒå°è‡´æ•´å€‹ row æˆ– column å¾é¡¯ç¤ºçµæœä¸­åˆªé™¤ï¼ŒåŸæœ¬ä½”ç”¨çš„ç©ºé–“æœƒè®“å…¶ä»–å…§å®¹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯èªªé¡¯ç¤ºçµæœå¾ˆåƒæ˜¯å°‡ <code>display: none</code> æ‡‰ç”¨åœ¨è¡¨æ ¼çš„ row æˆ– column ä¸€æ¨£</li><li>èˆ‡ collapsed column æˆ– row (åˆä½µæ¬„æˆ–åˆä½µåˆ—) ç›¸äº¤ (intersect) çš„ spanned row æˆ– column (è·¨æ¬„æˆ–è·¨åˆ—) çš„å…§å®¹æœƒè¢«è£åˆ‡æ‰ (clipped)</li><li>å¯ä»¥åœ¨ä¸å¼·åˆ¶é‡æ–°ä½ˆå±€ (re-layout) è¡¨æ ¼çš„æƒ…æ³ä¸‹ï¼Œä½¿ç”¨å‹•æ…‹æ•ˆæœä¾†åˆªé™¤è¡¨æ ¼çš„ row æˆ– column</li></ul></li><li>å° table cell (ä¹Ÿå°±æ˜¯ HTML ä¸­çš„ <code>td</code> æˆ– <code>th</code> å…ƒç´ ) ä½¿ç”¨ <code>visibility: collapse</code> æ™‚ï¼Œæ•ˆæœç›¸ç•¶æ–¼ <code>visibility: hidden</code></li><li>é™¤äº†ä¸Šè¿°ä»¥å¤–çš„å…¶ä»–å…ƒç´ ä½¿ç”¨ <code>visibility: collapse</code> æ™‚ï¼Œæ•ˆæœç›¸ç•¶æ–¼ <code>visibility: hidden</code></li></ul><p>ä¸‹é¢æ˜¯è¡¨æ ¼çš„ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapse"</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapse"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">table</span>&#123;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">1px</span> solid;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-selector-tag">td</span> &#123;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">1px</span> solid red;<br>&#125;<br><span class="hljs-selector-class">.collapse</span> &#123;<br>  <span class="hljs-attribute">visibility</span>: collapse;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/vYYLVmd" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å¦‚ä¸‹åœ–ï¼Œæ­¤ç¯„ä¾‹ç‚º 3 x 3 çš„è¡¨æ ¼ï¼Œåœ¨æ²’æœ‰è¨­å®š <code>visibility: collapse</code> ä¹‹å‰ï¼Œè¡¨æ ¼åŸæœ¬é•·é€™æ¨£ï¼š</p><p><img src="../images/css-visibility/table-row-and-column-visibility-visable.png" alt=""></p><p>å¦‚æœå° <code>1.2</code> æ­¤ table cell å’Œç¬¬äºŒåˆ—è¨­å®š <code>visibility: collapse</code>ï¼š</p><ul><li><code>1.2</code> æ­¤ table cell åªæœƒè¢«éš±è—ï¼Œä¸æœƒåˆªé™¤åŸæœ¬ä½”ç”¨çš„ç©ºé–“</li><li>ç¬¬äºŒåˆ—æœƒè¢«éš±è—ï¼Œä¸¦ä¸”åˆªé™¤åŸæœ¬ä½”ç”¨çš„ç©ºé–“</li></ul><p><img src="../images/css-visibility/table-row-and-column-visibility-collapse.png" alt=""></p><iframe height="302" style="width:100%" scrolling="no" title="table row &amp; columnï¼švisibility: collapse" src="https://codepen.io/titangene/embed/vYYLVmd?height=302&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/vYYLVmd" target="_blank" rel="noopener">table row &amp; columnï¼švisibility: collapse</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="display-none-èˆ‡-visibility-hidden-çš„å·®ç•°"><a class="header-anchor" href="#display-none-èˆ‡-visibility-hidden-çš„å·®ç•°"></a><code>display: none</code> èˆ‡ <code>visibility: hidden</code> çš„å·®ç•°</h2><p><code>display: none</code> å’Œ <code>visibility: hidden</code> éƒ½æ˜¯å¯ä»¥éš±è—å…ƒç´ ï¼Œä½†å·®åˆ¥åœ¨æ–¼ï¼š</p><ul><li><code>display: none</code> æœƒå°‡å…ƒç´ æ‰€ç”¢ç”Ÿçš„ box å¾æ–‡ä»¶ä½ˆå±€ä¸­åˆªé™¤</li><li><code>visibility: hidden</code> ä¸æœƒå°‡å…ƒç´ æ‰€ç”¢ç”Ÿçš„ box å¾æ–‡ä»¶ä½ˆå±€ä¸­åˆªé™¤</li></ul><p>æ‰€ä»¥ï¼Œå¦‚æœå°‡å…ƒç´ è¨­å®š <code>display: none</code>ï¼Œå°±æœƒå½±éŸ¿åˆ°å…¶ä»–å…ƒç´ çš„ä½ˆå±€ï¼Œè€Œ <code>visibility: hidden</code> å°±ä¸æœƒï¼Œå› ç‚ºå°±åªæ˜¯ã€ŒçœŸæ­£ã€æ„ç¾©ä¸Šçš„éš±è—å…ƒç´ è€Œå·²ã€‚</p><h2 id="visibility-å±¬æ€§ç”¨æ–¼å‹•æ…‹æ•ˆæœ"><a class="header-anchor" href="#visibility-å±¬æ€§ç”¨æ–¼å‹•æ…‹æ•ˆæœ"></a><code>visibility</code> å±¬æ€§ç”¨æ–¼å‹•æ…‹æ•ˆæœ</h2><p>å¯ä»¥ä½¿ç”¨ JavaScript æ§åˆ¶å“ªå€‹å…ƒç´ è¦é¡¯ç¤ºæˆ–æ˜¯éš±è—ã€‚ä¸‹é¢æ˜¯ <code>visibility</code> å±¬æ€§çš„å‹•æ…‹æ•ˆæœç¯„ä¾‹ï¼š</p><p>Demoï¼š<a href="https://codepen.io/titangene/pen/dyyGeOo" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-visibility/dynamic-visibility.gif" alt=""></p><iframe height="293" style="width:100%" scrolling="no" title="dynamic visibility" src="https://codepen.io/titangene/embed/dyyGeOo?height=293&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/dyyGeOo" target="_blank" rel="noopener">dynamic visibility</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>åœ¨ä¸€é–‹å§‹é€²å…¥ç¯„ä¾‹é é¢æ™‚ï¼Œ<code>A</code> å…ƒç´ æ˜¯ä½¿ç”¨ <code>visibility</code> çš„é è¨­å€¼ <code>visible</code>ï¼Œè€Œ <code>B</code> å…ƒç´ æ˜¯è¨­å®š <code>visibility: hidden</code> éš±è—å…ƒç´ ã€‚</p><p>åœ¨æ­¤ç¯„ä¾‹ä¸­ï¼Œ<code>A</code> å…ƒç´ å’Œ <code>B</code> å…ƒç´ éƒ½æ˜¯ä½¿ç”¨çµ•å°å®šä½ï¼Œä¸¦è¨­å®šåœ¨ç›¸åŒçš„ä½ç½®ï¼Œæ‰€ä»¥ç•¶è¦é¡¯ç¤ºä¸€å€‹å…ƒç´ ï¼Œä¸¦éš±è—å¦ä¸€å€‹å…ƒç´ æ™‚ï¼Œç•«é¢çš„å‹•æ…‹æ•ˆæœå°±å¾ˆåƒæ˜¯ä¸€å€‹å…ƒç´ æ›¿æ›æˆå¦ä¸€å€‹å…ƒç´ ã€‚CSS æ¨£å¼å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50px</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¯„ä¾‹ä¸­æœ‰å…©å€‹æŒ‰éˆ•ï¼š</p><ul><li>é»æ“Š A æŒ‰éˆ•æœƒé¡¯ç¤º <code>A</code> å…ƒç´  (ä¹Ÿå°±æ˜¯é¡¯ç¤º â€œName: Aâ€ )ï¼Œä¸¦éš±è— <code>B</code> å…ƒç´  (ä¹Ÿå°±æ˜¯éš±è— â€œName: Bâ€)</li><li>é»æ“Š B æŒ‰éˆ•æœƒé¡¯ç¤º <code>B</code> å…ƒç´  (ä¹Ÿå°±æ˜¯é¡¯ç¤º â€œName: Bâ€ )ï¼Œä¸¦éš±è— <code>A</code> å…ƒç´  (ä¹Ÿå°±æ˜¯éš±è— â€œName: Aâ€)</li></ul><p>é¡¯ç¤ºå…ƒç´ å…¶å¯¦å°±æ˜¯å°‡å…ƒç´ è¨­å®šæˆ <code>visibility: visible</code>ï¼Œåœ¨ JavaScript å¯ä»¥ä½¿ç”¨ä¸‹é¢ç¨‹å¼ç¢¼ä¾†è¨­å®šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">element.style.visibility = <span class="hljs-string">'visible'</span><br></code></pre></td></tr></table></figure><p>éš±è—å…ƒç´ å‰‡æ˜¯å…ƒç´ è¨­å®šæˆ <code>visibility: hidden</code>ï¼Œåœ¨ JavaScript å¯ä»¥ä½¿ç”¨ä¸‹é¢ç¨‹å¼ç¢¼ä¾†è¨­å®šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">element.style.visibility = <span class="hljs-string">'hidden'</span><br></code></pre></td></tr></table></figure><p>é€™æ¨£å°±å¯ä»¥å¯¦ä½œå‡º <code>A</code> å’Œ <code>B</code> å…ƒç´ åˆ‡æ›çš„å‹•æ…‹æ•ˆæœã€‚</p><p>æ­¤ç¯„ä¾‹çš„å®Œæ•´åŸå§‹ç¢¼å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>choose one:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"buttonA"</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"buttonB"</span>&gt;</span>B<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"A"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>Name: A<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"B"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>Name: B<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span>, <span class="hljs-selector-tag">button</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span> &#125;<br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50px</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-selector-id">#B</span> &#123; <span class="hljs-attribute">visibility</span>: hidden; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> buttonA = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.buttonA'</span>);<br><span class="hljs-keyword">var</span> buttonB = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.buttonB'</span>);<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span>(<span class="hljs-params">elementIdName</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(elementIdName);<br>  element.style.visibility = <span class="hljs-string">'visible'</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hide</span>(<span class="hljs-params">elementIdName</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(elementIdName);<br>  element.style.visibility = <span class="hljs-string">'hidden'</span>;<br>&#125;<br><br>buttonA.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  show(<span class="hljs-string">'A'</span>);<br>  hide(<span class="hljs-string">'B'</span>);<br>&#125;);<br>buttonB.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  show(<span class="hljs-string">'B'</span>);<br>  hide(<span class="hljs-string">'A'</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><blockquote><p>JavaScript è·‘éŒ¯æ£šå•¦ XD</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visufx.html#visibility" target="_blank" rel="noopener">CSS 2.2 - 11.2. Visibility: the <code>visibility</code> property</a></li><li><a href="https://www.w3.org/TR/CSS22/tables.html#dynamic-effects" target="_blank" rel="noopener">CSS 2.2 - 17.5.5. Dynamic row and column effects</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/visibility" target="_blank" rel="noopener"><code>visibility</code> - CSS: Cascading Style Sheets | MDN</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - overflow</title>
      <link href="/article/css-overflow.html"/>
      <url>/article/css-overflow.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ <code>overflow</code> å±¬æ€§ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10227474" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - overflow</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="overflow-çš„æƒ…å¢ƒ"><a class="header-anchor" href="#overflow-çš„æƒ…å¢ƒ"></a>overflow çš„æƒ…å¢ƒ</h2><p>é€šå¸¸ block box çš„å…§å®¹åƒ…é™æ–¼ box çš„ content edgeã€‚åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œbox å¯èƒ½æœƒ overflow (æº¢å‡º)ï¼Œä»£è¡¨ box çš„éƒ¨åˆ†æˆ–å…¨éƒ¨å…§å®¹éƒ½ä½æ–¼ box çš„å¤–é¢ï¼Œä¾‹å¦‚ï¼š</p><ul><li>ä¸€è¡Œæ–‡å­—ä¸æ›è¡Œï¼Œå°è‡´ line box æ¯” block box é‚„è¦å¯¬</li><li>åœ¨ containing block è£¡é¢çš„ block-level box çš„å¯¬åº¦æ¯” containing block é‚„å¯¬ (ä¹Ÿå°±æ˜¯ç•¶å…ƒç´ çš„ <code>width</code> å±¬æ€§å€¼è¨­å®šå¤§æ–¼ containing block çš„å¯¬åº¦æ™‚æœƒç™¼ç”Ÿ)</li><li>å…ƒç´ è¨­å®š <code>height</code> å±¬æ€§å°‡ containing block çš„é«˜åº¦è¨­å®šæˆå°æ–¼å…ƒç´ çš„å…§å®¹é«˜åº¦ (ä¹Ÿå°±æ˜¯å…ƒç´ å…§å®¹çš„é«˜åº¦å¤§æ–¼ containing block çš„é«˜åº¦ï¼Œcontaining block çš„é«˜åº¦ç”± <code>height</code> å±¬æ€§æ±ºå®šï¼Œè€Œä¸æ˜¯å…§å®¹é«˜åº¦æ±ºå®š)</li><li>descendant box è¨­å®š <code>position: absolute</code> æ™‚è¶…å‡º containing block</li><li>descendant box å°‡ <code>margin</code> è¨­ç‚ºè² å€¼æ™‚è¶…å‡º containing block</li><li>è¨­å®š <code>text-indent</code> å±¬æ€§å°è‡´ç¬¬ä¸€è¡Œ text ç¸®æ’è¶…å‡º containing block</li></ul><p>ä¸‹é¢æ ¹æ“šä¸Šé¢é€™å¹¾å€‹ç‹€æ³åˆ†åˆ¥èˆ‰ä¾‹ï¼Œå¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä¸€è¡Œæ–‡å­—ä¸æ›è¡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner not-wrap"</span>&gt;</span>Lorem ipsum dolor sit, amet consectetur elit.<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è£¡é¢çš„ block-level box å¤ªå¯¬<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner box-too-wide"</span>&gt;</span>block-level box is too wide<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å…§å®¹å¤ªé«˜<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner height-exceeds"</span>&gt;</span>element's height exceeds<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>çµ•å°å®šä½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner absolute"</span>&gt;</span>absolute<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>margin è¨­ç‚ºè² å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner negative-margins"</span>&gt;</span>negative margins<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>text-indent å±¬æ€§è®“ç¬¬ä¸€è¡Œ text ç¸®æ’è¶…å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"containing-block"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner text-indent"</span>&gt;</span>'text-indent' property<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.containing-block</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid;<br>  <span class="hljs-attribute">background-color</span>: lightgray;<br>&#125;<br><span class="hljs-selector-class">.inner</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#8bf</span>;<br>&#125;<br><span class="hljs-selector-class">.not-wrap</span> &#123;<br>  <span class="hljs-attribute">white-space</span>: nowrap;<br>&#125;<br><span class="hljs-selector-class">.box-too-wide</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;<br>&#125;<br><span class="hljs-selector-class">.height-exceeds</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;<br>&#125;<br><span class="hljs-selector-class">.absolute</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">190px</span>;<br>&#125;<br><span class="hljs-selector-class">.negative-margins</span> &#123;<br>  <span class="hljs-attribute">margin-right</span>: -<span class="hljs-number">50px</span>;<br>&#125;<br><span class="hljs-selector-class">.text-indent</span> &#123;<br>  <span class="hljs-attribute">text-indent</span>: <span class="hljs-number">11.5rem</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/zYYrZOe" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-overflow/2019-10-12-20-31-01.png" alt=""></p><iframe height="731" style="width:100%" scrolling="no" title="overflow æƒ…å¢ƒ" src="https://codepen.io/titangene/embed/zYYrZOe?height=731&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/zYYrZOe" target="_blank" rel="noopener">overflow æƒ…å¢ƒ</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="overflow-å±¬æ€§"><a class="header-anchor" href="#overflow-å±¬æ€§"></a><code>overflow</code> å±¬æ€§</h2><p>ä¸‹é¢æ˜¯ <code>overflow</code> å±¬æ€§çš„å®šç¾©è¡¨ï¼š</p><p><img src="../images/css-overflow/2019-10-12-20-37-09.png" alt=""></p><p>æ­¤å±¬æ€§æŒ‡å®š block container å…ƒç´ çš„å…§å®¹ overflow å…ƒç´  box æ™‚æ˜¯å¦è¢«è£åˆ‡ã€‚å®ƒæœƒå½±éŸ¿æ‰€æœ‰å…ƒç´ å…§å®¹çš„è£åˆ‡ï¼Œä½†å…¶ containing block æ˜¯è©²å…ƒç´ çš„ viewport æˆ– ancestor çš„ä»»ä½• descendant å…ƒç´  (åŠå…¶å„è‡ªçš„å…§å®¹å’Œ descendant) é™¤å¤–ã€‚å€¼å…·æœ‰ä»¥ä¸‹å«ç¾©ï¼š</p><ul><li><code>visible</code>ï¼šå…§å®¹æ²’æœ‰è¢«è£åˆ‡ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åœ¨ block box å¤–å‘ˆç¾</li><li><code>hidden</code>ï¼šå…§å®¹è¢«è£åˆ‡ï¼Œä¸¦ä¸”ä¸æ‡‰æä¾›æ²å‹• UI ä¾†æŸ¥çœ‹è£åˆ‡å€åŸŸä¹‹å¤–çš„å…§å®¹</li><li><code>scroll</code>ï¼šå…§å®¹å·²è¢«è£åˆ‡ï¼Œä¸¦ä¸”å¦‚æœ UA ä½¿ç”¨è¢å¹•ä¸Šå¯è¦‹çš„æ²å‹•æ©Ÿåˆ¶ (ä¾‹å¦‚ï¼šscroll bar æˆ– panner)ï¼Œå‰‡ç„¡è«–è©²å…§å®¹æ˜¯å¦æœ‰å…§å®¹ï¼Œéƒ½æ‡‰åœ¨ box ä¸Šé¡¯ç¤ºè©²æ©Ÿåˆ¶è¢«è£åˆ‡ã€‚é€™é¿å…äº†æ»¾å‹•æ¢åœ¨å‹•æ…‹ç’°å¢ƒä¸­å‡ºç¾å’Œæ¶ˆå¤±çš„ä»»ä½•å•é¡Œã€‚æŒ‡å®šæ­¤å€¼ä¸”ç›®æ¨™ medium ç‚º <code>print</code> æ™‚ï¼Œå¯èƒ½æœƒåˆ—å°å‡º overflow çš„å…§å®¹ã€‚åœ¨ table box ä¸Šä½¿ç”¨æ™‚ï¼Œæ­¤å€¼èˆ‡ <code>visible</code> å…·æœ‰ç›¸åŒçš„å«ç¾©</li><li><code>auto</code>ï¼šæ­¤å€¼çš„è¡Œç‚ºå–æ±ºæ–¼ UAï¼Œä½†æ‡‰å°è‡´ç‚º overflow çš„ box æä¾›æ²å‹•æ©Ÿåˆ¶ã€‚åœ¨ table box ä¸Šä½¿ç”¨æ™‚ï¼Œæ­¤å€¼èˆ‡ <code>visible</code> å…·æœ‰ç›¸åŒçš„å«ç¾©</li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/articles/10224932" target="_blank" rel="noopener">è©±èªª Overflow æ˜¯ä»€éº¼å‘¢ï¼Ÿ - æ¯å¤©ä¾†é» CSS Specification - iT é‚¦å¹«å¿™</a></li><li><a href="https://www.w3.org/TR/CSS22/visufx.html" target="_blank" rel="noopener">CSS 2.2 - 11. Visual effects</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Inline formatting context (IFC)</title>
      <link href="/article/css-ifc.html"/>
      <url>/article/css-ifc.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ inline formatting context (IFC)ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10227194" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Inline formatting context (IFC)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>åœ¨ IFC ä¸­ï¼Œbox æœƒå¾ä¸€å€‹ containing block çš„é ‚ç«¯é–‹å§‹ä¸€å€‹æ¥è‘—ä¸€å€‹çš„æ–¹å¼ä¾†æ°´å¹³æ’åˆ—ï¼Œè€Œ box ä¹‹é–“æœƒå—åˆ°æ°´å¹³çš„ marginã€border å’Œ padding å½±éŸ¿ï¼Œä½†ä¸æœƒè¢«å‚ç›´çš„ marginã€border å’Œ padding æ‰€å½±éŸ¿ï¼Œå¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><br><br></code></pre></td></tr></table></figure><p>box å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼å‚ç›´å°é½Šï¼š</p><ul><li>å®ƒå€‘çš„ bottom æˆ– top å¯ä»¥å°é½Š</li><li>box å…§çš„ text çš„ baseline å¯ä»¥å°é½Š</li></ul><p>åŒ…å«å½¢æˆè¡Œ (line) çš„ box çš„çŸ©å½¢å€åŸŸè¢«ç¨±ç‚º line boxï¼Œline box çš„å¯¬åº¦æ˜¯ç”± containing block å’Œ float ä¾†æ±ºå®šï¼Œline box çš„é«˜åº¦æ˜¯ç”± <code>line-height</code></p><p>UA æœƒå°‡ inline-level box æ’åˆ— (flow) è‡³ line box çš„å‚ç›´ stack å…§ï¼Œline box çš„é«˜åº¦ä»¥ä¸‹é¢æ–¹å¼ä¾†æ±ºå®šï¼š</p><ol><li>è¨ˆç®— line box ä¸­æ¯å€‹ inline-level box çš„é«˜åº¦ã€‚å°æ–¼ replaced å…ƒç´ ã€inline-block å…ƒç´ å’Œ inline-table å…ƒç´ ï¼Œé€™æ˜¯å®ƒå€‘çš„ margin box çš„é«˜åº¦ã€‚å°æ–¼ inline boxï¼Œé€™æ˜¯å®ƒå€‘çš„ <code>line-height</code>ã€‚</li><li></li></ol><p>inline box (inner display type ç‚º <code>flow</code> çš„ non-replaced inline-level box) çš„å…§å®¹æœƒåƒèˆ‡è·Ÿè©² inline box æœ¬èº«ç›¸åŒçš„ IFC</p><p>block container åœ¨æŸäº›æƒ…å¢ƒä¸‹æœƒå»ºç«‹æ–°çš„ IFCï¼š</p><p>IFC æ˜¯ç”±ä¸åŒ…å« block-level box çš„ block container æ‰€å»ºç«‹çš„ã€‚ç•¶å…ƒç´ çš„ block container åªåŒ…å« inline-level content æ™‚ï¼Œblock container æœƒå»ºç«‹æ–°çš„ IFCï¼Œç„¶å¾Œè©²å…ƒç´ é‚„æœƒç”¢ç”Ÿä¸€å€‹ root inline boxï¼Œè©² root inline box æœƒ wrap é‚£äº› inline contentã€‚</p><blockquote><p>root inline box æ˜¯ä¸€å€‹ anonymous inline boxï¼Œè©² box æœƒè‡ªå‹•ç”¢ç”Ÿå¯ä»¥å®¹ç´ block container çš„æ‰€æœ‰ inline-level contentã€‚</p><p>æœ‰é—œ anonymous inline box çš„è©³æƒ…ï¼Œå¯åƒé–±æˆ‘å‰å¹¾å¤©å¯«çš„ã€Œ<a href="https://ithelp.ithome.com.tw/articles/10225035" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (inline)</a>ã€ï¼Œå…§æœ‰æä¾›å¯¦éš›ç¯„ä¾‹èªªæ˜ï¼Œåœ¨æ­¤ç¯‡å°±ä¸å†è¿½è¿°ã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#inline-formatting" target="_blank" rel="noopener">CSS 2.2 - 9.4.2 Inline formatting contexts</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-inline-3/" target="_blank" rel="noopener">CSS Inline Layout Module Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Block formatting context (BFC)</title>
      <link href="/article/css-bfc.html"/>
      <url>/article/css-bfc.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ block formatting context (BFC)ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10226848" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Block formatting context (BFC)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>ä»¥ä¸‹æ˜¯ <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener">MDN</a> å°æ–¼åœ¨ä½•ç¨®æƒ…å¢ƒä¸‹æœƒå»ºç«‹ BFC çš„å®šç¾©ï¼š</p><blockquote><p>ä»¥ä¸‹æƒ…å¢ƒæœƒå»ºç«‹ BFCï¼š</p><ul><li>æ–‡ä»¶ä¸­çš„ root å…ƒç´  (åœ¨ HTML ä¸­æ˜¯ <code>html</code> å…ƒç´ )</li><li><code>float</code> å±¬æ€§ä¸ç‚º <code>none</code> çš„å…ƒç´ </li><li><code>position</code> å±¬æ€§ç‚º <code>absolute</code> æˆ– <code>fixed</code> çš„å…ƒç´ </li><li><code>display</code> å±¬æ€§ç‚º <code>inline-block</code>ã€<code>flow-root</code>ã€<code>table-cell</code> æˆ– <code>table-caption</code> çš„å…ƒç´ </li><li>ç”± <code>display</code> å±¬æ€§ç‚º <code>table</code>ã€<code>table-row</code>ã€<code>table-row-group</code>ã€<code>table-header-group</code>ã€<code>table-footer-group</code> æˆ– <code>inline-block</code> çš„å…ƒç´  implicitly å»ºç«‹çš„ anonymous table cell</li><li><code>overflow</code> å±¬æ€§ä¸ç‚º <code>visible</code> çš„ block å…ƒç´ </li><li><code>contain</code> å±¬æ€§ç‚º <code>layout</code>ã€<code>content</code> æˆ– <code>paint</code> çš„å…ƒç´ </li><li>flex item ( <code>display</code> å±¬æ€§ç‚º <code>flex</code> æˆ– <code>inline-flex</code> çš„å…ƒç´ çš„å­å…ƒç´ )</li><li>grid item ( <code>display</code> å±¬æ€§ç‚º <code>grid</code> æˆ– <code>inline-grid</code> çš„å…ƒç´ çš„å­å…ƒç´ )</li><li>multicol container ( <code>column-count</code> æˆ– <code>column-width</code> å±¬æ€§ä¸ç‚º <code>auto</code> çš„å…ƒç´ ï¼ŒåŒ…å« <code>column-count: 1</code> çš„å…ƒç´ )</li><li><code>column-span: all</code> æ‡‰è©²å§‹çµ‚å»ºç«‹ä¸€å€‹æ–°çš„ formatting contextï¼Œå³ä½¿è©²å…ƒç´ æ²’æœ‰åŒ…å«åœ¨ multicol container ä¸­</li></ul></blockquote><p>float çš„å®šä½å’Œ clear è¦å‰‡éƒ½åªæœƒé©ç”¨æ–¼åŒä¸€å€‹ BFC ä¸­çš„å…§å®¹ï¼š</p><ul><li><code>float</code> å±¬æ€§ä¸æœƒå½±éŸ¿å…¶ä»– BFC ä¸­çš„å…§å®¹ä½ˆå±€</li><li><code>clear</code> å±¬æ€§åªèƒ½ clear åŒä¸€å€‹ BFC ä¸­æœ‰è¨­å®š <code>clear</code> å±¬æ€§çš„å…ƒç´ ä¹‹å‰çš„ float å…ƒç´ ï¼Œä¸æœƒå½±éŸ¿åˆ°å…ƒç´ æœ¬èº«å…§éƒ¨æˆ–å…¶ä»– BFC ä¸­çš„ float å…ƒç´ </li></ul><p>ç•¶å…©å€‹ block éƒ½åœ¨åŒä¸€å€‹ BFC æ™‚ï¼Œå®ƒå€‘çš„ margin æ‰æœƒç™¼ç”Ÿ margin collapsingã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener">Block formatting context - Developer guides | MDN</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - formatting context &amp; independent formatting context</title>
      <link href="/article/css-formatting-context.html"/>
      <url>/article/css-formatting-context.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ formatting context å’Œ independent formatting contextã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10226493" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - formatting context &amp; independent formatting context</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="formatting-context"><a class="header-anchor" href="#formatting-context"></a>formatting context</h2><p>çœ‹ä¸€ä¸‹åœ¨ä¸åŒ CSS level çš„ spec ä¸­æ˜¯å¦‚ä½•å®šç¾© formatting contextã€‚</p><p>åœ¨ <a href="https://www.w3.org/TR/CSS21/visuren.html#normal-flow" target="_blank" rel="noopener">CSS 2.1 å…§çš„ã€Œ9.4 Normal flowã€</a> æ˜¯é€™æ¨£å®šç¾© formatting contextï¼š</p><blockquote><p>Boxes in the normal flow belong to a formatting context, which may be block or inline, but not both simultaneously. <a href="https://www.w3.org/TR/CSS21/visuren.html#block-level" target="_blank" rel="noopener">Block-level</a> boxes participate in a <a href="https://www.w3.org/TR/CSS21/visuren.html#block-formatting" target="_blank" rel="noopener">block formatting</a> context. <a href="https://www.w3.org/TR/CSS21/visuren.html#inline-level" target="_blank" rel="noopener">Inline-level boxes</a> participate in an <a href="https://www.w3.org/TR/CSS21/visuren.html#inline-formatting" target="_blank" rel="noopener">inline formatting</a> context.</p></blockquote><p>ä¹Ÿå°±æ˜¯èªªï¼Œåœ¨ CSS 2.1 å®šç¾© normal flow ä¸­çš„ box å±¬æ–¼æŸç¨® formatting contextï¼Œå¯æ˜¯ block æˆ– inlineï¼Œä½†ä¸èƒ½åŒæ™‚ä½¿ç”¨ã€‚</p><p>è€Œä¸åŒçš„ box æœƒåƒèˆ‡ä¸åŒçš„ formatting contextï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#block-level" target="_blank" rel="noopener">block-level box</a> æœƒåƒèˆ‡ BFC (block formatting context)</li><li><a href="https://www.w3.org/TR/CSS22/visuren.html#inline-level" target="_blank" rel="noopener">inline-level box</a> æœƒåƒèˆ‡ IFC (inline formatting context)</li></ul><p>ä½†æ˜¯åœ¨ <a href="https://www.w3.org/TR/CSS22/visuren.html#normal-flow" target="_blank" rel="noopener">CSS 2.2 å…§çš„åŒä¸€å€‹ç« ç¯€</a>ä¸­ï¼Œå°‡å®šç¾©æ”¹æˆä»¥ä¸‹å…§å®¹ï¼š</p><blockquote><p>Boxes in the normal flow belong to a formatting context, which in CSS 2.2 may be table, block or inline. In future levels of CSS, other types of formatting context will be introduced. <a href="https://www.w3.org/TR/CSS22/visuren.html#block-level" target="_blank" rel="noopener">Block-level</a> boxes participate in a <a href="https://www.w3.org/TR/CSS22/visuren.html#block-formatting" target="_blank" rel="noopener">block formatting</a> context. <a href="https://www.w3.org/TR/CSS22/visuren.html#inline-level" target="_blank" rel="noopener">Inline-level boxes</a> participate in an <a href="https://www.w3.org/TR/CSS22/visuren.html#inline-formatting" target="_blank" rel="noopener">inline formatting</a> context. Table formatting contexts are described in the <a href="https://www.w3.org/TR/CSS22/tables.html" target="_blank" rel="noopener">chapter on tables</a>.</p><p>è³‡æ–™ä¾†æºï¼š<a href="https://www.w3.org/TR/CSS22/changes.html#s.9.4" target="_blank" rel="noopener">CSS 2.2 - Appendix C. Changes</a></p></blockquote><p>ä¹Ÿå°±æ˜¯èªªï¼Œåœ¨ CSS 2.2 å®šç¾© formatting context å¯ä»¥æ˜¯ tableã€block æˆ– inllineï¼Œä¸¦ä¸”èªªæ˜åœ¨å°‡ä¾†çš„ CSS level æœƒå¼•å…¥å…¶ä»– type çš„ formatting contextã€‚å¦å¤–ä¹Ÿå¯ä»¥çœ‹åˆ°åœ¨ CSS 2.2 åˆªæ‰äº† CSS 2.1 ä¸­çš„ â€œbut not both simultaneouslyâ€ é€™å¥ï¼Œä¹Ÿå°±æ˜¯å…¶å¯¦ BFC å’Œ IFC å¯ä»¥åŒæ™‚ä½¿ç”¨ã€‚</p><p>å¾Œä¾†åœ¨ <a href="https://www.w3.org/TR/css-display-3/#formatting-context" target="_blank" rel="noopener">CSS Display Module Level 3</a> å…§ä¹Ÿæœ‰å®šç¾© formatting contextï¼š</p><blockquote><p>A <a href="https://www.w3.org/TR/css-display-3/#formatting-context" target="_blank" rel="noopener">formatting context</a> is the environment into which a set of related boxes are laid out. Different formatting contexts lay out their boxes according to different rules. For example, a <a href="https://www.w3.org/TR/css-flexbox-1/#flex-formatting-context" target="_blank" rel="noopener">flex formatting context</a> lays out boxes according to the <a href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" target="_blank" rel="noopener">flex layout</a> rules <a href="https://www.w3.org/TR/css-display-3/#biblio-css3-flexbox" target="_blank" rel="noopener">[CSS3-FLEXBOX]</a>, whereas a <a href="https://www.w3.org/TR/css-display-3/#block-formatting-context" target="_blank" rel="noopener">block formatting context</a> lays out boxes according to the block-and-inline layout rules <a href="https://www.w3.org/TR/css-display-3/#biblio-css2" target="_blank" rel="noopener">[CSS2]</a>.</p></blockquote><p>ä¹Ÿå°±æ˜¯èªªï¼Œformatting context æ˜¯ä¸€ç¨®ç’°å¢ƒï¼Œç›¸é—œçš„ box æœƒåœ¨æ­¤ç’°å¢ƒä¸­ä½ˆå±€ï¼Œä¸åŒçš„ formatting context æœƒæ ¹æ“šä¸åŒçš„è¦å‰‡ä¾†ä½ˆå±€é€™äº›çš„ boxã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li>BFC (block formatting context) æœƒæ ¹æ“š <a href="https://www.w3.org/TR/CSS22/visuren.html#normal-flow" target="_blank" rel="noopener">block å’Œ inline ä½ˆå±€</a>è¦å‰‡ä¾†ä½ˆå±€ box</li><li>FFC (flex formatting context) æœƒæ ¹æ“š <a href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" target="_blank" rel="noopener">flex ä½ˆå±€</a>è¦å‰‡ä¾†ä½ˆå±€ box</li><li>GFC (grid formatting context) æœƒæ ¹æ“š <a href="https://www.w3.org/TR/css-grid-1/#grid-layout" target="_blank" rel="noopener">grid ä½ˆå±€</a>è¦å‰‡ä¾†ä½ˆå±€ box</li></ul><h2 id="independent-formatting-context"><a class="header-anchor" href="#independent-formatting-context"></a>independent formatting context</h2><p>ä¸€å€‹ box æœ‰å…©ç¨®é¸æ“‡ï¼š</p><ul><li>å»ºç«‹ä¸€å€‹æ–°çš„ independent formatting context</li><li>ç¹¼çºŒåƒèˆ‡è©² box çš„ containing block çš„ formatting context</li></ul><p>è€Œ box å»ºç«‹çš„ formatting context çš„ type æ˜¯ç”±å…¶ <a href="https://www.w3.org/TR/css-display-3/#inner-display-type" target="_blank" rel="noopener">inner display type</a> ä¾†æ±ºå®šã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li><a href="https://www.w3.org/TR/css-grid-1/#grid-container" target="_blank" rel="noopener">grid container</a> å»ºç«‹æ–°çš„ <a href="https://www.w3.org/TR/css-grid-1/#grid-formatting-context" target="_blank" rel="noopener">GFC (grid formatting context)</a></li><li><a href="https://www.w3.org/TR/css-ruby-1/#ruby-container" target="_blank" rel="noopener">ruby container</a> å»ºç«‹æ–°çš„ <a href="https://www.w3.org/TR/css-ruby-1/#ruby-formatting-context" target="_blank" rel="noopener">RFC (ruby formatting context)</a></li><li><a href="https://www.w3.org/TR/css-display-3/#block-container" target="_blank" rel="noopener">block container</a> å¯ä»¥å»ºç«‹æ–°çš„ BFC å’Œ/æˆ–æ–°çš„ IFC</li></ul><div class="danger"><p>è©³æƒ…å¯åƒé–± Spec ä¸­çš„ <a href="https://www.w3.org/TR/css-display-3/#propdef-display" target="_blank" rel="noopener"><code>display</code></a> å±¬æ€§è¡¨æ ¼ã€‚(å®‰éº—è‡ªå·±çš„ <code>display</code> æ–‡ç« )</p></div><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS21/visuren.html#normal-flow" target="_blank" rel="noopener">CSS 2.1 - 9.4. Normal flow</a></li><li><a href="https://www.w3.org/TR/CSS22/visuren.html#normal-flow" target="_blank" rel="noopener">CSS 2.2 - 9.4. Normal flow</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - float</title>
      <link href="/article/css-float.html"/>
      <url>/article/css-float.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ <code>float</code> å±¬æ€§ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10226157" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - float</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>åŸæœ¬ <code>float</code> å±¬æ€§æ˜¯ç‚ºäº†å¯ä»¥å¯¦ä½œå‡ºç°¡å–®çš„æ–‡æ›¸æ’ç‰ˆï¼Œä¾‹å¦‚ï¼šå ±ç´™ä¸­çš„æ–‡ç¹åœ–ã€‚å¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-float/2019-10-10-16-09-13.png" alt=""></p><blockquote><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://zh.wikipedia.org/wiki/File:Newspaper_fatima_353.jpg" target="_blank" rel="noopener">Wikipedia</a></p></blockquote><h2 id="float-çš„ç‰¹æ€§"><a class="header-anchor" href="#float-çš„ç‰¹æ€§"></a><code>float</code> çš„ç‰¹æ€§</h2><p>box æœƒå…ˆæ ¹æ“š normal flow ä¾†ä½ˆå±€ï¼Œç„¶å¾Œ box æœƒè„«é›¢ normal flowï¼Œä¸¦å°‡ box åœ¨è©²è¡Œ (current line) å‘å·¦æˆ–å‘å³ç§»å‹•ï¼Œç›´åˆ° box çš„å¤–é‚Šç·£ (outer edge) æ¥è§¸åˆ° containing block çš„é‚Šç·£æˆ–å¦ä¸€å€‹ float çš„å¤–é‚Šç·£ã€‚float box çš„å¤–éƒ¨é ‚ç«¯ (outer top) èˆ‡ç•¶å‰ line box çš„é ‚ç«¯å°é½Šã€‚</p><p>å¦‚æœæ°´å¹³ç©ºé–“æ²’æœ‰ç©ºé–“å¯ä»¥ floatï¼Œå°±æœƒå°‡ box å‘ä¸‹ç§»å‹•ï¼Œç›´åˆ°æœ‰é©åˆ (fits) çš„ç©ºé–“æˆ–ä¸å†æœ‰ float ç‚ºæ­¢ã€‚</p><p>å› ç‚º float box è„«é›¢äº† normal flowï¼Œæ‰€ä»¥åœ¨ float box ä¹‹å‰å’Œä¹‹å¾Œå»ºç«‹çš„ non-positioned block box æœƒä»¥å‚ç›´æ’åˆ—ï¼Œå°±å¾ˆåƒ float box ä¸å­˜åœ¨ä¸€æ¨£ã€‚</p><p>è·Ÿ float å…ƒç´ åœ¨åŒä¸€å€‹ line box æˆ–ä¹‹å¾Œçš„ line box éƒ½æœƒå›  float å…ƒç´ è€Œç¸®çŸ­ (shortened) line boxï¼Œå¦‚æœ float å…ƒç´ æœ‰è¨­å®š <code>margin</code>ï¼Œline box ä¹Ÿæœƒç¸®çŸ­ margin box æ‰€ä½”ç”¨çš„ç©ºé–“ã€‚</p><p>ç•¶å‚ç›´ä½ç½®æ»¿è¶³ä»¥ä¸‹æ‰€æœ‰å››å€‹æ¢ä»¶æ™‚ï¼Œline box æœƒèˆ‡ float ç›¸é„°ï¼š</p><ol><li>åœ¨ line box é ‚ç«¯æˆ–ä¹‹ä¸‹</li><li>åœ¨ line box åº•éƒ¨æˆ–ä¹‹ä¸Š</li><li>åœ¨ float çš„ top margin edge ä¹‹ä¸‹</li><li>åœ¨ float çš„ bottom margin edge ä¹‹ä¸Š</li></ol><p>è€Œ float box çš„å…§å®¹æœƒæ²¿è‘— float box çš„é‚£ä¸€å´æ’åˆ— (flow along its side)ï¼Œå¯ä»¥é€é <code>clear</code> å±¬æ€§ä¾†ç¦æ­¢æ­¤è¡Œç‚ºï¼š</p><ul><li><code>float: left</code>ï¼šå…§å®¹å¾ left-floated box çš„å³å´å¾€ä¸‹æ’åˆ—</li><li><code>float: right</code>ï¼šå…§å®¹å¾ right-floated box çš„å·¦å´å¾€ä¸‹æ’åˆ—</li></ul><h3 id="float-box-ä¸æœƒç¸®çŸ­-line-box-çš„æƒ…æ³"><a class="header-anchor" href="#float-box-ä¸æœƒç¸®çŸ­-line-box-çš„æƒ…æ³"></a>float box ä¸æœƒç¸®çŸ­ line box çš„æƒ…æ³</h3><p>ä»¥ä¸‹ç‹€æ³ float box ä¸æœƒç¸®çŸ­ line boxï¼š</p><ul><li>å¤–éƒ¨é«˜åº¦ (outer height) ç‚º 0</li><li>å¤–éƒ¨é«˜åº¦ç‚ºè² æ•¸</li></ul><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼Œä¸‹é¢æ˜¯å¤–éƒ¨é«˜åº¦ç‚ºè² æ•¸çš„ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>floats with negative outer height not shorten line box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">3px</span> solid black;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;<br>&#125;<br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> <span class="hljs-number">20px</span> -<span class="hljs-number">150px</span> <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">background-color</span>: lightblue;<br>  <span class="hljs-attribute">color</span>: red;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/oNNgmEm" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><code>.box</code> å…ƒç´ ï¼š</p><ul><li><code>height</code> ç‚º 100px</li><li><code>margin-top</code> ç‚º 20px</li><li><code>margin-bottom</code> ç‚º -150px</li></ul><p>æ‰€ä»¥ <code>.box</code> å…ƒç´ çš„å¤–éƒ¨é«˜åº¦è¨ˆç®—ç‚º <code>100 + 20 - 150 = -10px</code>ï¼Œå› æ­¤å¤–éƒ¨é«˜åº¦ç‚ºè² æ•¸ã€‚å¦‚ä¸‹åœ–çµæœï¼Œå°±ç®— <code>.box</code> å…ƒç´ æœ‰è¨­å®š <code>float: left</code> ä¹Ÿä¸æœƒç¸®çŸ­ line boxï¼š</p><p><img src="../images/css-float/2019-10-08-20-52-10.png" alt=""></p><iframe height="265" style="width:100%" scrolling="no" title="floats with negative outer height not shorten line box" src="https://codepen.io/titangene/embed/oNNgmEm?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/oNNgmEm" target="_blank" rel="noopener">floats with negative outer height not shorten line box</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>æ¥è‘—æ˜¯å¤–éƒ¨é«˜åº¦ç‚º 0 çš„ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>floats with zero outer height not shorten line box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">3px</span> solid black;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;<br>&#125;<br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">color</span>: red;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/MWWYLXE" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å› ç‚º <code>.box</code> å…ƒç´ çš„ <code>height</code> ç‚º 0ï¼Œè€Œä¸”ä¹Ÿæ²’æœ‰è¨­å®š <code>margin</code>ï¼Œæ‰€ä»¥ <code>.box</code> å…ƒç´ çš„å¤–éƒ¨é«˜åº¦ç‚º 0ã€‚å¦‚ä¸‹åœ–çµæœï¼Œå°±ç®— <code>.box</code> å…ƒç´ æœ‰è¨­å®š <code>float: left</code> ä¹Ÿä¸æœƒç¸®çŸ­ line boxï¼š</p><p><img src="../images/css-float/2019-10-08-21-17-15.png" alt=""></p><iframe height="265" style="width:100%" scrolling="no" title="floats with zero outer height not shorten line box" src="https://codepen.io/titangene/embed/MWWYLXE?height=265&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/MWWYLXE" target="_blank" rel="noopener">floats with zero outer height not shorten line box</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - position</title>
      <link href="/article/css-position.html"/>
      <url>/article/css-position.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ <code>position</code> å±¬æ€§ï¼ŒåŒ…æ‹¬ <code>static</code>ã€<code>relative</code>ã€<code>absolute</code> å’Œ <code>fixed</code>ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10225808" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - position</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Positioning-schemes-å®šä½æ–¹æ¡ˆ"><a class="header-anchor" href="#Positioning-schemes-å®šä½æ–¹æ¡ˆ"></a>Positioning schemes (å®šä½æ–¹æ¡ˆ)</h2><p>åœ¨ CSS 2.2 ä¸­ï¼Œå¯æ ¹æ“šä¸‰ç¨®å®šä½æ–¹æ¡ˆå° box é€²è¡Œä½ˆå±€ï¼š</p><ol><li>Normal flowï¼š</li></ol><ul><li>block-level box çš„ block formatting</li><li>inline-level box çš„ inline formatting</li><li>block-level å’Œ inline-level box çš„ç›¸å°å®šä½</li></ul><ol start="2"><li>Floatï¼šåœ¨ float model ä¸­ï¼Œbox æœƒå…ˆæ ¹æ“š normal flow ä¾†ä½ˆå±€ï¼Œç„¶å¾Œ box æœƒè¢«ç§»å‡º flowï¼Œä¸¦å„˜å¯èƒ½çš„å‘å·¦æˆ–å‘å³ç§»å‹•ã€‚å…§å®¹å¯èƒ½æœƒæ²¿è‘— float çš„é‚£ä¸€å´æ’åˆ— (Content may flow along the side of a float.)</li><li>çµ•å°å®šä½ï¼šåœ¨çµ•å°å®šä½ model ä¸­ï¼Œbox æœƒå¾ normal flow ä¸­å®Œå…¨åˆªé™¤ (å®ƒä¸æœƒå½±éŸ¿åˆ°ä»¥å¾Œçš„ sibling)ï¼Œä¸¦æ ¹æ“š containing block ä¾†åˆ†é…ä½ç½®</li></ol><p>å¦‚æœä¸€å€‹å…ƒç´ æ˜¯ float çš„ã€çµ•å°å®šä½çš„æˆ–è€…æ˜¯ root å…ƒç´ ï¼Œå‰‡è©²å…ƒç´ è¢«ç¨±ç‚º out of flowã€‚å¦‚æœå…ƒç´ ä¸æ˜¯ out of flowï¼Œå‰‡ç¨±ç‚º in-flowã€‚</p><h2 id="position-å±¬æ€§"><a class="header-anchor" href="#position-å±¬æ€§"></a><code>position</code> å±¬æ€§</h2><p>ä¸‹é¢æ˜¯ <code>position</code> å±¬æ€§çš„å®šç¾©è¡¨ï¼š</p><p><img src="../images/css-position/2019-10-12-18-46-06.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.w3.org/TR/CSS22/visuren.html#choose-position" target="_blank" rel="noopener">CSS 2.2 - 9.3.1. Choosing a positioning scheme: <code>position</code> property</a></p><h3 id="static"><a class="header-anchor" href="#static"></a><code>static</code></h3><ul><li>box æ˜¯ normal boxï¼ŒæŒ‰ç…§ normal flow ä¾†ä½ˆå±€</li><li><code>top</code>ã€<code>right</code>ã€<code>bottom</code> å’Œ <code>left</code> å±¬æ€§ä¸é©ç”¨</li></ul><h3 id="relative"><a class="header-anchor" href="#relative"></a><code>relative</code></h3><ul><li>box çš„ä½ç½®æ˜¯æ ¹æ“š normal flow ä¾†è¨ˆç®—çš„ (é€™ç¨±ç‚º normal flow ä¸­çš„ä½ç½®)ï¼Œç„¶å¾Œ box ç›¸å°æ–¼å…¶æ­£å¸¸ä½ç½® (normal position) åç§»</li><li>ç•¶ box B ç›¸å°å®šä½æ™‚ï¼Œè¨ˆç®—ä¸‹ä¸€å€‹ box çš„ä½ç½®ï¼Œå°±å¥½åƒ B æ²’æœ‰åç§»ä¸€æ¨£</li><li><code>position:relative</code> å° <code>table-row-group</code>ã€<code>table-header-group</code>ã€<code>table-footer-group</code>ã€<code>table-row</code>ã€<code>table-column-group</code>ã€<code>table-column</code>ã€<code>table-cell</code>ã€<code>table-caption</code> å…ƒç´ çš„å½±éŸ¿æœªå®šç¾©</li></ul><h3 id="absolute"><a class="header-anchor" href="#absolute"></a><code>absolute</code></h3><ul><li>box çš„ä½ç½® (å¯èƒ½é‚„æœ‰å¤§å°) ç”± <code>top</code>ã€<code>right</code>ã€<code>bottom</code> å’Œ <code>left</code> å±¬æ€§æŒ‡å®š</li><li>é€™äº›å±¬æ€§æŒ‡å®šç›¸å°æ–¼ box çš„ <a href="https://www.w3.org/TR/CSS22/visuren.html#containing-block" target="_blank" rel="noopener">containing block</a> çš„åç§»é‡</li><li>çµ•å°å®šä½çš„ box æœƒå¾ normal flow ä¸­å–å‡ºï¼Œä¹Ÿå°±æ˜¯èªªå®ƒå€‘ä¸æœƒå½±éŸ¿åˆ°ä»¥å¾Œçš„ sibling çš„ä½ˆå±€</li><li>åŒæ¨£ï¼Œå„˜ç®¡çµ•å°å®šä½çš„ box å…·æœ‰ marginï¼Œä½†å®ƒå€‘ä¸æœƒèˆ‡å…¶ä»– margin ç™¼ç”Ÿ collapsing margin</li></ul><h3 id="fixed"><a class="header-anchor" href="#fixed"></a><code>fixed</code></h3><ul><li>box çš„ä½ç½®æ˜¯æ ¹æ“š <code>absolute</code> model è¨ˆç®—å¾—å‡ºçš„ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œè©² box ç›¸å°æ–¼æŸäº›åƒè€ƒæ˜¯ fixed (å›ºå®šçš„)</li><li>èˆ‡ <code>absolute</code> model ä¸€æ¨£ï¼Œbox çš„ margin ä¸æœƒèˆ‡å…¶ä»–ä»»ä½• margin ä¸€èµ· collapse</li><li>ç•¶ media type ç‚º <code>screen</code> æ™‚ï¼Œè©² box ç›¸å°æ–¼ viewport æ˜¯ fixedï¼Œæ²å‹•æ™‚ä¸æœƒç§»å‹•</li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html" target="_blank" rel="noopener">CSS 2.2 - 9. Visual formatting model</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - display</title>
      <link href="/article/css-display.html"/>
      <url>/article/css-display.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS ä¸­çš„å„ç¨® <code>display</code> å±¬æ€§å€¼ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10225430" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - display</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="display-å±¬æ€§"><a class="header-anchor" href="#display-å±¬æ€§"></a><code>display</code> å±¬æ€§</h2><p><img src="../images/css-display/2019-10-06-20-46-44.png" alt=""></p><ul><li><code>block</code>ï¼šä½¿å…ƒç´ ç”¢ç”Ÿ principal block box</li><li><code>inline-block</code>ï¼šä½¿å…ƒç´ ç”¢ç”Ÿ principal inline-level block container (inline-block çš„å…§éƒ¨è¢«æ ¼å¼åŒ–ç‚º block boxï¼Œå…ƒç´ æœ¬èº«è¢«æ ¼å¼åŒ–ç‚º atomic inline-level box)</li><li><code>inline</code>ï¼šä½¿å…ƒç´ ç”¢ç”Ÿä¸€å€‹æˆ–å¤šå€‹ inline box</li><li><code>list-item</code>ï¼šä½¿å…ƒç´  (ä¾‹å¦‚ï¼šHTML ä¸­çš„ <code>li</code> å…ƒç´ ) ç”¢ç”Ÿ principal block box å’Œ marker boxã€‚æœ‰é—œåˆ—è¡¨çš„è³‡è¨Šå’Œåˆ—è¡¨æ ¼å¼ (list formatting) çš„ç¯„ä¾‹ï¼Œè«‹åƒé–±<a href="https://www.w3.org/TR/CSS22/generate.html#lists" target="_blank" rel="noopener">åˆ—è¡¨</a>çš„éƒ¨åˆ†</li><li><code>none</code>ï¼š<ul><li>ä½¿å…ƒç´ ä¸æœƒå‡ºç¾åœ¨ <a href="https://www.w3.org/TR/CSS22/intro.html#formatting-structure" target="_blank" rel="noopener">formatting structure</a> ä¸­ (ä¹Ÿå°±æ˜¯åœ¨ visual media ä¸­ï¼Œè©²å…ƒç´ ä¸ç”¢ç”Ÿä»»ä½• box ä¸”å°ä½ˆå±€æ²’æœ‰å½±éŸ¿)</li><li>descendant å…ƒç´ ä¹Ÿä¸ç”¢ç”Ÿä»»ä½• box</li><li>å…ƒç´ åŠå…¶å…§å®¹å°‡å¾ formatting structure ä¸­å®Œå…¨åˆªé™¤</li><li>å¦‚æœå…ƒç´ è¨­ç‚º <code>display: none</code> æ™‚ï¼Œå…¶ descendant å…ƒç´ ç„¡æ³•ç”¨å…¶ä»– <code>display</code> å±¬æ€§å€¼ä¾†è¦†è“‹çˆ¶å…ƒç´ çš„ <code>display</code> è¨­å®š</li><li>è«‹æ³¨æ„ï¼Œ<code>display: none</code> ä¸æœƒå»ºç«‹ä¸å¯è¦‹çš„ boxï¼›å®ƒæ ¹æœ¬ä¸æœƒå»ºç«‹ä»»ä½• boxã€‚CSS åŒ…æ‹¬ä½¿å…ƒç´ èƒ½å¤ åœ¨ formatting structure ä¸­ç”¢ç”Ÿå½±éŸ¿ formatting ä½†æœ¬èº«ä¸å¯è¦‹çš„ box çš„æ©Ÿåˆ¶ã€‚æœ‰é—œè©³ç´°è³‡è¨Šï¼Œè«‹æŸ¥é–± <a href="https://www.w3.org/TR/CSS22/visufx.html#visibility" target="_blank" rel="noopener"><code>visibility</code></a> éƒ¨åˆ†</li></ul></li><li><code>table</code>ã€<code>inline-table</code>ã€<code>table-row-group</code>ã€<code>table-header-group</code>ã€<code>table-footer-group</code>ã€<code>table-row</code>ã€<code>table-column-group</code>ã€<code>table-column</code>ã€<code>table-cell</code>ã€<code>table-caption</code>ï¼šä½¿å…ƒç´ çš„è¡Œç‚ºé¡ä¼¼æ–¼è¡¨æ ¼å…ƒç´ </li></ul><p>é™¤äº†å®šä½å…ƒç´ ã€float å…ƒç´  (è«‹åƒé–± <a href="https://www.w3.org/TR/CSS22/visuren.html#dis-pos-flo" target="_blank" rel="noopener"><code>display</code>ã€<code>position</code> å’Œ <code>float</code> ä¹‹é–“çš„é—œä¿‚</a>) å’Œ root å…ƒç´ ä¹‹å¤–ï¼Œcomputed value èˆ‡ specified value ç›¸åŒã€‚å°æ–¼ root å…ƒç´ ï¼Œcomputed value å°‡æŒ‰ç…§ <a href="https://www.w3.org/TR/CSS22/visuren.html#dis-pos-flo" target="_blank" rel="noopener"><code>display</code>ã€<code>position</code> å’Œ <code>float</code> ä¹‹é–“çš„é—œä¿‚</a>éƒ¨åˆ†ä¸­æ‰€è¿°é€²è¡Œè®Šæ›´ã€‚</p><p>è«‹æ³¨æ„ï¼Œå„˜ç®¡ <code>display</code> çš„ initial value ç‚º <code>inline</code>ï¼Œä½† UA çš„é è¨­æ¨£å¼è¡¨ä¸­çš„è¦å‰‡å¯èƒ½æœƒè¦†è“‹è©²å€¼ã€‚è«‹åƒé–±é™„éŒ„ä¸­çš„ <a href="https://www.w3.org/TR/CSS22/sample.html" target="_blank" rel="noopener">HTML 4 ç¯„ä¾‹æ¨£å¼è¡¨</a>ã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#propdef-display" target="_blank" rel="noopener">CSS 2.2 - 9.2.4. The <code>display</code> property</a></li><li><a href="https://www.w3.org/TR/css-display/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (inline box)</title>
      <link href="/article/css-box-generation-inline-box.html"/>
      <url>/article/css-box-generation-inline-box.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>åœ¨ visual formatting model ä¸­ï¼Œdocument tree ä¸­çš„æ¯å€‹å…ƒç´ éƒ½æœƒæ ¹æ“š box model ç”Ÿæˆ 0 å€‹æˆ–å¤šå€‹ boxï¼Œbox åˆ†ç‚ºå…©ç¨®ä¸åŒçš„ typeï¼šblock å’Œ inlineã€‚æœ¬ç¯‡å°‡ä»‹ç´¹ inline boxã€‚</p><a id="more"></a><p>ä½¿ç”¨ <code>display</code> å±¬æ€§å¯ä»¥æ±ºå®š box çš„ typeï¼Œä¸åŒçš„ box type æœƒå½±éŸ¿ UA åœ¨ visual formatting model ä¸­è¦å¦‚ä½•å»ä½ˆå±€ï¼Œä¹‹å‰ä»‹ç´¹äº† <a href="https://titangene.github.io/article/css-box-generation-block-box.html">block éƒ¨ä»½</a>ï¼Œæœ¬ç¯‡æœƒä¾†ä»‹ç´¹ inline éƒ¨ä»½ã€‚</p><blockquote><p>å¦‚æœæƒ³ç­è§£ block éƒ¨ä»½ï¼Œå¯åƒé–±åœ¨æ­¤ç³»åˆ—ä¸­çš„å¦ä¸€ç¯‡ã€Œ<a href="https://titangene.github.io/article/css-box-generation-block-box.html">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (block)</a>ã€ã€‚</p></blockquote><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10225035" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (inline box)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Inline-level-elements-and-inline-boxes"><a class="header-anchor" href="#Inline-level-elements-and-inline-boxes"></a>Inline-level elements and inline boxes</h2><p>inline-level å…ƒç´ ï¼š</p><ul><li>source document ä¸­ä¸æ§‹æˆæ–°å…§å®¹çš„ block çš„å…ƒç´  (ä¾‹å¦‚ï¼šæ®µè½å…§çš„ <code>em</code> å…ƒç´ )</li><li>å…§å®¹ä»¥ line åˆ†ä½ˆ (ä¾‹å¦‚ï¼šæ®µè½å…§çš„å¼·èª¿ (emphasized) text ç‰‡æ®µã€inline åœ–ç‰‡ç­‰)</li><li>ç”¢ç”Ÿ inline-level box çš„å…ƒç´ </li><li>ç•¶å…ƒç´ çš„ <code>display</code> å±¬æ€§å€¼ç‚º <code>inline</code>ã€<code>inline-table</code> æˆ– <code>inline-block</code> æ™‚ï¼Œå‰‡è©²å…ƒç´ å°±æœƒæˆç‚º inline-level å…ƒç´ </li></ul><p>inline-level boxï¼š</p><ul><li>åƒèˆ‡ IFC çš„ box</li></ul><p>inline boxï¼š</p><ul><li>æ—¢æ˜¯ inline-level boxï¼Œä¸”è©² box çš„å…§å®¹æœƒåƒèˆ‡è©² box çš„ containing IFC çš„ box</li><li><code>display</code> å±¬æ€§å€¼ç‚º <code>inline</code> çš„ non-replaced å…ƒç´ æœƒç”¢ç”Ÿ inline box</li></ul><p>atomic inline-level boxï¼šä¸æ˜¯ inline box çš„ inline-level boxï¼Œä½œç‚º single opaque (ä¸é€æ˜) box åƒèˆ‡è©² box çš„ IFCï¼Œä¾‹å¦‚ï¼š</p><ul><li>replaced inline-level å…ƒç´ </li><li><code>inline-block</code> å…ƒç´  (å…ƒç´ æœƒç”¢ç”Ÿ principal inline-level block containerï¼Œinline-block çš„å…§éƒ¨æœƒè¢«æ ¼å¼åŒ–ç‚º block boxï¼Œå…ƒç´ æœ¬èº«æœƒè¢«æ ¼å¼åŒ–ç‚º atomic inline-level box)</li><li><code>inline-table</code> å…ƒç´  (åƒèˆ‡ IFC çš„ rectangular block)</li></ul><p>å¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-box-generation-inline-box/2019-10-06-00-07-37.png" alt=""></p><h3 id="Anonymous-inline-boxes"><a class="header-anchor" href="#Anonymous-inline-boxes"></a>Anonymous inline boxes</h3><p>ä»»ä½•ç›´æ¥åŒ…å«åœ¨ block container å…ƒç´ å…§ (ä¸åœ¨ inline å…ƒç´ å…§) çš„ text éƒ½å¿…é ˆè¢«è¦–ç‚º anonymous inline å…ƒç´ ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Some <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>emphasized<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span> text<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>p</code> å…ƒç´ ç”¢ç”Ÿ block boxï¼Œå…¶ä¸­åŒ…å«å¹¾å€‹ inline boxï¼š</p><ul><li>â€œemphasizedâ€ æ–‡å­—çš„ box æ˜¯ç”± inline å…ƒç´  (ä¹Ÿå°±æ˜¯ <code>em</code> å…ƒç´ ) ç”¢ç”Ÿçš„ inline box</li><li>å…¶ä»– box (â€œSomeâ€ å’Œ â€œtextâ€) éƒ½æ˜¯ç”± block-level å…ƒç´  (ä¹Ÿå°±æ˜¯ <code>p</code> å…ƒç´ ) ç”¢ç”Ÿçš„ inline box<ul><li>è€Œæ­¤ box è¢«ç¨±ç‚º anonymous inline boxï¼Œå› ç‚ºå®ƒå€‘éƒ½æ²’æœ‰é—œè¯ (associated) çš„ inline-level å…ƒç´ </li></ul></li></ul><p>æ­¤é¡çš„ anonymous inline box å¾å…¶ block parent box ç¹¼æ‰¿å¯ç¹¼æ‰¿çš„å±¬æ€§ã€‚éç¹¼æ‰¿å±¬æ€§å…·æœ‰å…¶ initial valueã€‚åœ¨æ­¤ç¯„ä¾‹ä¸­ï¼Œanonymous inline box çš„ <code>color</code> æœƒç¹¼æ‰¿è‡³ <code>p</code> å…ƒç´ ï¼Œä½†æ˜¯ <code>background</code> æœƒæ˜¯é€æ˜çš„ã€‚</p><blockquote><p>æœ¬æ–‡çš„å…§å®¹ä¸»è¦æ˜¯ä¾æ“š CSS 2.2 ä¸­çš„å®šç¾©ä¾†èªªæ˜ï¼Œå¦‚æœ‰éŒ¯èª¤ä¹‹è™•ï¼Œæ­¡è¿å‘ŠçŸ¥ï¼Œæ„Ÿè¬ ğŸ˜ƒã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#box-gen" target="_blank" rel="noopener">CSS 2.2 - 9.2. Controlling box generation</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10222516" target="_blank" rel="noopener">è¦–è¦ºæ ¼å¼åŒ–æ¨¡å‹-Box generation(ä¸­) - iT é‚¦å¹«å¿™</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10222018" target="_blank" rel="noopener">Visual Formatting Model - inline - iT é‚¦å¹«å¿™</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (block box)</title>
      <link href="/article/css-box-generation-block-box.html"/>
      <url>/article/css-box-generation-block-box.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>åœ¨ visual formatting model ä¸­ï¼Œdocument tree ä¸­çš„æ¯å€‹å…ƒç´ éƒ½æœƒæ ¹æ“š box model ç”Ÿæˆ 0 å€‹æˆ–å¤šå€‹ boxï¼Œbox åˆ†ç‚ºå…©ç¨®ä¸åŒçš„ typeï¼šblock å’Œ inlineã€‚æœ¬ç¯‡å°‡ä»‹ç´¹ block boxã€‚</p><a id="more"></a><p>ä½¿ç”¨ <code>display</code> å±¬æ€§å¯ä»¥æ±ºå®š box çš„ typeï¼Œä¸åŒçš„ box type æœƒå½±éŸ¿ UA åœ¨ visual formatting model ä¸­è¦å¦‚ä½•å»ä½ˆå±€ï¼Œæœ¬ç¯‡ä¾†ä»‹ç´¹ block éƒ¨ä»½ï¼Œä¹‹å¾Œå‰‡æœƒä»‹ç´¹ <a href="https://titangene.github.io/article/css-box-generation-inline-box.html">inline éƒ¨ä»½</a>ã€‚</p><blockquote><p>å¦‚æœæƒ³ç­è§£ inline éƒ¨ä»½ï¼Œå¯åƒé–±åœ¨æ­¤ç³»åˆ—ä¸­çš„å¦ä¸€ç¯‡ã€Œ<a href="https://titangene.github.io/article/css-box-generation-inline-box.html">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (inline)</a>ã€ã€‚</p></blockquote><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10224653" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Visual formatting modelï¼šBox generation (block box)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Block-level-å…ƒç´ -block-boxes"><a class="header-anchor" href="#Block-level-å…ƒç´ -block-boxes"></a>Block-level å…ƒç´  &amp; block boxes</h2><p>block-level å…ƒç´ ï¼š</p><ul><li>source document ä¸­ä»¥è¦–è¦ºåŒ–çš„æ–¹å¼æ ¼å¼åŒ–ç‚º block çš„å…ƒç´  (ä¾‹å¦‚ï¼š<code>p</code> å…ƒç´ )</li><li>ç”¢ç”Ÿ block-level principal box çš„å…ƒç´ </li><li>ç•¶å…ƒç´ çš„ <code>display</code> å±¬æ€§å€¼ç‚º <code>block</code>ã€<code>list-item</code> æˆ– <code>table</code> æ™‚ï¼Œè©²å…ƒç´ å°±æœƒæˆç‚º block-level å…ƒç´ </li></ul><p>block-level boxï¼š</p><ul><li>åƒèˆ‡ BFC çš„ box</li></ul><p>block container å…ƒç´ ï¼š</p><ul><li>ç•¶è©²å…ƒç´ çš„ principal box æ˜¯ block container box æ™‚ï¼Œå‰‡è©²å…ƒç´ ç‚º block container å…ƒç´ </li></ul><p>block container boxï¼š</p><ul><li>block container è¦éº¼åªåŒ…å«åƒèˆ‡ IFC çš„ inline-level boxï¼Œè¦éº¼åªåŒ…å«åƒèˆ‡ BFC çš„ block-level box (å¯èƒ½æœƒç”¢ç”Ÿ anonymous block box ä»¥ç¢ºä¿æ­¤ç´„æŸï¼Œå¾Œé¢æœƒä»‹ç´¹)</li><li>åªåŒ…å« inline-level content çš„ block container æœƒå»ºç«‹æ–°çš„ IFCï¼Œç„¶å¾Œè©²å…ƒç´ é‚„æœƒç”¢ç”Ÿä¸€å€‹ <a href="https://www.w3.org/TR/css-inline-3/#root-inline-box" target="_blank" rel="noopener">root inline box</a>ï¼Œè©² root inline box æœƒ wrap é‚£äº› inline content</li><li>ç•¶ non-replaced å…ƒç´ çš„ <code>display</code> å±¬æ€§å€¼ç‚º <code>block</code>ã€<code>list-item</code> æˆ– <code>inline-block</code> æ™‚ï¼Œè©²å…ƒç´ æœƒç”¢ç”Ÿ block container box</li></ul><blockquote><p>è¨»ï¼š<a href="https://www.w3.org/TR/css-inline-3/#root-inline-box" target="_blank" rel="noopener">root inline box</a> çš„æ¦‚å¿µæ˜¯åœ¨ <a href="https://www.w3.org/TR/css-display/#block-container" target="_blank" rel="noopener">CSS Display Module Level 3</a> ä¸­æå‡ºçš„ï¼Œæ­¤æ¦‚å¿µå–ä»£äº†åœ¨ <a href="https://www.w3.org/TR/CSS22/visuren.html#anonymous" target="_blank" rel="noopener">CSS 2</a> ä¸­æåˆ°çš„ anonymous inline boxã€‚</p></blockquote><p>ä¸æ˜¯æ‰€æœ‰çš„ block container box éƒ½æ˜¯ block-level boxï¼Œä¾‹å¦‚ä»¥ä¸‹é€™äº›éƒ½æ˜¯ block container boxï¼Œè€Œä¸æ˜¯ block-level boxï¼š</p><ul><li>non-replaced inline block</li><li>non-replaced table cell</li></ul><p>ç›¸åçš„ï¼Œä¸æ˜¯æ‰€æœ‰çš„ block-level box éƒ½æ˜¯ block container boxï¼Œä¾‹å¦‚ä»¥ä¸‹é€™äº›éƒ½æ˜¯ block-level boxï¼Œè€Œä¸æ˜¯ block container boxï¼š</p><ul><li>block-level replaced å…ƒç´  ( <code>display: block</code> )</li><li>flex container ( <code>display: flex</code> )</li><li>table box</li><li>replaced å…ƒç´ çš„ principal box</li></ul><blockquote><p>Block-level boxes that are also block containers are called block boxes.</p><p>The three terms â€œblock-level box,â€ â€œblock container box,â€ and â€œblock boxâ€ are sometimes abbreviated as â€œblockâ€ where unambiguous.</p></blockquote><p>ä¹Ÿå°±æ˜¯èªªï¼Œè‹¥ box åŒæ™‚ç‚º block container box å’Œ block-level box æ™‚ï¼Œå¯è¢«ç¨±ç‚º block boxï¼Œæ­¤æ™‚ä¹Ÿå¯è¢«ç°¡ç¨±ç‚º â€œblockâ€ã€‚</p><p>å¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-box-generation-block-box/2019-10-05-14-37-17.png" alt=""></p><h3 id="Anonymous-block-boxes"><a class="header-anchor" href="#Anonymous-block-boxes"></a>Anonymous block boxes</h3><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼Œå‡è¨­ <code>div</code> å…ƒç´ å’Œ <code>p</code> å…ƒç´ éƒ½æ˜¯ <code>displayï¼šblock</code>ï¼Œ<code>div</code> å…ƒç´ å…§æœ‰ inline å…§å®¹å’Œ block å…§å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  Some text<br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>More text<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="../images/css-box-generation-block-box/2019-10-04-16-23-50.png" alt=""></p><p>ä¸Šåœ–èªªæ˜åŒ¿å block box å¦‚ä½•åœ¨åŒ¿åå…§å®¹çš„å‘¨åœå‡ºç¾ã€‚</p><p><code>div</code> å…ƒç´ ç”¢ç”Ÿ block container boxï¼Œè£¡é¢æœ‰ä¸€å€‹ block-level box (ä¹Ÿå°±æ˜¯ç¯„ä¾‹ä¸­çš„ <code>p</code> å…ƒç´ æ‰€ç”¢ç”Ÿçš„)ï¼Œé‚£å°±æœƒå¼·åˆ¶åœ¨ block container box è£¡é¢åªæœƒæœ‰ block-level boxã€‚</p><p>æ‰€ä»¥åœ¨ <code>div</code> çš„ box å…§æœ‰å…©å€‹åŒ…å« text çš„çŸ©å½¢ boxï¼š</p><ol><li>ç¬¬ä¸€å€‹æ˜¯ anonymous block boxï¼Œå…§å®¹ç‚º â€œSome textâ€</li><li>ç¬¬äºŒå€‹æ˜¯ <code>p</code> å…ƒç´ çš„ boxï¼Œå…§å®¹ç‚º â€œMore textâ€</li></ol><blockquote><p>æœ¬æ–‡çš„å…§å®¹ä¸»è¦æ˜¯ä¾æ“š CSS 2.2 ä¸­çš„å®šç¾©ä¾†èªªæ˜ï¼Œå¦‚æœ‰éŒ¯èª¤ä¹‹è™•ï¼Œæ­¡è¿å‘ŠçŸ¥ï¼Œæ„Ÿè¬ ğŸ˜ƒã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#box-gen" target="_blank" rel="noopener">CSS 2.2 - 9.2. Controlling box generation</a></li><li><a href="https://www.w3.org/TR/css-display-3/" target="_blank" rel="noopener">CSS Display Module Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Containing block</title>
      <link href="/article/css-containing-block.html"/>
      <url>/article/css-containing-block.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ Containing blockã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10224274" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Containing block</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Containing-block"><a class="header-anchor" href="#Containing-block"></a>Containing block</h2><p>ä¸‹é¢æ˜¯ CSS 2.2 å°æ–¼ containing block çš„å®šç¾©ï¼š</p><blockquote><p>In CSS 2.2, many box positions and sizes are calculated with respect to the edges of a rectangular box called a containing block. In general, generated boxes act as containing blocks for descendant boxes; we say that a box â€œestablishesâ€ the containing block for its descendants. The phrase â€œa boxâ€™s containing blockâ€ means â€œthe containing block in which the box lives,â€ not the one it generates.</p></blockquote><p>å¾ˆå¤š box çš„ä½ç½®å’Œå¤§å°éƒ½æ˜¯æ ¹æ“šæŸç¨®çŸ©å½¢æ¡† (rectangular box) ä¾†è¨ˆç®—çš„ï¼Œåœ¨ CSS å®šç¾©ä¸­ï¼Œå°±å°‡æ­¤ box ç¨±ç‚º containing blockã€‚é€šå¸¸æœƒæŠŠç”¢ç”Ÿçš„ box ä½œç‚º descendant box çš„ containing blockï¼Œä¹Ÿå°±æ˜¯èªªä¸€å€‹ box æœƒç‚ºå®ƒçš„ descendant å»ºç«‹ containing blockã€‚ç•¶æˆ‘å€‘åœ¨èªª â€œä¸€å€‹ box çš„ containing blockâ€ æ˜¯ä»£è¡¨ â€œbox æ‰€åœ¨çš„ containing blockâ€ï¼Œè€Œä¸æ˜¯è©² box æ‰€ç”¢ç”Ÿçš„ containing blockã€‚</p><p>å…ƒç´ çš„ containing block å®šç¾©å¦‚ä¸‹ï¼š</p><ol><li><p>root å…ƒç´  (ä¹Ÿå°±æ˜¯ <code>&lt;html&gt;</code> ) æ‰€åœ¨çš„ containing block æ˜¯ä¸€å€‹è¢«ç¨±ç‚º initial containing block çš„çŸ©å½¢ã€‚å°æ–¼ continuous media ä¾†èªªï¼Œcontaining block çš„å°ºå¯¸æ˜¯ç”± viewport çš„å°ºå¯¸ï¼Œä¸¦ä¸”è¢«å›ºå®š (anchored) åœ¨ canvas çš„é–‹å§‹ä½ç½® (origin)ï¼›å°æ–¼ paged media ä¾†èªªï¼Œcontaining block çš„å°ºå¯¸å°±æ˜¯ page area</p></li><li><p>ç•¶å…¶ä»–å…ƒç´ çš„ <code>position</code> å±¬æ€§ç‚º <code>relative</code> æˆ– <code>relative</code> æ™‚ï¼Œcontaining block æ˜¯ç”±æœ€è¿‘çš„ ancestor box çš„ content edge æ‰€æ§‹æˆï¼Œè©² ancestor box æ˜¯ block container æˆ–å»ºç«‹äº† formatting context</p></li><li><p>å¦‚æœå…ƒç´ ç‚º <code>position: fixed</code> æ™‚ï¼Œå‰‡åœ¨ continuous media çš„æƒ…æ³ä¸‹ç”± viewport å»ºç«‹ containing blockï¼Œåœ¨ paged media çš„æƒ…æ³ä¸‹ç”± page area å»ºç«‹ containing block</p></li><li><p>å¦‚æœå…ƒç´ ç‚º <code>position: absolute</code> æ™‚ï¼Œå‰‡ containing block æ˜¯ç”±æœ€è¿‘çš„ <code>position</code> å±¬æ€§ç‚º <code>absolute</code>ã€<code>relative</code> æˆ– <code>relative</code> çš„ ancestor å»ºç«‹ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœè©² ancestor æ˜¯ inline å…ƒç´ æ™‚ï¼Œcontaining block æ˜¯ç‚ºè©²å…ƒç´ ç”¢ç”Ÿçš„ç¬¬ä¸€å€‹å’Œæœ€å¾Œä¸€å€‹ inline box çš„ padding box å‘¨åœçš„ bounding box (é‚Šç•Œæ¡†)ã€‚åœ¨ CSS 2.2 ä¸­ï¼Œå¦‚æœå°‡ inline å…ƒç´ åˆ†å‰² (split across) ç‚ºå¤šè¡Œæ™‚ï¼Œå‰‡ containing block æœªå®šç¾©</li><li>å¦å‰‡ï¼Œcontaining block æ˜¯ç”±è©² ancestor çš„ padding edge æ‰€æ§‹æˆ</li></ol><p>å¦‚æœæ²’æœ‰é€™æ¨£çš„ ancestorï¼Œå‰‡ containing block å°±æ˜¯ initial containing block</p></li></ol><p>é›–ç„¶æ¯å€‹ box éƒ½æœƒæ ¹æ“šå…¶ containing block ä¾†æ±ºå®šä½ç½®ï¼Œä½†ä¸æœƒè¢« containing block æ‰€é™åˆ¶ï¼Œå¯èƒ½æœƒç™¼ç”Ÿ overflowã€‚ç•¶ç™¼ç”Ÿ overflow æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ CSS æä¾›çš„ <code>overflow</code> å±¬æ€§ä¾†è™•ç†ï¼Œé€™åœ¨ä¹‹å¾Œæœƒæåˆ°ã€‚</p><blockquote><p>æœ‰é—œ overflow çš„è©³æƒ…ï¼Œå¯åƒé–±æˆ‘ä¹‹å¾Œå¯«çš„ã€Œ<a href="https://ithelp.ithome.com.tw/articles/10227474" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - overflow</a>ã€ã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/visuren.html#containing-block" target="_blank" rel="noopener">CSS 2.2 - 9.1.2. Containing blocks</a></li><li><a href="https://www.w3.org/TR/CSS22/visudet.html#containing-block-details" target="_blank" rel="noopener">CSS 2.2 - 10.1. Definition of â€œcontaining blockâ€</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Collapsing margins</title>
      <link href="/article/css-collapsing-margins.html"/>
      <url>/article/css-collapsing-margins.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>å…©å€‹ box ä¹‹é–“çš„ margin ç›¸é„° (adjoining) æ™‚ï¼Œå¯èƒ½æœƒè®“ margin ç™¼ç”Ÿåˆä½µï¼Œé€™å€‹ç¾è±¡å°±è¢«ç¨±ç‚º collapsing marginï¼Œè€Œåˆä½µçš„ margin å°±è¢«ç¨±ç‚º collapsed marginã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10223906" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Collapsing margins</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>å…©å€‹ box ä¹‹é–“çš„ margin ç›¸é„° (adjoining) æ™‚ï¼Œå¯èƒ½æœƒè®“ margin ç™¼ç”Ÿåˆä½µï¼Œé€™å€‹ç¾è±¡å°±è¢«ç¨±ç‚º collapsing marginï¼Œè€Œåˆä½µçš„ margin å°±è¢«ç¨±ç‚º collapsed marginã€‚</p><p>åœ¨ä¸‹åˆ—é€™äº›æƒ…æ³æœƒç™¼ç”Ÿ collapsing marginï¼š</p><ul><li>å…©å€‹ block éƒ½æ˜¯ in-flow <a href="https://www.w3.org/TR/CSS22/visuren.html#block-boxes" target="_blank" rel="noopener">block-level box</a>ï¼Œä¸”åƒèˆ‡ç›¸åŒçš„ <a href="https://www.w3.org/TR/CSS22/visuren.html#block-formatting" target="_blank" rel="noopener">BFC</a></li><li>å…©å€‹ block æ²’æœ‰ line boxã€clearanceã€padding æˆ–æ²’æœ‰ border å°‡å®ƒå€‘çš„ margin éš”é–‹</li><li>å‚ç›´ç›¸é„°çš„ box edgeï¼š<ul><li>box çš„ <code>margin-top</code> å’Œç¬¬ä¸€å€‹ in-flow å­å…ƒç´ çš„ <code>margin-top</code></li><li>box çš„ <code>margin-bottom</code> å’Œä¸‹ä¸€å€‹ in-flow ä¹‹å¾Œçš„ sibling çš„ <code>margin-top</code></li><li>æœ€å¾Œä¸€å€‹ in-flow å­å…ƒç´ çš„ <code>margin-bottom</code> å’Œå…¶çˆ¶å…ƒç´ çš„ <code>margin-bottom</code>ï¼Œä¸”çˆ¶å…ƒç´ çš„é«˜åº¦ç‚º <code>auto</code></li><li>æœªå»ºç«‹æ–°çš„ BFCï¼Œä¸” <code>min-height</code> ç‚º 0ã€<code>height</code> ç‚º <code>auto</code>ï¼Œä¸”æ²’æœ‰ in-flow children çš„ box çš„ <code>margin-top</code> å’Œ <code>margin-bottom</code></li></ul></li></ul><p>è€Œä¸‹é¢é€™äº›æƒ…æ³ä¸æœƒç™¼ç”Ÿ collapsing marginï¼š</p><ul><li>root å…ƒç´ çš„ box çš„ margin</li><li>æœ‰ <a href="https://www.w3.org/TR/CSS22/visuren.html#clearance" target="_blank" rel="noopener">clearance</a></li><li>æ°´å¹³çš„ margin</li><li>å»ºç«‹æ–°çš„ BFC (block formatting context) çš„å…ƒç´ çš„ margin ä¸æœƒèˆ‡ in-flow çš„å­å…ƒç´  collapseï¼Œä¾‹å¦‚ï¼šfloat çš„å…ƒç´ ã€<code>overflow</code> å±¬æ€§å€¼ä¸ç‚º <code>visible</code> çš„å…ƒç´ </li><li><code>position: absolute</code> çš„å…ƒç´ çš„ margin</li><li>inline-block box çš„ margin</li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/box.html#collapsing-margins" target="_blank" rel="noopener">CSS 2.2 - 8.3.1 Collapsing margins</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - box-sizing</title>
      <link href="/article/css-box-sizing.html"/>
      <url>/article/css-box-sizing.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ <code>box-sizing</code> å±¬æ€§æ˜¯å¦‚ä½•è¨­å®šè¨ˆç®—å…ƒç´ çš„ç¸½å¯¬åº¦å’Œç¸½é«˜åº¦ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10223434" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - box-sizing</a></p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>ä¸‹åœ–æ˜¯ <code>box-sizing</code> å±¬æ€§çš„å®šç¾©ï¼š</p><p><img src="../images/css-box-sizing/2019-10-01-17-47-55.png" alt=""></p><p>å¯ä»¥çœ‹åˆ° <code>box-sizing</code> å±¬æ€§èƒ½ç”¨åœ¨ä»»ä½•å…ƒç´ ï¼Œè€Œä¸”åˆå§‹å€¼ç‚º <code>content-box</code>ã€‚</p><p>åœ¨ CSS box model ä¸­ï¼Œå°å…ƒç´ æŒ‡å®šå¯¬åº¦å’Œé«˜åº¦æœƒæ‡‰ç”¨æ–¼ content boxï¼Œå¦‚æœåˆåœ¨è©²å…ƒç´ è¨­å®š border æˆ– padding æ™‚ï¼Œåœ¨è¦–è¦ºä¸Šæœƒå¾ˆåƒæ˜¯å¢åŠ å…ƒç´ çš„å¤§å°ã€‚ä¹Ÿå°±æ˜¯èªªç•¶ä½ æƒ³è¦è®“è©²å…ƒç´ ç‚ºæŸå¯¬åº¦æˆ–é«˜åº¦æ™‚ï¼Œéœ€è¦è‡ªè¡Œæ‰‹å‹•æ¸›å» border æˆ– padding æ‰€ä½”ç”¨çš„ç©ºé–“ï¼Œæ‰èƒ½è®“å…ƒç´ ç¬¦åˆåŸæœ¬é æœŸçš„å¯¬é«˜ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box-1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box-1</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: lightgreen;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-selector-class">.box-2</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>);<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚ä¸‹åœ–ï¼Œ<code>.box-1</code> å…ƒç´ å’Œ <code>.box-2</code> å…ƒç´ çš„ <code>width</code> å’Œ <code>height</code> éƒ½ä¸€æ¨£ (éƒ½æ˜¯ 100px)ï¼š</p><p><img src="../images/css-box-sizing/2019-10-01-18-34-25.png" alt=""></p><p>ä½†æ˜¯å¯ä»¥çœ‹å‡ºé€™å…©å€‹å…ƒç´ çš„å¤§å°æ˜é¡¯ä¸åŒï¼Œé€™æ˜¯å› ç‚º <code>.box-2</code> å…ƒç´ æ¯” <code>.box-1</code> å…ƒç´ å¤šäº† padding å’Œ borderï¼š</p><p><img src="../images/css-box-sizing/2019-10-01-18-35-58.png" alt=""></p><p>å„å…ƒç´ åœ¨è¦–è¦ºä¸Šæ‰€ä½”ç”¨çš„ç©ºé–“ï¼š</p><ul><li><code>.box-1</code> å…ƒç´ ï¼š<ul><li>å¯¬ï¼š<code>width</code> (100px)</li><li>é«˜ï¼š<code>height</code> (100px)</li></ul></li><li><code>.box-2</code> å…ƒç´ ï¼š<ul><li>å¯¬ä½”ç”¨ï¼š<code>border-left-width</code> (10px) + <code>padding-left</code> (10px) + <code>width</code> (100px) + <code>padding-right</code> (10px) + <code>border-right-width</code> (10px) = 140px</li><li>é«˜ä½”ç”¨ï¼š<code>border-top-height</code> (10px) + <code>padding-top</code> (10px) + <code>height</code> (100px) + <code>padding-bottom</code> (10px) + <code>border-bottom-height</code> (10px) = 140px</li></ul></li></ul><p>å¦‚æœè¦ <code>.box-2</code> å…ƒç´ è¦ä¿ç•™ border å’Œ paddingï¼Œåˆè¦åªä½”ç”¨å¯¬åº¦å’Œé«˜åº¦å„ 100px å°±åªèƒ½æ‰‹å‹•æ¸›å» border æˆ– paddingï¼Œä»¥ä¸Šé¢ç¯„ä¾‹å°±æœƒæ”¹æˆé€™æ¨£ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box-2</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>);<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="../images/css-box-sizing/2019-10-01-18-46-05.png" alt=""></p><p>é›–ç„¶åœ¨è¦–è¦ºä¸Šï¼Œ<code>.box-1</code> å…ƒç´ å’Œ <code>.box-2</code> å…ƒç´ æ‰€ä½”ç”¨çš„ç©ºé–“è®Šæˆä¸€æ¨£äº†ï¼Œä½†æ˜¯è¦è‡ªè¡Œè¨ˆç®— <code>width</code> å’Œ <code>height</code> æœƒå¾ˆéº»ç…©ã€‚é€™æ™‚å°±å¯ä»¥æ”¹ç”¨ <code>box-sizing: border-box</code>ï¼Œå®ƒå°±æœƒå¹«ä½ è‡ªå‹•è¨ˆç®—æ‰£é™¤ border æˆ– padding æ‰€å‰©é¤˜çš„ç©ºé–“ï¼Œæ‡‰ç”¨åœ¨ content width å’Œ content heightã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box-2</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>);<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚ä¸‹åœ–ï¼Œä¸ç”¨ä¿®æ”¹ <code>width</code> å’Œ <code>height</code> å°±å¯ä»¥é”åˆ°é æœŸçš„æ•ˆæœï¼š</p><p><img src="../images/css-box-sizing/2019-10-01-18-51-44.png" alt=""></p><p><code>content-box</code>ï¼š</p><ul><li><code>box-sizing</code> å±¬æ€§çš„åˆå§‹å€¼</li><li>æŒ‡å®šçš„å¯¬åº¦å’Œé«˜åº¦ (ä»¥åŠå°æ‡‰çš„æœ€å°/æœ€å¤§å±¬æ€§) åˆ†åˆ¥æ‡‰ç”¨æ–¼å…ƒç´  content box çš„å¯¬åº¦å’Œé«˜åº¦</li></ul><h2 id="å„ç¨®-box-sizing-reset-æ–¹æ³•"><a class="header-anchor" href="#å„ç¨®-box-sizing-reset-æ–¹æ³•"></a>å„ç¨® <code>box-sizing</code> reset æ–¹æ³•</h2><h3 id="èˆŠçš„-box-sizing-reset-æ–¹æ³•"><a class="header-anchor" href="#èˆŠçš„-box-sizing-reset-æ–¹æ³•"></a>èˆŠçš„ <code>box-sizing</code> reset æ–¹æ³•</h3><p>ä½¿ç”¨ universal selector é¸æ“‡æ‰€æœ‰å…ƒç´ ï¼Œä¸¦å°‡æ‰€æœ‰å…ƒç´ éƒ½è¨­ç‚º <code>box-sizing: border-box</code>ã€‚é€™å€‹æ–¹æ³•é›–ç„¶å¯ä»¥å°æ‰€æœ‰å…ƒç´ åšè¨­å®šï¼Œä½†æ²’æœ‰å° pseudo-element è¨­å®š <code>box-sizing</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid gray;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid lightblue;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-selector-class">.container</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid lightgreen;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/xxKvgxE" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å¦‚ä¸‹åœ–ï¼Œpseudo-element çš„ <code>box-sizing</code> é‚„æ˜¯é è¨­å€¼ <code>content-box</code>ï¼Œæ‰€ä»¥ content box çš„å¯¬ç‚º 300pxï¼Œé«˜ç‚º 100pxï¼š</p><p><img src="../images/css-box-sizing/2019-10-02-11-47-31.png" alt=""></p><blockquote><p>selector è©³æƒ…å¯åƒè€ƒæˆ‘å‰å¹¾å¤©å¯«çš„ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/articles/10216566" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - CSS Selector (å‰å‚³)</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10218712" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-element (å½å…ƒç´ )</a></li></ul></blockquote><h3 id="Universal-box-sizing"><a class="header-anchor" href="#Universal-box-sizing"></a>Universal <code>box-sizing</code></h3><p>å¾Œä¾†ä¹Ÿä½¿ç”¨ universal selector ä¾†é¸æ“‡ pseudo-elementï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">*, *<span class="hljs-selector-pseudo">::before</span>, *<span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br></code></pre></td></tr></table></figure><p>è‹¥å»¶çºŒå‰é¢çš„ç¯„ä¾‹ï¼Œå°±å¯ä»¥çœ‹åˆ° pseudo-element ä¹Ÿä½¿ç”¨äº† <code>box-sizing: border-box</code>ï¼š</p><p><img src="../images/css-box-sizing/2019-10-02-12-06-07.png" alt=""></p><h3 id="ç¹¼æ‰¿-box-sizing"><a class="header-anchor" href="#ç¹¼æ‰¿-box-sizing"></a>ç¹¼æ‰¿ box-sizing</h3><p>å‰›å‰›çš„æ–¹æ³•çœ‹ä¼¼å¯è¡Œï¼Œä½†å¿½ç•¥äº†æœ‰äº›åœ°æ–¹é‚„æ˜¯æœ‰ <code>box-sizing: content-box</code> çš„éœ€æ±‚ï¼š</p><p>å¦‚æœæƒ³è¦è®“æ‰€æœ‰å…ƒç´ éƒ½ä½¿ç”¨ <code>box-sizing: border-box</code>ï¼Œæœ€å¸¸è¦‹çš„ä½œæ³•æ˜¯åœ¨ <code>html</code> å…ƒç´ ä¸Šè¨­å®š <code>box-sizing</code> å±¬æ€§ï¼Œè€Œæ‰€æœ‰å…¶ä»–å…ƒç´ å‰‡æ˜¯ä½¿ç”¨ <code>inherit</code> é€™å€‹é—œéµå­—ä¾†ç¹¼æ‰¿è©²å€¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">html</span> &#123;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br>*, *<span class="hljs-selector-pseudo">::before</span>, *<span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">box-sizing</span>: inherit;<br>&#125;<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/css-ui-3/#box-sizing" target="_blank" rel="noopener">CSS Basic User Interface Module Level 3 (CSS3 UI) - 3.1. Changing the Box Model: the box-sizing property</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Box modelï¼šborder</title>
      <link href="/article/css-border.html"/>
      <url>/article/css-border.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ Box model ä¸­çš„ borderã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10223019" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Box modelï¼šborder</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Border-width"><a class="header-anchor" href="#Border-width"></a>Border width</h2><p>border width å±¬æ€§æŒ‡å®š border area çš„å¯¬åº¦ã€‚</p><p><img src="../images/css-border/border-width-property-2.png" alt=""></p><p><code>border-top-width</code>ã€<code>border-right-width</code>ã€<code>border-bottom-width</code>ã€<code>border-left-width</code> å±¬æ€§ï¼š</p><ul><li>initial valueï¼š<code>medium</code></li><li>computed valueï¼šabsolute lengthï¼›å¦‚æœ border æ¨£å¼ç‚º <code>none</code> æˆ– <code>hidden</code>ï¼Œå‰‡ç‚º <code>0</code></li></ul><p><code>border-width</code> æ˜¯ä¸‹åˆ—å±¬æ€§çš„ç°¡å¯«å±¬æ€§ï¼š</p><ul><li><code>border-top-width</code></li><li><code>border-right-width</code></li><li><code>border-bottom-width</code></li><li><code>border-left-width</code></li></ul><p><img src="../images/css-border/border-width-property.png" alt=""></p><p>æ­¤å±¬æ€§å¼•ç”¨çš„ <code>&lt;border-width&gt;</code> value type å¯åœ¨ä»¥ä¸‹å¹¾å€‹ç•¶ä¸­é¸ä¸€å€‹ä½¿ç”¨ï¼š</p><ul><li><code>thin</code></li><li><code>medium</code></li><li><code>thick</code></li><li><code>&lt;length&gt;</code>ï¼šæŒ‡å®šæ˜ç¢ºçš„å±¬æ€§å€¼ï¼Œborder width ä¸èƒ½ä½¿ç”¨è² æ•¸</li></ul><p>å‰ä¸‰å€‹å€¼çš„è§£è­¯ (interpretation) æ–¹å¼å–æ±ºæ–¼ UAã€‚ä½†æ˜¯ï¼Œå¿…é ˆæ»¿è¶³ä»¥ä¸‹é—œä¿‚ï¼š<code>thin</code> &lt;= <code>medium</code> &lt;= <code>thick</code>ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">border-width</span>: thin; &#125;               <span class="hljs-comment">/* thin thin thin thin */</span><br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">border-width</span>: thin thick; &#125;         <span class="hljs-comment">/* thin thick thin thick */</span><br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">border-width</span>: thin thick medium; &#125;  <span class="hljs-comment">/* thin thick medium thick */</span><br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">border-width</span>: thin thick medium thin; &#125;  <span class="hljs-comment">/* thin thick medium thin */</span><br></code></pre></td></tr></table></figure><h2 id="Border-color"><a class="header-anchor" href="#Border-color"></a>Border color</h2><p>border color å±¬æ€§æŒ‡å®š box çš„ border çš„é¡è‰²ã€‚</p><p><img src="../images/css-border/border-color-property-2.png" alt=""></p><p><code>border-top-color</code>ã€<code>border-right-color</code>ã€<code>border-bottom-color</code>ã€<code>border-left-color</code> å±¬æ€§ï¼š</p><ul><li>initial valueï¼š<code>color</code> å±¬æ€§å€¼</li><li>computed valueï¼š<code>color</code> å±¬æ€§çš„ <a href="https://www.w3.org/TR/CSS22/cascade.html#computed-value" target="_blank" rel="noopener">computed value</a>ï¼Œå¦å‰‡ä½¿ç”¨æŒ‡å®šçš„é¡è‰²</li></ul><p><code>border-color</code> æ˜¯ä¸‹åˆ—å±¬æ€§çš„ç°¡å¯«å±¬æ€§ï¼š</p><ul><li><code>border-top-color</code></li><li><code>border-right-color</code></li><li><code>border-bottom-color</code></li><li><code>border-left-color</code></li></ul><p><img src="../images/css-border/border-color-property.png" alt=""></p><p><code>border-color</code> å±¬æ€§è¨­å®šå››å€‹ border çš„é¡è‰²ã€‚value å…·æœ‰ä»¥ä¸‹å«ç¾©ï¼š</p><ul><li><code>&lt;color&gt;</code>ï¼šæŒ‡å®šé¡è‰²å€¼</li><li><code>transparent</code>ï¼šé€æ˜çš„ border (å°±ç®—æœ‰è¨­å®š border å¯¬åº¦ä¹Ÿæœƒæ˜¯é€æ˜çš„)</li></ul><p>å¦‚æœæœªä½¿ç”¨ <code>border</code> å±¬æ€§æŒ‡å®šå…ƒç´ çš„ border é¡è‰²ï¼Œå‰‡ UA å¿…é ˆä½¿ç”¨å…ƒç´ çš„ <code>color</code> å±¬æ€§çš„å€¼ä½œç‚º border é¡è‰²çš„ <a href="https://www.w3.org/TR/CSS22/cascade.html#computed-value" target="_blank" rel="noopener">computed value</a>ã€‚</p><p>ä¾‹å¦‚ï¼šå¯¦ç·š (solid) çš„ borderï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123; <br>  <span class="hljs-attribute">color</span>: black; <br>  <span class="hljs-attribute">background</span>: white; <br>  <span class="hljs-attribute">border</span>: solid;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Border-style"><a class="header-anchor" href="#Border-style"></a>Border style</h2><p>border æ¨£å¼å±¬æ€§æŒ‡å®š box çš„ border çš„ line æ¨£å¼ã€‚</p><p><img src="../images/css-border/border-style-property-2.png" alt=""></p><p><code>border-top-style</code>ã€<code>border-right-style</code>ã€<code>border-bottom-style</code>ã€<code>border-left-style</code> å±¬æ€§ï¼š</p><ul><li>initial valueï¼š<code>none</code>ï¼Œä¹Ÿå°±æ˜¯é™¤éæœ‰è¨­å®š border æ¨£å¼ï¼Œå¦å‰‡ä¸æœƒé¡¯ç¤ºä»»ä½• border</li><li>computed valueï¼š<a href="https://www.w3.org/TR/CSS22/cascade.html#specified-value" target="_blank" rel="noopener">specified value</a></li></ul><p><code>border-style</code> æ˜¯ä¸‹åˆ—å±¬æ€§çš„ç°¡å¯«å±¬æ€§ï¼š</p><ul><li><code>border-top-style</code></li><li><code>border-right-style</code></li><li><code>border-bottom-style</code></li><li><code>border-left-style</code></li></ul><p><img src="../images/css-border/border-style-property.png" alt=""></p><p>æ­¤å±¬æ€§å¼•ç”¨çš„ <code>&lt;border-width&gt;</code> value type å¯åœ¨ä»¥ä¸‹å¹¾å€‹ç•¶ä¸­é¸ä¸€å€‹ä½¿ç”¨ï¼š<code>none</code>ã€<code>hidden</code>ã€<code>dotted</code>ã€<code>dashed</code>ã€<code>solid</code>ã€<code>double</code>ã€<code>groove</code>ã€<code>ridge</code>ã€<code>inset</code>ã€<code>outset</code>ã€‚</p><p>æ¨£å¼å¦‚ä¸‹åœ–ï¼š</p><p>Demoï¼š<a href="https://codepen.io/titangene/pen/poobYwJ" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-border/border-style-demo.png" alt=""></p><iframe height="496" style="width:100%" scrolling="no" title="border style" src="https://codepen.io/titangene/embed/poobYwJ?height=496&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/poobYwJ" target="_blank" rel="noopener">border style</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="å››å€‹æ–¹ä½çš„-border-è¨­å®š"><a class="header-anchor" href="#å››å€‹æ–¹ä½çš„-border-è¨­å®š"></a>å››å€‹æ–¹ä½çš„ border è¨­å®š</h2><p>å°±å¦‚ä¹‹å‰æ‰€èªªï¼Œ<code>border-width</code>ã€<code>border-color</code>ã€<code>border-style</code> å’Œ <code>border</code> å±¬æ€§éƒ½å¯ä»¥è¨­å®š 1 è‡³ 4 å€‹å€¼ï¼Œåˆ†åˆ¥ä»£è¡¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plain">å±¬æ€§: ä¸Šä¸‹å·¦å³;<br>å±¬æ€§: ä¸Šä¸‹ å·¦å³;<br>å±¬æ€§: ä¸Š å·¦å³ ä¸‹;<br>å±¬æ€§: ä¸Š å³ ä¸‹ å·¦;<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><ul><li>æ°´å¹³ border ç‚º <code>solid</code></li><li>å‚ç›´ border ç‚º <code>dotted</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">border-style</span>: solid dotted; &#125;<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒæˆ‘ä¹‹å‰å¯«çš„ã€Œ<a href="https://titangene.github.io/article/css-box-model.html">é‡æ–°èªè­˜ CSS - Box model (å‰å‚³)</a>ã€ï¼Œå…§æœ‰ä½¿ç”¨ 1 è‡³ 4 å€‹å€¼çš„å¯¦éš›ç¯„ä¾‹ï¼Œå› æ­¤åœ¨æ­¤ä¸å†è¿½è¿°ã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/box.html#margin-properties" target="_blank" rel="noopener">CSS 2.2 - 8. Box model</a></li><li><a href="https://www.w3.org/TR/css-backgrounds-3/#borders" target="_blank" rel="noopener">CSS Backgrounds and Borders Module Level 3 - 4. Borders</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Box model</title>
      <link href="/article/css-box-model.html"/>
      <url>/article/css-box-model.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>åœ¨ä½ˆå±€ document æ™‚ï¼ŒUA çš„æ¸²æŸ“å¼•æ“æœƒæ ¹æ“š CSS box model å°‡æ¯å€‹å…ƒç´ è¡¨ç¤ºç‚ºä¸€å€‹çŸ©å½¢æ¡† (rectangular box)ã€‚CSS æœƒç¢ºå®šé€™äº› box çš„å¤§å°ã€ä½ç½®å’Œå±¬æ€§ (é¡è‰²ã€èƒŒæ™¯ã€border å¤§å°â€¦ç­‰)ã€‚æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ Box modelã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10222331" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Box model</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>æ¯å€‹ box éƒ½æ˜¯ç”±ä¸‹é¢é€™å››å€‹å€åŸŸ (area) æ‰€çµ„æˆï¼š</p><ul><li>content area (ä¾‹å¦‚ï¼šæ–‡å­—ã€åœ–ç‰‡ â€¦ ç­‰)</li><li>padding area</li><li>border area</li><li>margin area</li></ul><p>é€™äº›å€åŸŸ (area) éƒ½æ˜¯ç”±å„é‚Šç·£ (edge) æ‰€å®šç¾©ï¼š</p><ul><li>content edge<ul><li>ç’°ç¹è‘—ç”± box çš„ <a href="https://www.w3.org/TR/CSS22/visudet.html#Computing_widths_and_margins" target="_blank" rel="noopener">width</a> å’Œ [height] æŒ‡å®šçš„çŸ©å½¢ (rectangle)</li><li>é€šå¸¸å–æ±ºæ–¼å…ƒç´ çš„ <a href="https://www.w3.org/TR/CSS22/conform.html#rendered-content" target="_blank" rel="noopener">render å…§å®¹</a></li></ul></li><li>padding edge<ul><li>padding edge ç’°ç¹è‘— box padding</li><li>å¦‚æœ <code>padding</code> ç‚º 0 æ™‚ï¼Œé‚£ padding edge ä¹Ÿæ˜¯ content edge</li></ul></li><li>border edge<ul><li>border edge ç’°ç¹è‘— box border</li><li>å¦‚æœ <code>border</code> ç‚º 0 æ™‚ï¼Œé‚£ border edge ä¹Ÿæ˜¯ content edge</li></ul></li><li>margin edge<ul><li>margin edge ç’°ç¹è‘— box margin</li><li>å¦‚æœ <code>margin</code> ç‚º 0 æ™‚ï¼Œé‚£ margin edge ä¹Ÿæ˜¯ content edge</li></ul></li></ul><p>å¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-box-model/2019-09-29-08-20-00.png" alt=""></p><p>ç”¨ Chrome DevTools (é–‹ç™¼è€…å·¥å…·) ä¹Ÿå¯ä»¥çœ‹åˆ° box modelï¼š</p><p><img src="../images/css-box-model/2019-09-29-07-51-24.png" alt=""></p><p>ä¸Šåœ–ä¸­çš„å„ç¨®é¡è‰²ç”±å¤–è€Œå…§åˆ†åˆ¥ç‚ºï¼š</p><ul><li>ç™½è‰²ï¼šposition (èˆ‡ box model ç„¡é—œï¼Œä¹‹å¾Œæœƒä»‹ç´¹æ­¤éƒ¨ä»½)</li><li>æ©˜è‰²ï¼šmargin</li><li>é»ƒè‰²ï¼šborder</li><li>ç¶ è‰²ï¼špadding</li><li>è—è‰²ï¼šcontent</li></ul><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.w3.org/TR/css-box-3/#box-model" target="_blank" rel="noopener">CSS Box Model Module Level 3</a></p><p>marginã€border å’Œ padding å¯åˆ†ç‚º topã€rightã€bottom å’Œ left å››å€‹éƒ¨ä»½ï¼Œå¯ç”¨å„è‡ªçš„ CSS å±¬æ€§ä¾†è¨­å®šï¼Œèªæ³•éƒ½å¾ˆé¡ä¼¼ã€‚</p><p>å¦‚æœè¦å„åˆ¥æŒ‡å®šä¸Šä¸‹å·¦å³ï¼Œä¸‹é¢ä»¥ padding çš„èªæ³•ç‚ºä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding-top</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-right</span>: 20<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-bottom</span>: 30<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-left</span>: 40<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦åŒæ™‚è¨­å®šå¤šå€‹éƒ¨ä»½ï¼Œå¯ä»¥ä½¿ç”¨ç°¡å¯«å±¬æ€§ä¾†è¨­å®šï¼Œèªæ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">å±¬æ€§: ä¸Šä¸‹å·¦å³;<br>å±¬æ€§: ä¸Šä¸‹ å·¦å³;<br>å±¬æ€§: ä¸Š å·¦å³ ä¸‹;<br>å±¬æ€§: ä¸Š å³ ä¸‹ å·¦;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢ä»¥ <code>padding</code> é€™å€‹ç°¡å¯«å±¬æ€§ç‚ºä¾‹ï¼Œåªåœ¨æ­¤ç°¡å¯«å±¬æ€§æŒ‡å®š 1 å€‹å±¬æ€§å€¼æ™‚ï¼Œä»£è¡¨åŒæ™‚æŒ‡å®š <code>padding</code> çš„ä¸Šä¸‹å·¦å³éƒ¨ä»½ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding</span>: 10<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding-top</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-right</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-bottom</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-left</span>: 10<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨ç°¡å¯«å±¬æ€§æŒ‡å®š 2 å€‹å±¬æ€§å€¼æ™‚ï¼Œä»£è¡¨åˆ†åˆ¥æŒ‡å®š <code>padding</code> çš„ä¸Šä¸‹ã€å·¦å³éƒ¨ä»½ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding</span>: 10<span class="hljs-selector-tag">px</span> 20<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding-top</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-right</span>: 20<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-bottom</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-left</span>: 20<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨ç°¡å¯«å±¬æ€§æŒ‡å®š 3 å€‹å±¬æ€§å€¼æ™‚ï¼Œä»£è¡¨åˆ†åˆ¥æŒ‡å®š <code>padding</code> çš„ä¸Šã€å·¦å³å’Œä¸‹éƒ¨ä»½ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding</span>: 10<span class="hljs-selector-tag">px</span> 20<span class="hljs-selector-tag">px</span> 30<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding-top</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-right</span>: 20<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-bottom</span>: 30<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-left</span>: 20<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨ç°¡å¯«å±¬æ€§æŒ‡å®š 4 å€‹å±¬æ€§å€¼æ™‚ï¼Œä»£è¡¨åˆ†åˆ¥æŒ‡å®š <code>padding</code> çš„ä¸Šã€å³ã€ä¸‹ã€å·¦éƒ¨ä»½ (ä»¥é †æ™‚é‡çš„æ–¹å‘æœƒæ¯”è¼ƒå¥½è¨˜æ†¶)ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding</span>: 10<span class="hljs-selector-tag">px</span> 20<span class="hljs-selector-tag">px</span> 30<span class="hljs-selector-tag">px</span> 40<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">padding-top</span>: 10<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-right</span>: 20<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-bottom</span>: 30<span class="hljs-selector-tag">px</span>;<br><span class="hljs-selector-tag">padding-left</span>: 40<span class="hljs-selector-tag">px</span>;<br></code></pre></td></tr></table></figure><h2 id="content"><a class="header-anchor" href="#content"></a>content</h2><ul><li>content area (ä¾‹å¦‚ï¼šæ–‡å­—ã€åœ–ç‰‡ â€¦ ç­‰)</li><li>content area çš„å¤§å°ï¼šcontent width å’Œ content heightï¼Œå–æ±ºæ–¼å¹¾å€‹å› ç´ ï¼š<ul><li>ç”Ÿæˆè©² box çš„å…ƒç´ æ˜¯å¦è¨­å®šäº† <code>width</code> æˆ– <code>height</code> å±¬æ€§</li><li>è©² box æ˜¯å¦åŒ…å« text æˆ–å…¶å®ƒ box</li><li>è©² box æ˜¯ä¸æ˜¯è¡¨æ ¼</li><li>â€¦ ç­‰</li></ul></li><li>é€šå¸¸æœ‰ <code>background-color</code> æˆ– <code>background-image</code></li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/box.html" target="_blank" rel="noopener">CSS 2.2 - 8. Box model</a></li><li><a href="https://www.w3.org/TR/css-box-3/#box-model" target="_blank" rel="noopener">CSS Box Model Module Level 3</a></li><li><a href="https://dwatow.github.io/2017/12-17-iron-man-2018/iron-man-2018-day7/" target="_blank" rel="noopener">å‰ç«¯æ–°æ‰‹æ‘ å‚ç›´æ’åˆ— èˆ‡ Box Model</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - @import</title>
      <link href="/article/css-import.html"/>
      <url>/article/css-import.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>CSS çš„ <code>@import</code> è¦å‰‡å¯ä»¥å¾å…¶ä»– style sheet ä¸­ import æ¨£å¼è¦å‰‡ï¼Œæœ¬ç¯‡å°‡ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10221956" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - @import</a></p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="import-èªæ³•"><a class="header-anchor" href="#import-èªæ³•"></a><code>@import</code> èªæ³•</h2><p><code>@import</code> èªæ³•æœ‰å…©ç¨®å¯«æ³•ï¼š</p><ul><li><code>url()</code> å…§åŒ…å« style sheet çš„ URI</li><li>ç›´æ¥å¯« style sheet çš„ URI çš„å­—ä¸²</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"mystyle.css"</span>;<br><span class="hljs-keyword">@import</span> url(<span class="hljs-string">"mystyle.css"</span>);<br></code></pre></td></tr></table></figure><h2 id="è§£æèªæ³•éŒ¯èª¤è™•ç†"><a class="header-anchor" href="#è§£æèªæ³•éŒ¯èª¤è™•ç†"></a>è§£æèªæ³•éŒ¯èª¤è™•ç†</h2><p>å¦‚æœ <code>@import</code> è¦å‰‡ç¬¦åˆä¸‹é¢ä»»ä¸€é …ï¼ŒUA å°±æœƒå¿½ç•¥è©² <code>@import</code> è¦å‰‡ï¼š</p><ul><li>åœ¨å…¶ä»–æ‰€æœ‰è¦å‰‡ä¹‹å¾Œä½¿ç”¨ <code>@import</code> è¦å‰‡ ( <code>@charset</code> è¦å‰‡é™¤å¤–)</li><li>åœ¨ block å…§ä½¿ç”¨ <code>@import</code> è¦å‰‡ï¼Œä¾‹å¦‚ï¼šåœ¨ <code>@media</code> block å…§ä½¿ç”¨</li></ul><h3 id="åœ¨å…¶ä»–æ‰€æœ‰è¦å‰‡ä¹‹å¾Œä½¿ç”¨-import"><a class="header-anchor" href="#åœ¨å…¶ä»–æ‰€æœ‰è¦å‰‡ä¹‹å¾Œä½¿ç”¨-import"></a>åœ¨å…¶ä»–æ‰€æœ‰è¦å‰‡ä¹‹å¾Œä½¿ç”¨ <code>@import</code></h3><p>ä¾‹å¦‚ï¼šå¦‚æœ CSS 2.2 parser é‡åˆ°ä»¥ä¸‹ style sheetï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"subs.css"</span>;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: blue &#125;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"list.css"</span>;<br></code></pre></td></tr></table></figure><p>æ ¹æ“š CSS 2.2 è¦ç¯„ï¼Œä¸Šé¢ç¯„ä¾‹ä¸­çš„ç¬¬äºŒå€‹ <code>@import</code> è¦å‰‡ (ä¹Ÿå°±æ˜¯ <code>@import &quot;list.css&quot;;</code> ) æœƒç„¡æ•ˆï¼Œå› ç‚º <code>@import</code> å¿…é ˆå¯«åœ¨å…¶ä»–è¦å‰‡çš„å‰é¢ï¼Œæ‰€ä»¥ CSS 2.2 parser æœƒå¿½ç•¥ç¬¬äºŒå€‹ <code>@import</code> è¦å‰‡ï¼Œæœ€å¾Œæœƒå°‡ style sheet ç¸®æ¸›ä»¥ä¸‹é€™æ¨£ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"subs.css"</span>;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: blue &#125;<br></code></pre></td></tr></table></figure><h3 id="åœ¨-block-å…§ä½¿ç”¨-import"><a class="header-anchor" href="#åœ¨-block-å…§ä½¿ç”¨-import"></a>åœ¨ block å…§ä½¿ç”¨ <code>@import</code></h3><p>ä¾‹å¦‚ï¼šå¦‚æœåªæƒ³åœ¨ <code>print</code> media ä¸Š import style sheetï¼Œç¬¬äºŒå€‹ <code>@import</code> è¦å‰‡ (ä¹Ÿå°±æ˜¯ <code>@import &quot;print-main.css&quot;;</code> ) æœƒç„¡æ•ˆï¼Œå› ç‚ºæ­¤ <code>@import</code> è¦å‰‡ä¸èƒ½åœ¨ <code>@media</code> block å…§ä½¿ç”¨ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"subs.css"</span>;<br><span class="hljs-keyword">@media</span> print &#123;<br>  <span class="hljs-keyword">@import</span> <span class="hljs-string">"print-main.css"</span>;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10pt</span> &#125;<br>&#125;<br><span class="hljs-selector-tag">h1</span> &#123;<span class="hljs-attribute">color</span>: blue &#125;<br></code></pre></td></tr></table></figure><p>æ­£ç¢ºçš„å¯«æ³•æ˜¯åœ¨ <code>@import</code> è¦å‰‡å¾Œé¢åŠ ä¸Šè¦æŒ‡å®šçš„ media typeï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"subs.css"</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">"print-main.css"</span> print;<br><span class="hljs-keyword">@media</span> print &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10pt</span> &#125;<br>&#125;<br><span class="hljs-selector-tag">h1</span> &#123;<span class="hljs-attribute">color</span>: blue &#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³äº†è§£å…¶ä»– media typeï¼Œå¯åƒé–±åœ¨æ­¤ç³»åˆ—ä¸­çš„å¦ä¸€ç¯‡ã€Œ<a href="https://ithelp.ithome.com.tw/articles/10221152" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - media type</a>ã€ã€‚</p></blockquote><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS2/cascade.html#at-import" target="_blank" rel="noopener">CSS 2.2 - 6.3 The @import rule</a></li><li><a href="https://www.w3.org/TR/CSS22/syndata.html#at-rules" target="_blank" rel="noopener">CSS 2.2 - 4.1.5 At-rules</a></li><li><a href="https://www.w3.org/TR/css3-mediaqueries/" target="_blank" rel="noopener">Media Queries</a></li><li><a href="https://www.w3.org/TR/mediaqueries/#media-types" target="_blank" rel="noopener">Media Queries Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Media query</title>
      <link href="/article/css-media-query.html"/>
      <url>/article/css-media-query.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>ä»Šå¤©ä¾†ä»‹ç´¹ CSS çš„ media query å’Œ media featureã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10221641" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Media query</a></p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>ä½¿ç”¨ media query å¯ä»¥é‡å°æŒ‡å®šè£ç½®ä¾†æŒ‡å®šè¦æ‡‰ç”¨å“ªå€‹ style sheet</p><p>è¤‡ç¿’ä¸€ä¸‹<a href="https://ithelp.ithome.com.tw/articles/10221152" target="_blank" rel="noopener">æ˜¨å¤©</a>æåˆ°çš„ media typeï¼Œå¦‚æœè¦åœ¨ä¸åŒ media type æŒ‡å®šä¸åŒçš„ style sheetï¼Œå¯ä»¥åœ¨ HTML çš„ <code>link</code> å…ƒç´ ä¸Šçš„ <code>media</code> å±¬æ€§ï¼Œç‚ºå¤–éƒ¨ style sheet æŒ‡å®šç›®æ¨™ mediaã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li>åœ¨è¢å¹•ä¸Šé¡¯ç¤ºæ™‚ä½¿ç”¨ç„¡è¥¯ç·šå­—é«”</li><li>åœ¨åˆ—å°æ™‚ä½¿ç”¨è¥¯ç·šå­—é«”</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"screen"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"sans-serif.css"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"print"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"serif.css"</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>å…¶ä»–ç‚º style sheet æŒ‡å®š media çš„æ–¹æ³•å¯åƒé–±åœ¨æ­¤ç³»åˆ—ä¸­çš„å¦ä¸€ç¯‡ã€Œ<a href="https://ithelp.ithome.com.tw/articles/10221152" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - media type</a>ã€ã€‚</p></blockquote><h2 id="Media-Queries"><a class="header-anchor" href="#Media-Queries"></a>Media Queries</h2><p>media query æ˜¯ç”± media type å’Œé›¶å€‹æˆ–å¤šå€‹è¡¨é”å¼çµ„æˆï¼Œé€™äº›è¡¨é”å¼æœƒæª¢æŸ¥æŒ‡å®šçš„ media feature æ¢ä»¶ã€‚</p><p>media query æ˜¯ä¸€å€‹é‚è¼¯è¡¨é”å¼ï¼Œå¯ä»¥ç‚º true æˆ– falseã€‚å¦‚æœ media query çš„ media type èˆ‡åŸ·è¡Œ UA çš„è£ç½®çš„ media type match (ä¾‹å¦‚ï¼šâ€œ<a href="https://www.w3.org/TR/CSS22/about.html#applies-to" target="_blank" rel="noopener">Applies to</a>â€ é‚£è¡Œæ‰€å®šç¾©çš„)ï¼Œä¸¦ä¸” media query ä¸­çš„æ‰€æœ‰è¡¨é”å¼å‡ç‚º trueï¼Œå‰‡ media query ç‚º trueã€‚</p><h3 id="all-é—œéµå­—"><a class="header-anchor" href="#all-é—œéµå­—"></a><code>all</code> é—œéµå­—</h3><p>å¦‚æœè¦é©ç”¨æ‰€æœ‰ media type çš„ media queryï¼Œå¯ä»¥ä½¿ç”¨ç°¡å¯«èªæ³•çœç•¥æ‰ <code>all</code> é€™å€‹é—œéµå­— (å¾Œé¢æ¥è‘— <code>and</code> )ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œå¦‚æœæ²’æœ‰æ˜ç¢ºæŒ‡å®š media type æ™‚ï¼Œå°±ç­‰åŒæ–¼ <code>all</code> é€™å€‹é—œéµå­—ã€‚ä¾‹å¦‚ï¼š</p><p>ä¸‹é¢å…©å€‹ media query ç›¸åŒï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> all <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width:</span><span class="hljs-number">500px</span>) &#123; â€¦ &#125;<br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width:</span><span class="hljs-number">500px</span>) &#123; â€¦ &#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢å…©å€‹ä¹Ÿç›¸åŒï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">orientation:</span> portrait) &#123; â€¦ &#125;<br><span class="hljs-keyword">@media</span> all <span class="hljs-keyword">and</span> (<span class="hljs-attribute">orientation:</span> portrait) &#123; â€¦ &#125;<br></code></pre></td></tr></table></figure><h3 id="Combining-Media-Queriesï¼š"><a class="header-anchor" href="#Combining-Media-Queriesï¼š"></a>Combining Media Queriesï¼š</h3><p>å¯åœ¨ media query åˆ—è¡¨ä¸­çµ„åˆå¤šå€‹ media queryï¼Œä¸¦ä»¥é€—è™Ÿ <code>,</code> åˆ†éš”ã€‚</p><p>å¦‚æœ media query åˆ—è¡¨çš„ä»»ä½• component media query ç‚º <code>true</code>ï¼Œå‰‡ç‚º <code>true</code>ï¼›è‹¥æ‰€æœ‰ component media query ç‚º <code>false</code> æ‰æœƒç‚º <code>false</code>ã€‚</p><p>ä¾‹å¦‚ï¼šå¦‚æœ media type ç‚º <code>screen</code> ä¸”ç‚ºå½©è‰²è£ç½®ï¼Œæˆ– media type ç‚º <code>projection</code> ä¸”ç‚ºå½©è‰²è£ç½®ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (color), projection <span class="hljs-keyword">and</span> (color) &#123; â€¦ &#125;<br></code></pre></td></tr></table></figure><h3 id="and-é—œéµå­—"><a class="header-anchor" href="#and-é—œéµå­—"></a><code>and</code> é—œéµå­—</h3><p>ä¸‹é¢æ˜¯åœ¨ HTML çš„ <code>link</code> å…ƒç´ ä¸Šçš„ <code>media</code> å±¬æ€§ä½¿ç”¨ <code>and</code> é—œéµå­—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"screen and (color)"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"test.css"</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>è·Ÿä¸Šé¢ä¸€æ¨£çš„ media queryï¼Œåªæ˜¯ä¸‹é¢æ˜¯åœ¨ CSS ä¸­ä½¿ç”¨ @import-rule å¯«çš„ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> url(color.css) screen <span class="hljs-keyword">and</span> (color);<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/media.html" target="_blank" rel="noopener">CSS 2.2 - 7. Media types</a></li><li><a href="https://www.w3.org/TR/css3-mediaqueries/" target="_blank" rel="noopener">Media Queries</a></li><li><a href="https://www.w3.org/TR/mediaqueries/#media-types" target="_blank" rel="noopener">Media Queries Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - media type</title>
      <link href="/article/css-media-type.html"/>
      <url>/article/css-media-type.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>å¦‚æœåŒå°‡ä¸€ä»½æ–‡ä»¶æ‡‰ç”¨åœ¨ä¸åŒçš„ media ä¸Šå‘ˆç¾ï¼Œå°±å¯ä»¥ä½¿ç”¨ media type ä¾†æŒ‡å®šé©ç”¨çš„ mediaã€‚æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ media typeã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10221152" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Media type</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>æœ‰äº› CSS å±¬æ€§åªåœ¨æŸäº› media ä¸Šé©ç”¨ï¼Œä¾‹å¦‚ï¼š<a href="https://www.w3.org/TR/CSS22/page.html#propdef-page-break-before" target="_blank" rel="noopener"><code>page-break-before</code></a> å±¬æ€§åƒ…é©ç”¨æ–¼ <code>paged</code> mediaï¼Œè€Œ <code>visual</code> æ˜¯ media groupï¼Œå¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-media-type/2019-09-26-19-25-01.png" alt=""></p><p>ä¸åŒ media type çš„ style sheet å¯ä»¥å°åŒä¸€å€‹å…ƒç´ çš„åŒä¸€å€‹å±¬æ€§é€²è¡Œè¨­å®šï¼Œä½†æ˜¯å„å±¬æ€§æœ‰ä¸åŒçš„è¨­å®šå€¼ã€‚ä¾‹å¦‚ï¼š<code>font-size</code> åœ¨é›»è…¦è¢å¹•ä¸Šé€šå¸¸éƒ½æœƒæ¯”åœ¨ç´™ä¸Šé‚„è¦å¤§ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸åŒ media type åˆ†åˆ¥è¨­å®šä¸åŒçš„å­—é«”å¤§å°ã€‚</p><h2 id="æŒ‡å®šèˆ‡-media-ç›¸é—œçš„-style-sheet"><a class="header-anchor" href="#æŒ‡å®šèˆ‡-media-ç›¸é—œçš„-style-sheet"></a>æŒ‡å®šèˆ‡ media ç›¸é—œçš„ style sheet</h2><p>ä¸‹é¢æœ‰å¹¾ç¨®æ–¹æ³•å¯ä»¥ç‚º style sheet æŒ‡å®š mediaï¼š</p><ol><li>ä½¿ç”¨ <code>@media</code> è¦å‰‡æŒ‡å®šç›®æ¨™ mediaï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> screen &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10pt</span>; &#125;<br>&#125;<br><span class="hljs-keyword">@media</span> print &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10pt</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨ <code>@import</code> è¦å‰‡æŒ‡å®šç›®æ¨™ mediaï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@import</span> url(<span class="hljs-string">"style.css"</span>) screen;<br><span class="hljs-keyword">@import</span> url(<span class="hljs-string">"print.css"</span>) print;<br></code></pre></td></tr></table></figure><ol start="3"><li>åœ¨ HTML è¦å¼•å…¥ style sheet æ™‚ï¼Œåœ¨ <code>link</code> å…ƒç´ ä¸Šçš„ <code>media</code> å±¬æ€§æŒ‡å®šå¤–éƒ¨ style sheet çš„ç›®æ¨™ mediaï¼š</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"screen"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./style.css"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"print"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./print.css"</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="media-è¦å‰‡"><a class="header-anchor" href="#media-è¦å‰‡"></a><code>@media</code> è¦å‰‡</h2><p>å¯åœ¨åŒä¸€å€‹ style sheet å…§ï¼Œç‚ºå„ç¨® media ä½¿ç”¨ style sheet è¦å‰‡ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> print &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10pt</span>; &#125;<br>&#125;<br><span class="hljs-keyword">@media</span> screen &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>; &#125;<br>&#125;<br><span class="hljs-keyword">@media</span> screen, print &#123;<br>  <span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.2</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="media-type"><a class="header-anchor" href="#media-type"></a>media type</h2><p>å¸¸ç”¨çš„ media typeï¼š</p><ul><li><code>all</code>ï¼šé©ç”¨æ–¼æ‰€æœ‰è£ç½®</li><li><code>screen</code>ï¼šä¸»è¦ç”¨æ–¼å½©è‰²é›»è…¦è¢å¹• (åŒ…å«æ‰‹æ©Ÿå’Œå¹³ç‰ˆ)</li><li><code>speech</code>ï¼šé©ç”¨æ–¼èªéŸ³åˆæˆå™¨ (speech synthesizer)ã€èªéŸ³æœ—è®€è£ç½®</li><li><code>print</code>ï¼šé©ç”¨æ–¼ paged material å’Œåœ¨åˆ—å°é è¦½æ¨¡å¼ä¸‹åœ¨è¢å¹•ä¸ŠæŸ¥çœ‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šç”¨ç€è¦½å™¨çš„ã€Œåˆ—å°é è¦½ã€æ¨¡å¼å¯Ÿçœ‹æ–‡ä»¶ (å¦‚ä¸‹åœ–)</li></ul><p><img src="../images/css-media-type/2019-09-27-08-06-25.png" alt=""></p><blockquote><p><code>print</code> çš„ paged media éƒ¨ä»½å¯åƒé–± <a href="https://www.w3.org/TR/CSS22/page.html" target="_blank" rel="noopener">CSS 2.2 - paged media</a>ã€‚</p></blockquote><div class="info"><p>åœ¨ <a href="https://www.w3.org/TR/CSS2/media.html#media-types" target="_blank" rel="noopener">CSS 2.1</a> å®šç¾©äº†å…¶ä»–å¹¾ç¨®æ¯”è¼ƒå°‘è¦‹çš„ media typeï¼š<code>braille</code>ã€<code>embossed</code>ã€<code>handheld</code>ã€<code>projection</code>ã€<code>tty</code>ã€<code>tv</code> å’Œ <code>aural</code>ï¼Œä½†é€™äº› media type åœ¨ <a href="https://www.w3.org/TR/mediaqueries/#media-types" target="_blank" rel="noopener">Media Queries Level 4</a> å·²è¢«æ£„ç”¨ï¼Œæ‰€ä»¥ä¸å»ºè­°ä½¿ç”¨é€™äº› media typeã€‚</p><p>ç•¶åˆåœ¨æ±ºå®šæœ‰å“ªäº› media type çš„æ™‚å€™ï¼Œä¸åŒçš„ media type æœ‰å¾ˆå¤§çš„å€åˆ¥ï¼Œä¾‹å¦‚ï¼š<code>screen</code> å’Œ <code>handheld</code>ï¼Œåˆ†åˆ¥ç‚ºé›»è…¦è¢å¹•å’Œæ‰‹æŒè£ç½® (ä¾‹å¦‚ï¼šPDA)ï¼Œä½†å¾Œä¾†é€™å…©å€‹çš„ç•Œç·šå¾æ„ˆä¾†æ„ˆæ¨¡ç³Šï¼Œè®Šæˆæ²’æœ‰ç•Œç·šã€‚</p></div><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/media.html" target="_blank" rel="noopener">CSS 2.2 - 7. Media types</a></li><li><a href="https://www.w3.org/TR/CSS22/page.html#propdef-page-break-before" target="_blank" rel="noopener">CSS 2.2 - 13. Paged media</a></li><li><a href="https://www.w3.org/TR/css3-mediaqueries/" target="_blank" rel="noopener">Media Queries</a></li><li><a href="https://www.w3.org/TR/mediaqueries/" target="_blank" rel="noopener">Media Queries Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Cascading &amp; Specificity</title>
      <link href="/article/css-cascading-and-specificity.html"/>
      <url>/article/css-cascading-and-specificity.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>CSS å¯ä»¥åœ¨åŒä»½æ–‡ä»¶ä¸Šä½¿ç”¨å¤šå€‹ style sheet ä¾†è¨­å®šæ–‡ä»¶çš„æ¨£å¼ã€‚å¦‚æœä½ åœ¨ä¸åŒ style sheet å…§å°åŒä¸€å€‹å…ƒç´ æˆ–å±¬æ€§è¨­å®šå€¼æ™‚ï¼Œå°±æœƒ CSS æœƒé€é <a href="https://www.w3.org/TR/css-cascade-3/#cascade" target="_blank" rel="noopener">cascading</a> é€™å€‹ç‰¹æ€§ä¾†è§£æ±ºé€™å€‹è¡çªã€‚æœ¬ç¯‡å°‡ä»‹ç´¹ CSS çš„ Cascading å’Œ specificityã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10220677" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Cascading &amp; Specificity</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Cascading"><a class="header-anchor" href="#Cascading"></a>Cascading</h2><p>cascade æ¥å—çµ¦å®š (given) å…ƒç´ ä¸Šçš„çµ¦å®šå±¬æ€§çš„ declared value çš„ç„¡åºåˆ—è¡¨ï¼Œæ ¹æ“šå¦‚ä¸‹æ‰€è¿°æŒ‰ç…§å…¶å®£å‘Šçš„å„ªå…ˆåº¦å°å®ƒå€‘é€²è¡Œæ’åºï¼Œä¸¦è¼¸å‡ºä¸€å€‹ cascaded value</p><p>cascade æœƒä½¿ç”¨å„å…ƒç´ ä¸Šå±¬æ€§çš„ declared value çš„ç„¡åºåˆ—è¡¨ï¼Œé€éä¸‹é¢æ‰€è¿°çš„ Cascading æµç¨‹ï¼Œä»¥å®£å‘Šçš„å„ªå…ˆåº¦å¾é«˜åˆ°ä½é€²è¡Œæ’åºï¼Œä¸¦è¼¸å‡ºä¸€å€‹ cascaded valueï¼š</p><ol><li>Origin and Importance</li><li>Specificity</li><li>Order of Appearance</li></ol><h3 id="Origin-and-Importance"><a class="header-anchor" href="#Origin-and-Importance"></a>Origin and Importance</h3><ul><li>Originï¼šæ ¹æ“šå®£å‘Šçš„<a href="https://www.w3.org/TR/css-cascade-3/#origin" target="_blank" rel="noopener">ä¾†æº (origin)</a></li><li>Importanceï¼šè©²å±¬æ€§å€¼æ˜¯å¦è¢«å®£å‘Šç‚º <code>!important</code></li></ul><p>å„ç¨®ä¾†æºçš„å„ªå…ˆåº¦æŒ‰é™åº (é«˜åˆ°ä½) æ’åˆ—ï¼š</p><ol><li>Transition declarations <a href="https://www.w3.org/TR/css-transitions-1/" target="_blank" rel="noopener">CSS Transitions</a></li><li>Important user agent declarations</li><li>Important user declarations</li><li>Important author declarations</li><li>Animation declarations <a href="https://www.w3.org/TR/css-animations-1/" target="_blank" rel="noopener">CSS Animations Level 1</a></li><li>Normal author declarations</li><li>Normal user declarations</li><li>Normal user agent declarations</li></ol><h3 id="Specificity"><a class="header-anchor" href="#Specificity"></a>Specificity</h3><p>é¸æ“‡å™¨çš„ specificity è¨ˆç®—æ–¹å¼çš„èƒŒå¾Œæ˜¯è¨ˆç®— <code>a</code>ã€<code>b</code>ã€<code>c</code> å’Œ <code>d</code> å€‹å››å€‹æ•¸å­—ï¼Œæ­¤æ–¹æ³•æœƒåˆ†åˆ¥åœ¨å„å€‹ selector ä¸Šè¨ˆç®—ï¼Œå››å€‹æ•¸å­—å„åˆ¥å¦‚ä¸‹ï¼š</p><ul><li><code>a</code>ï¼šå¦‚æœåœ¨ç›´æ¥åœ¨ HTML å…ƒç´ ä¸Šè¨­å®š <code>style</code> å±¬æ€§ï¼Œé‚£ <code>a = 1</code>ï¼Œå¦å‰‡ç‚º 0</li><li><code>b</code>ï¼šè¨ˆç®—ä½¿ç”¨ ID selector çš„æ•¸é‡</li><li><code>c</code>ï¼šè¨ˆç®—ä½¿ç”¨ class selectorã€attributes selector å’Œ pseudo-class çš„æ•¸é‡</li><li><code>d</code>ï¼šè¨ˆç®—ä½¿ç”¨ type selector å’Œ pseudo-element çš„æ•¸é‡</li></ul><p>å¦å¤–é‚„æœ‰å¹¾é»è¦ç‰¹åˆ¥æ³¨æ„ï¼š</p><ul><li>specificity æœƒå¿½ç•¥ universal selector</li><li>å¦‚æœä½ ç”¨ attributes selector ä¾† match <code>id</code> å±¬æ€§ (ä¾‹å¦‚ï¼š<code>[id=titan]</code> )ï¼Œä¹Ÿé‚„æ˜¯ç®—æˆ attributes selector (ä¹Ÿå°±æ˜¯ <code>a = 0</code>ã€<code>b = 0</code>ã€<code>c = 1</code> å’Œ <code>d = 0</code> )</li></ul><p>ä¸‹é¢æ˜¯ <a href="https://www.w3.org/TR/CSS22/cascade.html#specificity" target="_blank" rel="noopener">CSS 2.2</a> æä¾›çš„ specificity ç¯„ä¾‹ï¼š</p><p><img src="../images/css-cascading-and-specificity/specificity.png" alt=""></p><p>ä¸‹é¢èˆ‰å€‹å¯¦éš›çš„ç¯„ä¾‹ï¼›</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><br><span class="css">    <span class="hljs-selector-id">#titan</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"titan"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: green"</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å› ç‚º <code>p</code> å…ƒç´ æœ‰è¨­å®š <code>style</code> å±¬æ€§ï¼Œæœƒè¦†è“‹ <code>style</code> å…ƒç´ ä¸­ ä»¥ ID selector <code>#titan</code> çš„å®£å‘Š (å› ç‚º <code>style</code> å±¬æ€§çš„ specificity æ›´é«˜)ï¼Œæ‰€ä»¥ <code>p</code> å…ƒç´ çš„æ–‡å­—çµæœç‚ºç¶ è‰²ã€‚</p><h3 id="Order-of-Appearance"><a class="header-anchor" href="#Order-of-Appearance"></a>Order of Appearance</h3><p>è¶Šæ”¾åœ¨ HTML æœ€å¾Œçš„å®£å‘Šå„ªå…ˆåº¦è¶Šé«˜ï¼š</p><ul><li><a href="https://www.w3.org/TR/css-cascade-3/#at-ruledef-import" target="_blank" rel="noopener">imported style sheet</a> ä¸­çš„å®£å‘ŠæœƒæŒ‰é †åºä¾†æ’åº</li><li>HTML å¤–éƒ¨é€£çµçš„ style sheet ä¸­çš„å®£å‘ŠæœƒæŒ‰é †åºä¾†æ’åº</li><li><code>style</code> å±¬æ€§çš„å®£å‘Šæ˜¯æ ¹æ“š <code>style</code> å±¬æ€§å‡ºç¾åœ¨è©²å…ƒç´ çš„æ–‡ä»¶é †åºä¾†æ’åºï¼Œä¸¦ä¸”å…¨éƒ¨æ”¾åœ¨ä»»ä½• style sheet ä¹‹å¾Œ</li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/cascade.html" target="_blank" rel="noopener">CSS 2.2 - 6. Assigning property values, Cascading, and Inheritance</a></li><li><a href="https://www.w3.org/TR/css-cascade-3/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - CSS å¦‚ä½•è™•ç†å±¬æ€§å€¼</title>
      <link href="/article/css-value-processing.html"/>
      <url>/article/css-value-processing.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>ä»Šå¤©ä¾†ä»‹ç´¹ CSS å¦‚ä½•è™•ç†å±¬æ€§å€¼ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10220084" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - CSS å¦‚ä½•è™•ç†å±¬æ€§å€¼</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>æ¯å€‹å±¬æ€§çš„å®šç¾©è¡¨ (definition table) éƒ½å®šç¾©äº†ï¼š</p><ul><li>Nameï¼šå±¬æ€§åç¨±</li><li>Valueï¼šå±¬æ€§å€¼</li><li>Initialï¼šinitial value ç‚ºä½•</li><li>Applies toï¼šæ­¤å±¬æ€§é©ç”¨æ–¼å“ªäº›å…ƒç´ </li><li>Inheritedï¼šæ˜¯å¦ç‚º <a href="https://www.w3.org/TR/css-cascade-3/#inherited-property" target="_blank" rel="noopener">inherited properties</a></li><li>Percentagesï¼šç™¾åˆ†æ¯”å€¼å¦‚ä½• interpreted</li><li>Mediaï¼šè©²å±¬æ€§é©ç”¨æ–¼å“ªäº› media group</li><li>Computed valueï¼šå¦‚ä½•è¨ˆç®— Computed value</li></ul><p>å¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-value-processing/2019-09-26-17-08-25.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.w3.org/TR/CSS22/about.html#property-defs" target="_blank" rel="noopener">CSS 2.2 - 1.4.2 CSS property definitions</a></p><blockquote><p>è©³æƒ…å¯åƒé–± <a href="https://www.w3.org/TR/CSS22/about.html#property-defs" target="_blank" rel="noopener">CSS 2.2 Spec - 1.4.2 CSS property definitions</a></p></blockquote><h2 id="Value-Processing"><a class="header-anchor" href="#Value-Processing"></a>Value Processing</h2><p>UA è§£æäº†æ–‡ä»¶ä¸¦åœ¨å»ºæ§‹äº† <a href="https://www.w3.org/TR/CSS22/conform.html#doctree" target="_blank" rel="noopener">document tree</a> ä¹‹å¾Œï¼ŒUA å¿…é ˆç‚º tree ä¸­çš„æ¯å€‹å…ƒç´ ä»¥åŠ formatting structure (æ ¼å¼åŒ–çµæ§‹) ä¸­çš„æ¯å€‹ box åˆ†é…å°æ‡‰æ–¼ç›®æ¨™ <a href="https://www.w3.org/TR/CSS22/media.html" target="_blank" rel="noopener">media type</a> çš„å±¬æ€§å€¼ã€‚</p><div class="info"><p>document treeï¼šsource document (åŸå§‹æ–‡ä»¶ï¼Œåœ¨é€™é‚Šå¯ä»¥æŒ‡ HTML æˆ– XML) ä¸­ç·¨ç¢¼çš„å…ƒç´ çš„ treeã€‚è©² tree ä¸­çš„æ¯å€‹å…ƒç´ éƒ½åªæœ‰ä¸€å€‹çˆ¶å…ƒç´ ï¼Œä½† root å…ƒç´  (åœ¨ HTML ä¸­å°±æ˜¯ <code>&lt;html&gt;</code> å…ƒç´ ) é™¤å¤–ã€‚</p></div><p>æ‰€ä»¥æ¯å€‹å±¬æ€§éƒ½æœƒæœ‰ä¸€å€‹å€¼ï¼Œè€Œé€™äº›å€¼ (ä¹Ÿå°±æ˜¯èªªå…ƒç´ æˆ– box çš„ CSS å±¬æ€§çš„ final value) æœƒé€šéä¸‹é¢å¹¾å€‹æ­¥é©Ÿä¾†è¨ˆç®—æ±ºå®šã€‚</p><p>åœ¨èªªæ˜æ­¥é©Ÿä¹‹å‰å…ˆä¾†èªªé€™å€‹è¨ˆç®—éç¨‹ä¸­æœƒç”¨åˆ°çš„å¹¾ç¨®å€¼ï¼š</p><ul><li>declared value</li><li>cascaded value</li><li>specified value</li><li>computed value</li><li>used value</li><li>actual value</li></ul><h3 id="Declared-values"><a class="header-anchor" href="#Declared-values"></a>Declared values</h3><p>ç‚ºäº†æ‰¾åˆ° declared valueï¼Œæ‡‰ç”¨æ–¼æ¯å€‹å…ƒç´ çš„æ¯å€‹å±¬æ€§å®£å‘Šï¼Œéƒ½æœƒä»¥ <a href="https://www.w3.org/TR/css-cascade-3/#filtering" target="_blank" rel="noopener">filtering declarations (éæ¿¾å®£å‘Š)</a> çš„æ–¹å¼ä¾†æ¨™è­˜å‡º (identify) å¯ä»¥é©ç”¨æ–¼æ¯å€‹å…ƒç´ çš„æ‰€æœ‰å®£å‘Šã€‚åªè¦ç¬¦åˆä¸‹åˆ—æƒ…æ³ï¼Œå®£å‘Šå°±é©ç”¨æ–¼å„å…ƒç´ ï¼š</p><ul><li>å®£å‘Šå±¬æ–¼ç•¶å‰é©ç”¨æ–¼æ­¤æ–‡ä»¶çš„ style sheet</li><li>å®£å‘Šä¸ç¬¦åˆï¼Œå¸¶æœ‰éŒ¯èª¤æ¢ä»¶çš„æ¢ä»¶è¦å‰‡ <a href="https://www.w3.org/TR/css3-conditional/" target="_blank" rel="noopener">CSS Conditional Rules Module Level 3</a></li><li>å®£å‘Šå±¬æ–¼è©² <a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">selector èˆ‡è©²å…ƒç´  match çš„æ¨£å¼è¦å‰‡</a>ã€‚ (å¿…è¦æ™‚éœ€è¦è€ƒæ…®<a href="https://www.w3.org/TR/selectors-4/#scoping" target="_blank" rel="noopener">ç¯„åœ (scope)</a> )</li><li>æœ‰æ•ˆèªæ³•ï¼šå®£å‘Šçš„å±¬æ€§æ˜¯å·²çŸ¥çš„å±¬æ€§åç¨±ï¼Œä¸¦ä¸” declared value èˆ‡è©²å±¬æ€§çš„èªæ³• match</li></ul><p>é©ç”¨æ–¼æ¯å€‹å…ƒç´ ä¸Šçš„æ¯å€‹å±¬æ€§çš„ declared value æœƒå½¢æˆ declared value çš„åˆ—è¡¨ï¼Œæ­¤åˆ—è¡¨æœƒç”± cascade ä¾†é€²è¡Œå„ªå…ˆåº¦æ’åºã€‚</p><h3 id="Cascaded-values"><a class="header-anchor" href="#Cascaded-values"></a>Cascaded values</h3><p>cascade æœƒä½¿ç”¨å„å…ƒç´ ä¸Šå±¬æ€§çš„ declared value çš„ç„¡åºåˆ—è¡¨ï¼Œé€é <a href="https://www.w3.org/TR/css-cascade-3/#cascading" target="_blank" rel="noopener">Cascading</a> (æ˜å¤©æœƒä»‹ç´¹) æµç¨‹é¸æ“‡ä¸€å€‹ â€œwinning valueâ€ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§å®£å‘Šçš„å„ªå…ˆåº¦ä¾†é€²è¡Œæ’åºï¼Œå„ªå…ˆåº¦æœ€é«˜çš„å®£å‘Šå°±æœƒè¼¸å‡ºä¸€å€‹ cascaded value (ä¹Ÿå¯ä»¥èªªæ˜¯åœ¨ <a href="https://www.w3.org/TR/css-cascade-3/#output-of-the-cascade" target="_blank" rel="noopener">cascade çš„è¼¸å‡º (output of the cascade)</a> ä¸­æ’åœ¨æœ€å‰é¢çš„å€¼)ã€‚</p><p>å¦‚æœ cascade çš„è¼¸å‡ºç‚ºç©º (empty) åˆ—è¡¨æ™‚ï¼Œå‰‡æ²’æœ‰ cascade valueã€‚</p><div class="info"><p>cascade çš„è¼¸å‡º (output of the cascade)ï¼šæ¯å…ƒç´ ä¸Šçš„æ¯å€‹å±¬æ€§çš„ declared value çš„æ’åºåˆ—è¡¨ (å¯èƒ½ç‚º empty)ã€‚</p></div><h3 id="Specified-Values"><a class="header-anchor" href="#Specified-Values"></a>Specified Values</h3><p>Specified value æ˜¯ç”± style sheet çš„ä½œè€… (ä¹Ÿå°±æ˜¯ç¶²é é–‹ç™¼è€…) é‡å°è©²å…ƒç´ æŒ‡å®šçš„å±¬æ€§å€¼ã€‚</p><p>cascaded value æœƒé€é <a href="https://www.w3.org/TR/css-cascade-3/#defaulting" target="_blank" rel="noopener">defaulting</a> æµç¨‹ä¾†è¨ˆç®— specified valueï¼Œä»¥ç¢ºä¿æ¯å€‹å…ƒç´ ä¸Šçš„æ¯å€‹å±¬æ€§éƒ½æœ‰ä¸€å€‹ specified valueï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>æ˜¯å¦ç‚º <a href="https://www.w3.org/TR/css-cascade-3/#inherited-property" target="_blank" rel="noopener">inherited properties</a>ï¼š<ul><li>æ˜¯ï¼šé€šéç¹¼æ‰¿å¾è©²çˆ¶å…ƒç´ ä¸­å–å¾— initial value</li><li>å¦ï¼šæ¡ç”¨è©²å±¬æ€§çš„ initial value</li></ul></li><li>Explicit Defaulting (é¡¯å¼é è¨­)ï¼šç•¶ cascaded value ç‚ºä¸‹é¢æŸå€‹ <a href="https://www.w3.org/TR/css3-values/#css-wide-keywords" target="_blank" rel="noopener">CSS-wide keywords</a> æ™‚ (æ‰€æœ‰å±¬æ€§éƒ½å¯ä»¥ä½¿ç”¨é€™äº›é—œéµå­—)ï¼Œæœƒæœ‰å°æ‡‰çš„è™•ç†æ–¹å¼<ul><li><code>initial</code>ï¼šå°‡ initial value ä½œç‚ºå±¬æ€§çš„ specified value</li><li><code>inherit</code>ï¼šå°‡ computed value ä½œç‚ºå±¬æ€§çš„ specified value å’Œ computed value</li><li><code>unset</code>ï¼šæ˜¯å¦ç‚º inherited propertyï¼š<ul><li>æ˜¯ï¼šç­‰åŒæ–¼ <code>inherit</code> çš„ä½œç”¨</li><li>å¦ï¼šç­‰åŒæ–¼ <code>initial</code> çš„ä½œç”¨</li></ul></li></ul></li></ul><p>å¦‚æœæ²’æœ‰ cascaded value æ™‚ï¼Œä¹Ÿæœƒä¾ç…§ä¸Šé¢æµç¨‹ä¾†æ±ºå®š specified valueã€‚</p><h3 id="Computed-Values"><a class="header-anchor" href="#Computed-Values"></a>Computed Values</h3><ul><li>computed value æ˜¯è§£æå±¬æ€§å®šç¾©è¡¨ (definition table) ä¸­çš„ â€œComputed Valueâ€ å®šç¾©çš„ specified value çš„è¨ˆç®—çµæœ</li><li>é€šå¸¸å°‡å…¶çµ•å°åŒ–ä»¥æº–å‚™<a href="https://www.w3.org/TR/css-cascade-3/#inheritance" target="_blank" rel="noopener">ç¹¼æ‰¿</a></li></ul><h3 id="Order-of-Appearance"><a class="header-anchor" href="#Order-of-Appearance"></a>Order of Appearance</h3><p>è¶Šæ”¾åœ¨ HTML æœ€å¾Œçš„å®£å‘Šå„ªå…ˆåº¦è¶Šé«˜ï¼š</p><ul><li><a href="https://www.w3.org/TR/css-cascade-3/#at-ruledef-import" target="_blank" rel="noopener">imported style sheet</a> ä¸­çš„å®£å‘ŠæœƒæŒ‰é †åºä¾†æ’åº</li><li>HTML å¤–éƒ¨é€£çµçš„ style sheet ä¸­çš„å®£å‘ŠæœƒæŒ‰é †åºä¾†æ’åº</li><li><code>style</code> å±¬æ€§çš„å®£å‘Šæ˜¯æ ¹æ“š <code>style</code> å±¬æ€§å‡ºç¾åœ¨è©²å…ƒç´ çš„æ–‡ä»¶é †åºä¾†æ’åºï¼Œä¸¦ä¸”å…¨éƒ¨æ”¾åœ¨ä»»ä½• style sheet ä¹‹å¾Œ</li></ul><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/cascade.html" target="_blank" rel="noopener">CSS 2.2 - 6. Assigning property values, Cascading, and Inheritance</a></li><li><a href="https://www.w3.org/TR/css-cascade-3/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 3</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs plain">4.1 Declared Values<br>4.2 Cascaded Values<br>4.3 Specified Values<br>4.4 Computed Values x<br><br>5 Filtering<br>6 Cascading ä¸ŠåŠéƒ¨ï¼Œè©³ç´°é †åºé‚„æ²’æåˆ°ï¼Œä¸‹ä¸€ç¯‡æœƒæåˆ°<br>### Origin and Importance<br>### Specificity<br>### Order of Appearance x<br><br>7 Defaulting<br>7.1 Initial Values<br>7.2 Inheritance<br>7.3 Explicit Defaulting<br><br>ä¹‹å¾Œå¯«ï¼š<br>- Cascaded values<br>  - Cascading<br>- Specified Values<br>  - Defaulting<br>  - Explicit Defaultingï¼šä¸‰å€‹ CSS-wide keywords<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Inheritance (ç¹¼æ‰¿)</title>
      <link href="/article/css-inheritance.html"/>
      <url>/article/css-inheritance.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>ä»Šå¤©ä¾†ä»‹ç´¹ CSS çš„ Inheritance (ç¹¼æ‰¿) ä»¥åŠ <code>inherit</code> é€™å€‹é—œéµå­—çš„å±¬æ€§å€¼ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10219679" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Inheritance (ç¹¼æ‰¿)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Inheritance-ç¹¼æ‰¿"><a class="header-anchor" href="#Inheritance-ç¹¼æ‰¿"></a>Inheritance (ç¹¼æ‰¿)</h2><p>æŸäº›å€¼æ˜¯ç”± document tree ä¸­çš„å…ƒç´ çš„ children ç¹¼æ‰¿ã€‚æ¯å€‹å±¬æ€§éƒ½<a href="https://www.w3.org/TR/CSS22/about.html#property-defs" target="_blank" rel="noopener">å®šç¾©</a>äº†æ˜¯å¦ç¹¼æ‰¿ã€‚</p><p>åƒä¸‹åœ–æ˜¯ <a href="https://www.w3.org/TR/CSS22/colors.html#propdef-color" target="_blank" rel="noopener"><code>color</code></a> å±¬æ€§çš„å®šç¾©ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ <code>Inherited</code> æ¬„ä½ä¸­æ˜¯å®šç¾©ç‚ºå¯è¢«ç¹¼æ‰¿ï¼š</p><p><img src="../images/css-Inheritance/2019-09-23-18-40-59.png" alt=""></p><p>ä¾‹å¦‚ï¼šä¸‹é¢ç¯„ä¾‹ä¸­ï¼Œå¦‚æœæ²’æœ‰åœ¨ <code>em</code> å…ƒç´ è¨­å®š <code>color</code> å±¬æ€§ï¼Œå°±æœƒç¹¼æ‰¿ <code>h1</code> å…ƒç´ çš„ <code>color</code> å±¬æ€§ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>The headline <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>is<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span> important!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚æœ <code>h1</code> å…ƒç´ çš„ <code>color</code> è¨­ç‚ºè—è‰²ï¼Œé‚£ <code>em</code> å…ƒç´ çš„ <code>color</code> ä¹Ÿæœƒæ˜¯è—è‰²ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;<br></code></pre></td></tr></table></figure><p>ç™¼ç”Ÿç¹¼æ‰¿æ™‚ï¼Œå…ƒç´ æœƒç¹¼æ‰¿ computed valueã€‚ä¾†è‡ªçˆ¶å…ƒç´ çš„ computed value æœƒåŒæ™‚æˆç‚ºå­å…ƒç´ ä¸Šçš„ specified value å’Œ computed valueã€‚</p><p>ä¾‹å¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼š</p><ul><li><code>h1</code> å…ƒç´ çš„ <code>font-size</code> å±¬æ€§çš„ computed value æœƒæ˜¯ 13px ( <code>130% x 10px</code>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨çˆ¶å…ƒç´  <code>body</code> çš„ <code>font-size</code> å±¬æ€§å€¼ï¼š<code>10px</code>ï¼Œä¹˜ä¸Š <code>h1</code> å…ƒç´ çš„ <code>130%</code> )</li><li><code>em</code> å…ƒç´ ç¹¼æ‰¿äº† <code>h1</code> å…ƒç´ çš„ <code>font-size</code> å±¬æ€§çš„ computed valueï¼Œå› æ­¤ <code>em</code> å…ƒç´ ä¹Ÿæœƒæ˜¯ <code>13px</code> çš„ computed value</li><li>å¦‚æœ UA æ²’æœ‰å¯ç”¨çš„ <code>13px</code> å­—é«”ï¼Œå‰‡ <code>h1</code> å’Œ <code>em</code> å…ƒç´ çš„ <code>font-size</code> çš„ actual value å¯èƒ½æœƒæ˜¯ <code>12px</code> (ä¾‹å¦‚ï¼šç€è¦½å™¨é è¨­æœ€å°å­—é«”ç‚º <code>12px</code> )</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>A <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>large<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span> heading<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>; &#125;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">130%</span>; &#125;<br></code></pre></td></tr></table></figure><h3 id="ç¹¼æ‰¿å±¬æ€§å€¼ï¼šinherit"><a class="header-anchor" href="#ç¹¼æ‰¿å±¬æ€§å€¼ï¼šinherit"></a>ç¹¼æ‰¿å±¬æ€§å€¼ï¼š<code>inherit</code></h3><p>æ¯å€‹å±¬æ€§éƒ½å¯ä»¥ä½¿ç”¨ <code>inherit</code> é€™å€‹ç¹¼æ‰¿å±¬æ€§å€¼ï¼Œåªè¦è¨­å®šäº†é€™å€‹å€¼ï¼Œè©²å±¬æ€§å°±æœƒå°‡å…ƒç´ çš„ parent çš„ computed value ä½œç‚º specified valueï¼Œä¹Ÿå°±æ˜¯èªªï¼Œ<code>inherit</code> é€™å€‹å€¼æ˜¯ç”¨æ–¼å¼·åˆ¶ç¹¼æ‰¿ï¼Œä¹Ÿå¯ç”¨æ–¼åŸæœ¬åœ¨å±¬æ€§å®šç¾©è¡¨ä¸­å®šç¾©ç‚º <code>Inherited: no</code> çš„å±¬æ€§ï¼Œè®“è©²å±¬æ€§è®Šæˆå¯ç¹¼æ‰¿çš„çˆ¶å…ƒç´ ã€‚</p><p>å¦‚æœåœ¨ root å…ƒç´ çš„å±¬æ€§ä¸Šè¨­å®šäº† <code>inherit</code> å€¼ï¼Œå‰‡æœƒç‚ºè©²å±¬æ€§è¨­å®šå…¶ initial valueã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li>åœ¨ <code>body</code> å…ƒç´ ä¸Šè¨­å®šäº† <a href="https://www.w3.org/TR/CSS22/colors.html#propdef-color" target="_blank" rel="noopener"><code>color</code></a> å’Œ <a href="https://www.w3.org/TR/CSS22/colors.html#propdef-background" target="_blank" rel="noopener"><code>background</code></a> å±¬æ€§</li><li>æ‰€æœ‰å…¶ä»–å…ƒç´ çš„ <code>color</code> å±¬æ€§è¨­ç‚º <code>inherit</code>ï¼Œä¸¦ä¸” <code>background</code> å±¬æ€§è¨­ç‚º <code>transparent</code> (ä¹Ÿå°±æ˜¯é€æ˜èƒŒæ™¯)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">color</span>: black <span class="hljs-meta">!important</span>; <br>  <span class="hljs-attribute">background</span>: white <span class="hljs-meta">!important</span>;<br>&#125;<br>* &#123; <br>  <span class="hljs-attribute">color</span>: inherit <span class="hljs-meta">!important</span>; <br>  <span class="hljs-attribute">background</span>: transparent <span class="hljs-meta">!important</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸Šé¢é€™äº›è¦å‰‡éƒ½æ˜¯ä½¿ç”¨è€…çš„ style sheetï¼Œå‰‡æœƒåœ¨æ•´å€‹æ–‡ä»¶ä¸­å¼·åˆ¶ä½¿ç”¨ç™½åº•é»‘å­— (å› ç‚ºå…¶ä»–å…ƒç´ çš„ <code>color</code> å±¬æ€§æœƒç¹¼æ‰¿ <code>body</code> å…ƒç´ çš„é»‘è‰²ï¼Œè€Œå…¶ä»–å…ƒç´ éƒ½è¢«è¨­ç‚ºé€æ˜è‰²çš„èƒŒæ™¯)ã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/cascade.html" target="_blank" rel="noopener">CSS 2.2 - 6. Assigning property values, Cascading, and Inheritance</a></li><li><a href="https://www.w3.org/TR/css-cascade-3/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 3</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - CSS å±¬æ€§å€¼</title>
      <link href="/article/css-attribute-value.html"/>
      <url>/article/css-attribute-value.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>åœ¨ä»‹ç´¹å„ç¨® CSS å±¬æ€§ä¹‹å‰ï¼Œå…ˆä¾†ä»‹ç´¹å±¬æ€§å€¼ï¼ŒCSS çš„å±¬æ€§å€¼åˆ†ç‚ºï¼šæ•´æ•¸å’Œå¯¦æ•¸ã€Lengths (é•·åº¦)ã€ç™¾åˆ†æ¯”ã€URLs å’Œ URIsã€Counters (è¨ˆæ•¸å™¨)ã€é¡è‰²ã€å­—ä¸²ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10219238" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - CSS å±¬æ€§å€¼</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>å±¬æ€§å€¼åˆ†ç‚ºï¼š</p><ul><li>æ•´æ•¸å’Œå¯¦æ•¸</li><li>Lengths (é•·åº¦)</li><li>ç™¾åˆ†æ¯”</li><li>URLs &amp; URIs</li><li>Counters (è¨ˆæ•¸å™¨)</li><li>é¡è‰²</li><li>å­—ä¸²</li></ul><h2 id="æ•´æ•¸å’Œå¯¦æ•¸"><a class="header-anchor" href="#æ•´æ•¸å’Œå¯¦æ•¸"></a>æ•´æ•¸å’Œå¯¦æ•¸</h2><ul><li>æ•´æ•¸ (åŒ…æ‹¬æ­£æ•´æ•¸ã€0 å’Œè² æ•´æ•¸)ï¼Œä¾‹å¦‚ï¼š<code>16</code>ã€<code>-10</code>ã€‚</li><li><a href="https://zh.wikipedia.org/wiki/%E5%AE%9E%E6%95%B0" target="_blank" rel="noopener">å¯¦æ•¸</a> (åŒ…æ‹¬æ•´æ•¸ã€å°æ•¸â€¦ç­‰)ï¼Œä¾‹å¦‚ï¼š<code>7.5</code>ã€‚</li></ul><h2 id="Lengths-é•·åº¦"><a class="header-anchor" href="#Lengths-é•·åº¦"></a>Lengths (é•·åº¦)</h2><p>æ ¼å¼ç‚ºå¯¦æ•¸ + å–®ä½ï¼Œä¾‹å¦‚ï¼š<code>16px</code>ã€<code>-10px</code>ã€<code>7.5em</code>ã€‚</p><p>æœ‰äº›å±¬æ€§å¯ä»¥ä½¿ç”¨è² é•·åº¦å€¼ï¼Œä½†é€™æ¨£å¯èƒ½æœƒä½¿ formatting model è¤‡é›œåŒ–ï¼Œä¸¦ä¸”å¯èƒ½æœƒæœ‰æŸäº›å¯¦ä½œä¸Šçš„é™åˆ¶ã€‚å¦‚æœä¸æ”¯æ´è² é•·åº¦å€¼ï¼Œå‰‡æ‡‰æ›æˆå¯æ”¯æ´çš„æœ€æ¥è¿‘å€¼ã€‚</p><p>å¦‚æœåœ¨ä¸æ”¯æ´è² é•·åº¦å€¼çš„å±¬æ€§ä½¿ç”¨ï¼Œå°±æœƒå¿½ç•¥è©²å®£å‘Šã€‚å¦‚æœä¸æ”¯æ´é•·åº¦å€¼ï¼ŒUA å¿…é ˆå°‡å®ƒè¿‘ä¼¼ç‚º<a href="https://www.w3.org/TR/CSS22/cascade.html#actual-value" target="_blank" rel="noopener">å¯¦éš›å€¼ (actual value)</a>ã€‚</p><p>é•·åº¦å–®ä½æœ‰å…©ç¨®ï¼š</p><ul><li>ç›¸å°å–®ä½</li><li>çµ•å°å–®ä½</li></ul><h3 id="ç›¸å°å–®ä½"><a class="header-anchor" href="#ç›¸å°å–®ä½"></a>ç›¸å°å–®ä½</h3><p>ç›¸å°å–®ä½æœ‰ï¼š</p><ul><li><code>em</code>ï¼šç­‰æ–¼ä½¿ç”¨è©²å…ƒç´ çš„ <a href="https://www.w3.org/TR/CSS22/fonts.html#propdef-font-size" target="_blank" rel="noopener"><code>font-size</code></a> å±¬æ€§çš„<a href="https://www.w3.org/TR/CSS22/cascade.html#computed-value" target="_blank" rel="noopener">è¨ˆç®—å€¼</a></li><li><code>ex</code>ï¼šç”±å…ƒç´ çš„ç¬¬ä¸€å€‹å¯ç”¨å­—é«”å®šç¾©ï¼Œé—œæ–¼å­—é«”çš„ â€œx-heightâ€</li></ul><div class="info"><h4 id="x-height"><a class="header-anchor" href="#x-height"></a>x-height</h4><ul><li>é€šå¸¸ç­‰æ–¼å°å¯«å­—æ¯ â€œxâ€ çš„é«˜åº¦</li><li>å³ä½¿ä¸åŒ…å« â€œxâ€ çš„å­—é«”ä¹Ÿå®šç¾©äº† <code>ex</code></li></ul><p>å­—é«”çš„ x-height å¯ä»¥é€šéä¸åŒçš„æ–¹å¼æ‰¾åˆ°ï¼š</p><ul><li>æŸäº›å­—é«”æœ¬èº«å°±æœ‰åŒ…å« x-height çš„è³‡è¨Š (å¯é æŒ‡æ¨™ï¼Œreliable metrics)</li><li>å¦‚æœæ²’æœ‰å¯é çš„å­—é«”æŒ‡æ¨™ï¼ŒUA å¯ä»¥æ ¹æ“šå°å¯«å­—å½¢çš„ height ä¾†ç¢ºå®š x-height<ul><li>ä¾‹å¦‚ï¼šä»¥å°å¯«å­—æ¯ â€œoâ€ çš„å­—å½¢ (glyph) åœ¨ baseline ä»¥ä¸‹å»¶ä¼¸çš„è·é›¢ï¼Œä¸¦å¾å…¶ bounding box (é‚Šç•Œæ¡†) çš„é ‚ç«¯æ¸›å»è©²å€¼</li></ul></li><li>å¦‚æœé‚„æ˜¯ç„¡æ³•ç¢ºå®š x-heightï¼Œå°±æœƒå°‡ x-height è¨­ç‚º <code>0.5em</code></li></ul><p><img src="../images/css-attribute-value/2019-09-22-18-51-25.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.w3.org/TR/css-inline-3/#baseline-synthesis-fonts" target="_blank" rel="noopener">CSS Inline Layout Module Level 3</a></p></div><p>åªè¦åœ¨ <code>font-size</code> å±¬æ€§å€¼ä¸­ä½¿ç”¨ <code>em</code> å’Œ <code>ex</code> å–®ä½ï¼Œå„åˆ¥å°±æœƒå¼•ç”¨çˆ¶å…ƒç´ çš„ <code>em</code> æˆ– <code>ex</code> å–®ä½ã€‚</p><p>ä¾‹å¦‚ï¼šåŸæœ¬ <code>p</code> å…ƒç´ çš„é è¨­å­—é«”å¤§å°ç‚º 16pxï¼Œå¦‚æœé€™æ™‚è¨­å®šä»¥ä¸‹æ¨£å¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>; &#125;<br></code></pre></td></tr></table></figure><p><code>p</code> å…ƒç´ çš„è¨ˆç®—å€¼å°±æœƒæ˜¯ <code>2 x 16px</code>ï¼Œæ‰€ä»¥è¨ˆç®—å€¼çš„çµæœç‚º 32pxï¼Œä¸¦ä¸”ä¸Šä¸‹çš„ margin ä¹Ÿæœƒè®Šæˆå„ 32pxï¼Œå› ç‚ºç€è¦½å™¨é è¨­ margin ç‚º 1emï¼š</p><p><img src="../images/css-attribute-value/2019-09-22-18-29-08.png" alt=""></p><p><img src="../images/css-attribute-value/2019-09-22-18-23-58.png" alt=""></p><p>å¦‚æœåœ¨ <code>p</code> å…ƒç´ çš„å®¹å™¨ä¸Šè¨­å®šï¼ŒCSS æ¨£å¼è®Šæˆé€™æ¨£ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>; &#125;<br><span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>; &#125;<br></code></pre></td></tr></table></figure><p>é‚£ <code>p</code> å…ƒç´ çš„å­—é«”å¤§å°å°±ä¸æœƒæ˜¯å‰›å‰›çš„ 32pxï¼Œè€Œæ˜¯è®Šæˆ 20pxã€‚é€™æ˜¯å› ç‚º <code>em</code> é€™å€‹å–®ä½æœƒæ‹¿å®¹å™¨çš„å¤§å°ä¾†ç®—å‡ºè¨ˆç®—å€¼ï¼Œä¹Ÿå°±æ˜¯ <code>2 x 10px</code>ï¼Œæ‰€ä»¥è¨ˆç®—å€¼çš„çµæœç‚º 20pxï¼Œä¸¦ä¸”ä¸Šä¸‹çš„ margin ä¹Ÿæœƒè®Šæˆå„ 20pxï¼š</p><p><img src="../images/css-attribute-value/2019-09-22-18-35-52.png" alt=""></p><p>å°‡ <code>em</code> å–®ä½ç”¨åœ¨ <code>line-height</code> æ˜¯å¸¸è¦‹çš„ç”¨æ³•ã€‚ä¾‹å¦‚ï¼šè¨­å®šä»¥ä¸‹æ¨£å¼ï¼Œå°±ä»£è¡¨å°‡ <code>h1</code> å…ƒç´ çš„ line height è¨­å®šæˆæ¯” <code>h1</code> å…ƒç´ çš„å­—é«”å¤§ 20%ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.2em</span>; &#125;<br></code></pre></td></tr></table></figure><p>å¦å¤–ï¼Œç•¶ä½¿ç”¨ <code>em</code> å’Œ <code>ex</code> å–®ä½æ™‚ï¼Œå­å…ƒç´ æ˜¯ç¹¼æ‰¿çˆ¶å…ƒç´ çš„<a href="https://www.w3.org/TR/CSS22/cascade.html#computed-value" target="_blank" rel="noopener">è¨ˆç®—å€¼</a>ï¼Œä¸æ˜¯ç¹¼æ‰¿çˆ¶å…ƒç´ æŒ‡å®šçš„ç›¸å°å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š<code>h1</code> å…ƒç´ æ˜¯ <code>body</code> å…ƒç´ çš„å­å…ƒç´ ï¼Œ<code>h1</code> å…ƒç´ çš„ <a href="https://www.w3.org/TR/CSS22/text.html#propdef-text-indent" target="_blank" rel="noopener"><code>text-indent</code></a> å±¬æ€§çš„è¨ˆç®—å€¼æœƒæ˜¯ 36pxï¼Œè€Œä¸æ˜¯ 45pxï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">text-indent</span>: <span class="hljs-number">3em</span>;  <span class="hljs-comment">/* i.e., 36px */</span><br>&#125;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>; &#125;<br></code></pre></td></tr></table></figure><p>(O)ï¼šå› ç‚ºåœ¨ <code>body</code> å…ƒç´ çš„ <code>text-indent</code> å±¬æ€§çš„è¨ˆç®—å€¼æ˜¯ 36pxï¼Œè€Œå­å…ƒç´  <code>p</code> åªæœƒç¹¼æ‰¿çˆ¶å…ƒç´  <code>body</code> çš„è¨ˆç®—å€¼ 36pxã€‚<br>(X)ï¼šè€Œä¸æ˜¯å› ç‚º <code>p</code> å…ƒç´ çš„å­—é«”å¤§å°ç‚º 15pxï¼Œæ‰€ä»¥ <code>p</code> å…ƒç´ çš„ <code>text-indent</code> å±¬æ€§çš„è¨ˆç®—å€¼æ˜¯ 45pxã€‚</p><h3 id="çµ•å°å–®ä½"><a class="header-anchor" href="#çµ•å°å–®ä½"></a>çµ•å°å–®ä½</h3><p>çµ•å°å–®ä½æœ‰ï¼š</p><ul><li><code>in</code>ï¼šinches (è‹±å¯¸)ï¼Œ1in ç­‰æ–¼ 2.54cm</li><li><code>cm</code>ï¼šå…¬åˆ†</li><li><code>mm</code>ï¼šæ¯«ç±³</li><li><code>pt</code>ï¼špoints (é»)ï¼ŒCSS ä½¿ç”¨çš„ points ç­‰æ–¼ 1/72nd of 1in</li><li><code>pc</code>ï¼špicas (æ´¾å¡)ï¼Œ1pc ç­‰æ–¼ 12pt</li><li><code>px</code>ï¼špixel units (åƒç´ å–®ä½)ï¼Œ1px ç­‰æ–¼ 0.75pt</li></ul><p>å„ç¨®çµ•å°å–®ä½ä¹‹é–“çš„é—œä¿‚ï¼š<code>1in</code> = <code>2.54cm</code> = <code>25.4mm</code> = <code>72pt</code> = <code>6pc</code>ã€‚</p><p>ç•¶è§£æåº¦ç‚º <code>72dpi</code> æ™‚ï¼Œ<code>1px = 1pt</code>ã€‚</p><h2 id="ç™¾åˆ†æ¯”"><a class="header-anchor" href="#ç™¾åˆ†æ¯”"></a>ç™¾åˆ†æ¯”</h2><p>æ¯å€‹ CSS å±¬æ€§éƒ½æœƒå®šç¾©æ˜¯å¦å¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”å€¼ï¼Œå¦‚æœå¯ä»¥ä½¿ç”¨æœƒå¼•ç”¨å“ªè£¡çš„å€¼ä¾†ä½œç‚ºä¾æ“šã€‚ç™¾åˆ†æ¯”å€¼å¯ä»¥æ˜¯ï¼š</p><ul><li>ç›¸åŒå…ƒç´ çš„å¦ä¸€å€‹å±¬æ€§çš„å€¼</li><li>ancestor å…ƒç´ çš„å±¬æ€§çš„å€¼</li><li>formatting context çš„å€¼ (ä¾‹å¦‚ï¼š<a href="https://www.w3.org/TR/CSS22/visuren.html#containing-block" target="_blank" rel="noopener">containing block</a> çš„å¯¬åº¦ï¼Œcontaining block çš„éƒ¨ä»½ä¹‹å¾Œæœƒèªªæ˜)</li></ul><p>ä¸‹é¢æ˜¯ã€Œç›¸åŒå…ƒç´ çš„å¦ä¸€å€‹å±¬æ€§çš„å€¼ã€çš„ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">120%</span>;  <span class="hljs-comment">/* 120% of 'font-size' */</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å°‡ <code>p</code> å…ƒç´ çš„å­—é«”å¤§å°è¨­ç‚º 10pxï¼Œå¦‚æœåˆå† <code>p</code> å…ƒç´ ä¸Šè¨­å®š <code>line-height: 120%</code>ï¼Œé‚£ <code>p</code> å…ƒç´ çš„ <code>line-height</code> çš„è¨ˆç®—å€¼çµæœæœƒæ˜¯ 12px (å› ç‚º <code>10px x 120%</code> )ã€‚</p><p>ä¸‹é¢æ˜¯ã€Œancestor å…ƒç´ çš„å±¬æ€§çš„å€¼ã€çš„ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Lorem<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>; &#125;<br><span class="hljs-selector-tag">span</span> &#123; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">120%</span>; &#125;<br></code></pre></td></tr></table></figure><p>å°‡ <code>p</code> å…ƒç´ çš„å­—é«”å¤§å°è¨­ç‚º 20pxï¼Œ<code>span</code> å…ƒç´ çš„ <code>line-height</code> å±¬æ€§æœƒç¹¼æ‰¿çˆ¶å…ƒç´  <code>p</code> çš„ <code>font-size</code> å€¼ 20pxï¼Œæ‰€ä»¥ <code>span</code> å…ƒç´ çš„ <code>line-height</code> å±¬æ€§çš„è¨ˆç®—å€¼çµæœå°±æœƒæ˜¯ 24px (å› ç‚º <code>20px x 120%</code> )ã€‚</p><h2 id="URLs-URIs"><a class="header-anchor" href="#URLs-URIs"></a>URLs &amp; URIs</h2><p>æœ‰äº› CSS çš„å±¬æ€§å€¼å¯ä»¥ä½¿ç”¨ URIï¼Œèªæ³•ç¯„ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">"http://www.ex.com/image.png"</span>); &#125;<br></code></pre></td></tr></table></figure><blockquote><p>URI (Uniform Resource Identifiers) åŒ…æ‹¬ URLã€URN ç­‰ï¼Œè©³æƒ…è«‹åƒé–± <a href="https://www.ietf.org/rfc/rfc3986" target="_blank" rel="noopener">RFC3986</a> æ¨™æº–ã€‚</p></blockquote><p><code>url()</code> å…§çš„é›™å¼•è™Ÿ ( <code>&quot;</code> ) ä¹Ÿå¯ä»¥æ”¹ç‚ºå–®å¼•è™Ÿ ( <code>'</code> )ã€‚</p><p>å¦å¤–ï¼Œåœ¨å‰å–®å¼•è™Ÿæˆ–å‰å–®å¼•è™Ÿä¹‹å‰ï¼Œä»¥åŠå¾Œé›™å¼•è™Ÿæˆ–å¾Œé›™å¼•è™Ÿä¹‹å¾Œéƒ½å¯ä»¥åŠ ä¸Šå¯é¸çš„<a href="https://www.w3.org/TR/CSS22/syndata.html#whitespace" target="_blank" rel="noopener">ç©ºç™½å­—å…ƒ (white space)</a>ï¼Œå¯ä¾ç…§å„è‡ªåå¥½ä¾†æ±ºå®š coding styleï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>( <span class="hljs-string">"http://www.ex.com/image.png"</span> ); &#125;<br><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>( <span class="hljs-string">'http://www.ex.com/image.png'</span> ); &#125;<br></code></pre></td></tr></table></figure><h3 id="æ²’æœ‰å¼•è™Ÿ"><a class="header-anchor" href="#æ²’æœ‰å¼•è™Ÿ"></a>æ²’æœ‰å¼•è™Ÿ</h3><p>ä¸‹é¢æ˜¯æ²’æœ‰å¼•è™Ÿçš„ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">li</span> &#123; <span class="hljs-attribute">list-style</span>: <span class="hljs-built_in">url</span>(http://www.ex.com/titan.png) disc; &#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨æ²’æœ‰åŠ å¼•è™Ÿçš„ URI ä¸­ä½¿ç”¨æŸäº›å­—å…ƒï¼Œä¾‹å¦‚ï¼šæ‹¬è™Ÿ ( <code>(</code>ã€<code>)</code> )ã€ç©ºç™½å­—å…ƒ ( <code></code> )ã€å–®å¼•è™Ÿ ( <code>'</code> ) å’Œé›™å¼•è™Ÿ ( <code>&quot;</code> )ï¼Œå°±å¿…é ˆåœ¨è©²å­—å…ƒä¹‹å‰åŠ ä¸Šåæ–œç·šè·³è„« (escaped with a backslash)ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">li</span> &#123; <span class="hljs-attribute">list-style</span>: <span class="hljs-built_in">url</span>(http://www.ex.com/titan\(test\).png) disc; &#125;<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å°‡ä¸Šè¿°å­—å…ƒæŒ‰ç…§ <a href="https://www.ietf.org/rfc/rfc3986" target="_blank" rel="noopener">RFC3986</a> ä¸­çš„æè¿°ï¼Œè½‰æ›æˆ URI æ›ç¢¼å­—å…ƒï¼Œä¾‹å¦‚ï¼š<code>(</code> ç­‰æ–¼ <code>%28</code>ï¼Œè€Œ <code>)</code> ç­‰æ–¼ <code>%29</code>ã€‚å‰›å‰›ä¸Šé¢çš„ç¯„ä¾‹å°±æœƒè®Šæˆï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">li</span> &#123; <span class="hljs-attribute">list-style</span>: <span class="hljs-built_in">url</span>(http://www.ex.com/titan%<span class="hljs-number">28</span>test%<span class="hljs-number">29</span>.png) disc; &#125;<br></code></pre></td></tr></table></figure><h3 id="ç›¸å°-URI"><a class="header-anchor" href="#ç›¸å°-URI"></a>ç›¸å° URI</h3><p>å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸å° URIã€‚ä¾‹å¦‚ä¸‹é¢çš„ CSS æª”æ¡ˆæ”¾åœ¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">http:&#x2F;&#x2F;www.ex.org&#x2F;style&#x2F;basic.css<br></code></pre></td></tr></table></figure><p>CSS æª”å…§å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">"titan.png"</span>); &#125;<br></code></pre></td></tr></table></figure><p>é‚£é€™å€‹ <code>&quot;titan.png&quot;</code> çš„å®Œæ•´ URI å°±æœƒæ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">http:&#x2F;&#x2F;www.ex.org&#x2F;style&#x2F;titan.png<br></code></pre></td></tr></table></figure><p>ä¹Ÿå°±ä»£è¡¨ç›¸å° URI æœƒä½¿ç”¨ base URI ä¾†è§£ææˆå®Œæ•´çš„ URIã€‚ä¸éè¦æ³¨æ„çš„æ˜¯ï¼Œå° CSS style sheet ä¾†èªªï¼Œbase URI æ˜¯ style sheet çš„ base URI (åœ¨ä¸Šé¢ç¯„ä¾‹ä¸­æ˜¯ <code>http://www.ex.org/style/</code> )ï¼Œè€Œä¸æ˜¯ source document (åŸå§‹æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ HTML æ–‡ä»¶) çš„ base URIã€‚</p><blockquote><p>åœ¨ <a href="https://www.ietf.org/rfc/rfc3986" target="_blank" rel="noopener">RFC3986</a> çš„ç¬¬äº”ç¯€å®šç¾©äº†æ­¤éç¨‹çš„è¦ç¯„æ¼”ç®—æ³•ã€‚</p></blockquote><h3 id="ä¸å¯ç”¨åœ¨-URI-ä¸­ä½¿ç”¨è¨»è§£"><a class="header-anchor" href="#ä¸å¯ç”¨åœ¨-URI-ä¸­ä½¿ç”¨è¨»è§£"></a>ä¸å¯ç”¨åœ¨ URI ä¸­ä½¿ç”¨è¨»è§£</h3><p>ä¸‹é¢ç¯„ä¾‹çœ‹ä¼¼è¨»è§£äº† <code>x</code> é€™å€‹å­—å…ƒï¼Œä½†å…¶å¯¦æ­¤ URI é‚„æ˜¯ <code>/*x*/pic.png</code>ï¼Œè€Œä¸æ˜¯ <code>pic.png</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(/*x*/pic.png); &#125;<br></code></pre></td></tr></table></figure><div class="info"><p>è¨»ï¼šåœ¨ CSS ä¸­çš„è¨»è§£èªæ³•æ˜¯ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* æˆ‘æ˜¯è¨»è§£ */</span><br></code></pre></td></tr></table></figure></div><h2 id="Counters-è¨ˆæ•¸å™¨"><a class="header-anchor" href="#Counters-è¨ˆæ•¸å™¨"></a>Counters (è¨ˆæ•¸å™¨)</h2><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>First<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>First-First<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>First-Second<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Second<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Second-First<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Second-Second<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123; <span class="hljs-attribute">counter-reset</span>: chapter; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">"Chapter "</span> <span class="hljs-built_in">counter</span>(chapter) <span class="hljs-string">". "</span>;<br>  <span class="hljs-attribute">counter-increment</span>: chapter;<br>&#125;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">counter-reset</span>: section; &#125;<br><span class="hljs-selector-tag">h2</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-built_in">counter</span>(chapter) <span class="hljs-string">"."</span> <span class="hljs-built_in">counter</span>(section) <span class="hljs-string">". "</span>;<br>  <span class="hljs-attribute">counter-increment</span>: section;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/poobELL" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>è®“ <code>h1</code> å’Œ <code>h2</code> å…ƒç´ çš„æ–‡å­—ä¹‹å‰æœƒè‡ªå‹•ç‚ºç« ç¯€ç·¨è™Ÿï¼š</p><p><img src="../images/css-attribute-value/2019-10-16-14-07-03.png" alt=""></p><iframe height="559" style="width:100%" scrolling="no" title="automatic counters and numbering" src="https://codepen.io/titangene/embed/poobELL?height=559&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/poobELL" target="_blank" rel="noopener">automatic counters and numbering</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><blockquote><p>è©³æƒ…å¯åƒè€ƒï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/syndata.html#counter" target="_blank" rel="noopener">CSS 2.2 - 4.3.5. Counters</a></li><li><a href="https://www.w3.org/TR/CSS22/generate.html#counters" target="_blank" rel="noopener">CSS 2.2 - 12.4. Automatic counters and numbering</a></li></ul></blockquote><h2 id="é¡è‰²"><a class="header-anchor" href="#é¡è‰²"></a>é¡è‰²</h2><p><code>&lt;color&gt;</code> å¯ç”¨é—œéµå­—æˆ–æ•¸å­— RGB è¦ç¯„çš„æ•¸å€¼ã€‚</p><h3 id="åŸºæœ¬é¡è‰²é—œéµå­—"><a class="header-anchor" href="#åŸºæœ¬é¡è‰²é—œéµå­—"></a>åŸºæœ¬é¡è‰²é—œéµå­—</h3><p>åœ¨ CSS 2.2 ä¸­å®šç¾©äº† 13 ç¨®é¡è‰²é—œéµå­—ï¼š<code>aqua</code>ã€<code>black</code>ã€<code>blue</code>ã€<code>fuchsia</code>ã€<code>gray</code>ã€<code>green</code>ã€<code>lime</code>ã€<code>maroon</code>ã€<code>navy</code>ã€<code>olive</code>ã€<code>orange</code>ã€<code>purple</code>ã€<code>red</code>ã€<code>silver</code>ã€<code>teal</code>ã€<code>white</code> å’Œ <code>yellow</code>ã€‚</p><p>ä¸‹é¢æ˜¯é€™ 17 ç¨®é¡è‰²å„åˆ¥å°æ‡‰çš„è‰²ç¢¼ï¼š</p><p><img src="../images/css-attribute-value/color-keywords.png" alt=""></p><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">color</span>: black; <span class="hljs-attribute">background</span>: white; &#125;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: maroon; &#125;<br><span class="hljs-selector-tag">h2</span> &#123; <span class="hljs-attribute">color</span>: olive; &#125;<br></code></pre></td></tr></table></figure><h3 id="Numerical-color-values"><a class="header-anchor" href="#Numerical-color-values"></a>Numerical color values</h3><h4 id="RGB-color-values"><a class="header-anchor" href="#RGB-color-values"></a>RGB color values</h4><p>RGB åˆ†åˆ¥ä»£è¡¨ç´…è‰²ã€ç¶ è‰²å’Œè—è‰²ã€‚ä¸‹é¢æ˜¯ RGB é¡è‰²å€¼çš„æ ¼å¼ï¼š</p><ul><li>åå…­é€²ä½è¡¨ç¤ºæ³•<ul><li>æœ‰å…©ç¨®æ ¼å¼ï¼š<ul><li>ä¸‰å€‹å­—å…ƒï¼š<code>#rgb</code>ï¼Œä¾‹å¦‚ï¼š<code>#f00</code></li><li>å…­å€‹å­—å…ƒï¼š<code>#rrggbb</code>ï¼Œä¾‹å¦‚ï¼š<code>#ff0000</code></li></ul></li><li><code>#ffbb00</code> å¯ç°¡å¯«ç‚º <code>#fb0</code>ï¼Œå…©è€…ä»£è¡¨ç›¸åŒçš„é¡è‰²</li><li>ä¸‰ä½ RGB è¡¨ç¤ºæ³• ( <code>#rgb</code> ) æ˜¯é€šéè¤‡è£½æ•¸å­—ï¼Œè€Œä¸æ˜¯é€šéåŠ é›¶è½‰æ›ç‚ºå…­ä½å½¢å¼ ( <code>#rrggbb</code> )</li></ul></li><li><code>rgb(r,g,b)</code>ï¼š<ul><li><code>r</code>ã€<code>g</code> å’Œ <code>b</code> ç”¨é€—è™Ÿ ( <code>,</code> ) åˆ†éš”ï¼Œä¸‰å€‹æ•¸å€¼å¯ä»¥éƒ½æ˜¯æ•´æ•¸å€¼æˆ–ç™¾åˆ†æ¯”å€¼</li><li>æ•´æ•¸å€¼çš„ <code>255</code> ç­‰æ–¼ç™¾åˆ†æ¯”å€¼çš„ <code>100%</code></li><li>åå…­é€²ä½è¡¨ç¤ºæ³•ä¸­çš„ <code>F</code> æˆ– <code>FF</code>ï¼š<ul><li><code>rgb(255, 255, 255)</code> = <code>rgb(100%, 100%, 100%)</code> = <code>#FFF</code></li></ul></li><li>ä¾‹å¦‚ï¼š<ul><li><code>rgb(255, 0, 0)</code></li><li><code>rgb(100%, 0%, 0%)</code></li></ul></li></ul></li></ul><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#f00</span>; &#125;              <span class="hljs-comment">/* #rgb */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff0000</span>; &#125;           <span class="hljs-comment">/* #rrggbb */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); &#125;<br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">100%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span>); &#125;<br></code></pre></td></tr></table></figure><h4 id="RGBA-color-values"><a class="header-anchor" href="#RGBA-color-values"></a>RGBA color values</h4><p>è€Œ RGBA é¡è‰²å€¼çš„æ ¼å¼åªæ˜¯åœ¨ RGB é¡è‰²å€¼çš„æ ¼å¼æœ€å¾Œå†åŠ ä¸Šä¸€å€‹ â€œalphaâ€ å€¼ã€‚</p><p>â€œalphaâ€ å€¼ï¼š</p><ul><li>å¯æŒ‡å®šé¡è‰²çš„é€æ˜åº¦</li><li>å€¼çš„ç¯„åœç‚º <code>0.0</code> è‡³ <code>1.0</code><ul><li><code>0.0</code>ï¼šå®Œå…¨é€æ˜</li><li><code>1.0</code>ï¼šä¸é€æ˜</li></ul></li></ul><div class="info"><p>è¨»ï¼šä½¿ç”¨åå…­é€²ä½è¡¨ç¤ºæ³• (ä¹Ÿå°±æ˜¯ <code>#rgb</code> æˆ– <code>#rrggbb</code> ) ç„¡æ³•æŒ‡å®šé¡è‰²çš„é€æ˜åº¦ã€‚</p></div><p>ç•¶ â€œalphaâ€ å€¼ç‚º <code>1.0</code> æ™‚ï¼Œä»£è¡¨ä¸é€æ˜ï¼Œå› æ­¤ä¸‹é¢å››å€‹éƒ½ç‚ºç›¸åŒé¡è‰²ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); &#125;        <span class="hljs-comment">/* ç´…è‰² */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>); &#125;    <span class="hljs-comment">/* ç´…è‰² */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">100%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span>); &#125;     <span class="hljs-comment">/* ç´…è‰² */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">100%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">1</span>); &#125; <span class="hljs-comment">/* ç´…è‰² */</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>); &#125;      <br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">100%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span>, <span class="hljs-number">0.5</span>); &#125;<br></code></pre></td></tr></table></figure><h4 id="HSL-color-values"><a class="header-anchor" href="#HSL-color-values"></a>HSL color values</h4><p>HSL æ˜¯ hue-saturation-lightness çš„ç¸®å¯«ï¼Œåˆ†åˆ¥ä»£è¡¨è‰²ç›¸ã€é£½å’Œåº¦å’Œäº®åº¦ã€‚</p><p>æœ‰ RGB å°±å¤ ç”¨äº†ï¼Œç‚ºä½•é‚„éœ€è¦æœ‰ HSLï¼Ÿé€™æ˜¯å› ç‚º HSL ä½¿ç”¨èµ·ä¾†æœƒæ›´åŠ ç›´è¦ºï¼Œç”¨è‰²ç›¸ã€é£½å’Œåº¦å’Œäº®åº¦å¯ä»¥æ›´ç›´è§€çš„æŒ‡å®šé¡è‰²ï¼ŒRGB é‚„éœ€è¦æ€è€ƒå…‰çš„ä¸‰åŸè‰²ï¼šç´…è‰²ã€ç¶ è‰²ã€è—è‰²ï¼Œè¦åˆ†åˆ¥è¨­å®šå¤šå°‘æ‰æœƒè®ŠæˆæŒ‡å®šé¡è‰²ã€‚</p><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">0</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>) &#125;   <span class="hljs-comment">/* red */</span><br>* &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>) &#125; <span class="hljs-comment">/* lime */</span><br>* &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">25%</span>) &#125; <span class="hljs-comment">/* dark green */</span><br>* &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">75%</span>) &#125; <span class="hljs-comment">/* light green */</span><br>* &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">75%</span>, <span class="hljs-number">75%</span>) &#125;  <span class="hljs-comment">/* pastel green */</span><br></code></pre></td></tr></table></figure><h4 id="HSLA-color-values"><a class="header-anchor" href="#HSLA-color-values"></a>HSLA color values</h4><p>è€Œ HSLA é¡è‰²å€¼çš„æ ¼å¼åªæ˜¯åœ¨ HSL é¡è‰²å€¼çš„æ ¼å¼æœ€å¾Œå†åŠ ä¸Šä¸€å€‹ â€œalphaâ€ å€¼ã€‚</p><p>â€œalphaâ€ å€¼ï¼š</p><ul><li>å¯æŒ‡å®šé¡è‰²çš„é€æ˜åº¦</li><li>å€¼çš„ç¯„åœç‚º <code>0.0</code> è‡³ <code>1.0</code><ul><li><code>0.0</code>ï¼šå®Œå…¨é€æ˜</li><li><code>1.0</code>ï¼šä¸é€æ˜</li></ul></li></ul><p>ç•¶ â€œalphaâ€ å€¼ç‚º <code>1.0</code> æ™‚ï¼Œä»£è¡¨ä¸é€æ˜ï¼Œå› æ­¤ä¸‹é¢å…©å€‹éƒ½ç‚ºç›¸åŒé¡è‰²ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>); &#125;      <span class="hljs-comment">/* ç´”ç¶ è‰²  */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsla</span>(<span class="hljs-number">120</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>, <span class="hljs-number">1</span>); &#125;  <span class="hljs-comment">/* ç´”ç¶ è‰²  */</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsla</span>(<span class="hljs-number">30</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>, <span class="hljs-number">0.1</span>); &#125;  <span class="hljs-comment">/* åŠé€æ˜çš„ç´”è—è‰²  */</span><br><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">hsla</span>(<span class="hljs-number">240</span>, <span class="hljs-number">100%</span>, <span class="hljs-number">50%</span>, <span class="hljs-number">0.5</span>); &#125;  <span class="hljs-comment">/* å¾ˆé€æ˜çš„ç´”æ©˜è‰²  */</span><br></code></pre></td></tr></table></figure><h4 id="transparent-color-keyword"><a class="header-anchor" href="#transparent-color-keyword"></a><code>transparent</code> color keyword</h4><ul><li>é¡§åæ€ç¾©å°±æ˜¯é€æ˜è‰²</li><li><a href="https://www.w3.org/TR/css-backgrounds-3/#the-background-color" target="_blank" rel="noopener"><code>background-color</code></a> å±¬æ€§çš„ initial value å°±æ˜¯ <code>transparent</code></li></ul><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">em</span> &#123; <span class="hljs-attribute">background-color</span>: transparent; &#125;<br></code></pre></td></tr></table></figure><h3 id="currentColor-color-keyword"><a class="header-anchor" href="#currentColor-color-keyword"></a><code>currentColor</code> color keyword</h3><p>CSS1 å’Œ CSS2 å°‡ <a href="https://www.w3.org/TR/CSS1/#border-color" target="_blank" rel="noopener"><code>border-color</code></a> å±¬æ€§çš„ initial value å®šç¾©ç‚º <a href="https://www.w3.org/TR/css-color-3/#color0" target="_blank" rel="noopener"><code>color</code></a> å±¬æ€§çš„å€¼ï¼Œä½†æœªå®šç¾©ç›¸æ‡‰çš„é—œéµå­—ã€‚SVG æ„è­˜åˆ°äº†é€™ç¨®éºæ¼ï¼Œå› æ­¤ <a href="https://www.w3.org/TR/SVG10/color.html#ColorProperty" target="_blank" rel="noopener">SVG 1.0</a> ç‚º <code>fill</code>ã€<code>stroke</code>ã€<code>stop-color</code>ã€<code>flood-color</code> å’Œ <code>lighting-color</code> å±¬æ€§å¼•å…¥äº† <code>currentColor</code> å€¼ã€‚</p><p>åœ¨ CSS3 æ™‚ï¼Œæ“´å……äº†é¡è‰²å€¼ï¼Œæ–°å¢ <code>currentColor</code> é€™å€‹é—œéµå­—ï¼Œä»¥å…è¨±å…¶èˆ‡æ¥å—é¡è‰²å€¼çš„æ‰€æœ‰å±¬æ€§ä¸€èµ·ä½¿ç”¨ï¼Œé€™æ¨£å°±ç°¡åŒ–äº† CSS3 ä¸­çš„é€™äº›å±¬æ€§çš„å®šç¾©ã€‚</p><p><code>currentColor</code> é—œéµå­—ï¼š</p><ul><li><code>color</code> å±¬æ€§çš„å€¼</li><li><code>currentColor</code> é—œéµå­—çš„ used value æ˜¯ <code>color</code> å±¬æ€§çš„ computed value</li><li>å¦‚æœåœ¨ <code>color</code> å±¬æ€§æœ¬èº«ä¸Šè¨­å®šäº† <code>currentColor</code> é—œéµå­—ï¼Œå‰‡å°‡å…¶è¦–ç‚º <code>color: inherit</code></li></ul><p>ä¾‹å¦‚ï¼š<code>border-color</code> å±¬æ€§ä½¿ç”¨äº† <code>currentColor</code> é—œéµå­—ï¼Œæ­¤é—œéµå­—çš„ used value å°±æ˜¯ <code>color</code> å±¬æ€§çš„ computed valueï¼Œæ‰€ä»¥å°±ç­‰åŒæ–¼æ˜¯å°‡ <code>border-color</code> è¨­ç‚º <code>blue</code> (ä¹Ÿå°±æ˜¯ <code>color</code> å±¬æ€§çš„é¡è‰²)ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: lightblue;<br>  <span class="hljs-attribute">border-width</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border-style</span>: solid;<br>  <span class="hljs-attribute">border-color</span>: currentColor;<br>  <span class="hljs-attribute">color</span>: blue;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³æ›´å¤šé¡è‰²å€¼çš„ç›¸é—œå…§å®¹ï¼Œè©³æƒ…å¯åƒè€ƒï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/syndata.html#color-units" target="_blank" rel="noopener">CSS 2.2 - 4.3.6. Colors</a></li><li><a href="https://www.w3.org/TR/css-color-3/" target="_blank" rel="noopener">CSS Color Module Level 3</a>ã€‚</li></ul></blockquote><h2 id="å­—ä¸²"><a class="header-anchor" href="#å­—ä¸²"></a>å­—ä¸²</h2><p>å­—ä¸²å¯ç”¨é›™å¼•è™Ÿ ( <code>&quot;</code> ) pair æˆ–å–®å¼•è™Ÿ ( <code>'</code> ) pair åŒ…èµ·ä¾†ã€‚</p><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'hello '</span>; &#125;<br><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::after</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">"!"</span>; &#125;<br></code></pre></td></tr></table></figure><h3 id="å­—ä¸²ä¸­çš„å¼•è™Ÿå­—å…ƒè¦ä½¿ç”¨è·³è„«å­—å…ƒ"><a class="header-anchor" href="#å­—ä¸²ä¸­çš„å¼•è™Ÿå­—å…ƒè¦ä½¿ç”¨è·³è„«å­—å…ƒ"></a>å­—ä¸²ä¸­çš„å¼•è™Ÿå­—å…ƒè¦ä½¿ç”¨è·³è„«å­—å…ƒ</h3><p>é›™å¼•è™Ÿ pair è£¡é¢ä¸èƒ½ç›´æ¥ä½¿ç”¨é›™å¼•è™Ÿï¼ŒåŒç†ï¼Œå–®å¼•è™Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé™¤éåœ¨å¼•è™Ÿ pair ä¹‹å‰åŠ ä¸Šè·³è„«å­—å…ƒã€‚</p><ul><li>é›™å¼•è™Ÿï¼šä½¿ç”¨ <code>\&quot;</code> æˆ– <code>\22</code></li><li>å–®å¼•è™Ÿï¼šä½¿ç”¨ <code>\'</code> æˆ– <code>\27</code></li></ul><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* é›™å¼•è™Ÿ */</span><br><span class="hljs-selector-class">.test1</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">"this is a \"string\""</span>; &#125;<br><span class="hljs-selector-class">.test2</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'this is a \22string\22'</span>; &#125;<br><br><span class="hljs-comment">/* å–®å¼•è™Ÿ */</span><br><span class="hljs-selector-class">.test3</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'this is a \'string\''</span>; &#125;<br><span class="hljs-selector-class">.test4</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'this is a \27string\27'</span>; &#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³å¦å¤–åŠ ä¸Šè·³è„«å­—å…ƒï¼Œå¯ä»¥åœ¨æ”¹åœ¨é›™å¼•è™Ÿå­—ä¸²ä¸­ä½¿ç”¨å–®å¼•è™Ÿï¼Œæˆ–æ˜¯åœ¨å–®å¼•è™Ÿå­—ä¸²ä¸­ä½¿ç”¨é›™å¼•è™Ÿï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.test5</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">"this is a 'string'"</span>; &#125;<br><span class="hljs-selector-class">.test6</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'this is a "string"'</span>; &#125;<br></code></pre></td></tr></table></figure><h3 id="æ›è¡Œå­—å…ƒ-newline"><a class="header-anchor" href="#æ›è¡Œå­—å…ƒ-newline"></a>æ›è¡Œå­—å…ƒ (newline)</h3><p>å­—ä¸²ä¸èƒ½ç›´æ¥åŒ…å«æ›è¡Œå­—å…ƒ (newline)ã€‚è¦åœ¨å­—ä¸²ä¸­åŒ…å«æ›è¡Œå­—å…ƒï¼Œè«‹ä½¿ç”¨è·³è„«å­—å…ƒä¾†è¡¨ç¤º ISO-10646 ( <code>U+000A</code> ) ä¸­çš„æ›è¡Œå­—å…ƒï¼Œä¾‹å¦‚ï¼š<code>\A</code> æˆ– <code>\00000a</code> é€™äº›å­—å…ƒéƒ½ä»£è¡¨ CSS ä¸­çš„æ›è¡Œå­—å…ƒã€‚</p><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>  <span class="hljs-attribute">white-space</span>: pre;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">"hello\A"</span><br>&#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/BaazWQz" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å¦‚ç¯„ä¾‹ï¼Œ<code>hello</code> å­—ä¸²ä¹‹å¾Œæœƒæ›è¡Œå°±æ˜¯å› ç‚ºä½¿ç”¨äº† <code>\A</code> é€™å€‹æ›è¡Œå­—å…ƒï¼š</p><p><img src="../images/css-attribute-value/2019-10-16-17-00-44.png" alt=""></p><h3 id="å°‡å­—ä¸²åˆ†æˆå¤šè¡Œ"><a class="header-anchor" href="#å°‡å­—ä¸²åˆ†æˆå¤šè¡Œ"></a>å°‡å­—ä¸²åˆ†æˆå¤šè¡Œ</h3><p>å¦‚æœè¦å°‡å­—ä¸²åˆ†æˆå¤šè¡Œï¼Œæ›è¡Œå­—å…ƒæœ¬èº«å¿…é ˆä½¿ç”¨åæ–œç·š ( <code>\</code> ) ä¾†é€²è¡Œè·³è„« (escaped)ã€‚</p><p>ä½¿ç”¨ç¯„ä¾‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[title=<span class="hljs-string">"a not s\</span></span><br>o very long title"] &#123; ... &#125;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">a[title="a not so very long title"] &#123; ... &#125;<br></code></pre></td></tr></table></figure><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/syndata.html" target="_blank" rel="noopener">CSS 2.2 - 4. Syntax and basic data types</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%AE%9E%E6%95%B0" target="_blank" rel="noopener">å¯¦æ•¸ - Wikipedia</a></li><li><a href="https://www.w3.org/TR/css-inline-3/" target="_blank" rel="noopener">CSS Inline Layout Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-values-3/" target="_blank" rel="noopener">CSS Values and Units Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-values-4/" target="_blank" rel="noopener">CSS Values and Units Module Level 4</a></li><li><a href="https://www.w3.org/TR/css-color-3/" target="_blank" rel="noopener">CSS Color Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-backgrounds-3/" target="_blank" rel="noopener">CSS Backgrounds and Borders Module Level 3</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10218632" target="_blank" rel="noopener">é‰„äºº28è™ŸFXã€€é‰„äºº6è™Ÿã€Œå­—ç´šç¾Šã€font-size - é‰„äºº28è™ŸFXç³»åˆ— - iT é‚¦å¹«å¿™</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Pseudo-element (å½å…ƒç´ )</title>
      <link href="/article/css-selector-pseudo-element.html"/>
      <url>/article/css-selector-pseudo-element.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>Selector (é¸æ“‡å™¨) å¯ç”¨ä¾†é¸æ“‡ HTML å’Œ XML æ–‡ä»¶ä¸­çš„ç¯€é»ï¼Œä¸¦å°‡æ¨£å¼å±¬æ€§ç¶å®šåˆ°æ–‡ä»¶ (HTML å’Œ XML) ä¸­çš„å…ƒç´ ä¸Šã€‚ç•¶é¸æ“‡å™¨èˆ‡æŸå…ƒç´  match çš„æ™‚å€™ï¼Œå°±å¯ä»¥å°é¸åˆ°çš„å…ƒç´ é€²è¡Œ CSS æ¨£å¼è¨­å®šã€‚æœ¬ç¯‡æœƒä»‹ç´¹ pseudo-element (å½å…ƒç´ )ï¼ŒåŒ…æ‹¬ <code>::before</code> å’Œ <code>::after</code>ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10218712" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-element (å½å…ƒç´ )</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Pseudo-elements"><a class="header-anchor" href="#Pseudo-elements"></a>Pseudo-elements</h2><p>pseudo-element ä»£è¡¨ä¸ç›´æ¥å­˜åœ¨æ–¼ document tree ä¸­çš„å…ƒç´ ã€‚</p><p>document language (æ–‡ä»¶èªè¨€) ä¸æä¾›å­˜å–å…ƒç´ å…§å®¹çš„ç¬¬ä¸€å€‹å­—æ¯æˆ–ç¬¬ä¸€è¡Œçš„æ©Ÿåˆ¶ï¼Œä½†æ˜¯å¯ä»¥ç”¨ <code>::first-letter</code> å’Œ <code>::first-line</code> é€™å…©å€‹ pseudo-element é¸åˆ°ï¼Œé€™æ¨£å°±å¯ä»¥å°é€™äº›å…ƒç´ è¨­å®šæ¨£å¼ã€‚</p><p>å¦å¤–ï¼Œpseudo-element é‚„å¯ä»¥è¡¨ç¤ºåŸå§‹æ–‡ä»¶ (source document) ä¸­æ ¹æœ¬ä¸å­˜åœ¨çš„å…§å®¹ï¼Œä¾‹å¦‚ <code>::before</code> å’Œ <code>::after</code> é€™å…©å€‹ pseudo-element å¯ä»¥åœ¨ä»»ä½•å…ƒç´ çš„å…§å®¹ä¹‹å‰æˆ–ä¹‹å¾Œæ’å…¥å…¶ä»–å…§å®¹ã€‚</p><p>pseudo-class å’Œ pseudo-element éƒ½ä¸æœƒå‡ºç¾åœ¨ document source æˆ– document tree ä¸­ï¼Œæˆ–æ˜¯ä¸æœƒå°å…¶é€²è¡Œä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œpseudo-class å’Œ pseudo-element éƒ½ä¸æœƒå½±éŸ¿åˆ° <a href="https://titangene.github.io/article/css-selector-pseudo-class-2.html">structural pseudo-class</a> æˆ–èˆ‡å®ƒå€‘çš„ <a href="https://www.w3.org/TR/selectors-4/#originating-element" target="_blank" rel="noopener">originating (åŸå§‹) å…ƒç´ </a> æˆ–å…¶ tree æœ‰é—œçš„å…¶ä»– selector çš„è§£è­¯ (interpretation)ã€‚</p><blockquote><p>Structural pseudo-class è©³æƒ…å¯åƒè€ƒæˆ‘å‰å¹¾å¤©å¯«çš„ã€Œ<a href="https://titangene.github.io/article/css-selector-pseudo-class-2.html">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (2)</a>ã€ã€‚</p></blockquote><div class="info"><h3 id="originating-åŸå§‹-å…ƒç´ æ˜¯ä»€éº¼ï¼Ÿ"><a class="header-anchor" href="#originating-åŸå§‹-å…ƒç´ æ˜¯ä»€éº¼ï¼Ÿ"></a>originating (åŸå§‹) å…ƒç´ æ˜¯ä»€éº¼ï¼Ÿ</h3><p>pseudo-element ç¶å®šåˆ°é é¢ä¸Šçš„æŸå€‹å…ƒç´ ï¼Œè€Œæ­¤å…ƒç´ å°±ç¨±ç‚º originating å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">'Hi '</span>; &#125;<br></code></pre></td></tr></table></figure><p>åœ¨ selector <code>div a::before</code> ä¸­ï¼Œèˆ‡ selector match çš„ <code>a</code> å…ƒç´ å°±æ˜¯ originating å…ƒç´ ã€‚</p></div><p>å¦‚æœæƒ³æ›´äº†è§£ pseudo-elementï¼Œå¯ä»¥çœ‹å®ƒåœ¨ä»¥ä¸‹é€™äº› CSS Spec çš„å®šç¾©ï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS2/selector.html" target="_blank" rel="noopener">CSS 2.1</a></li><li><a href="https://www.w3.org/TR/selectors-3/#pseudo-elements" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/css-pseudo-4/" target="_blank" rel="noopener">CSS Pseudo-Elements Module Level 4</a></li></ul><h3 id="Generated-Content-Pseudo-elements-before-and-after"><a class="header-anchor" href="#Generated-Content-Pseudo-elements-before-and-after"></a>Generated Content Pseudo-elements: <code>::before</code> and <code>::after</code></h3><ul><li><code>::before</code>ï¼šåœ¨ originating å…ƒç´ çš„å…§å®¹ä¹‹å‰å»ºç«‹çš„ child pseudo-element</li><li><code>::after</code>ï¼šåœ¨ originating å…ƒç´ çš„å…§å®¹ä¹‹å¾Œå»ºç«‹çš„ child pseudo-element</li></ul><p><code>::before</code> å’Œ <code>::after</code> çš„ CSS <a href="https://www.w3.org/TR/css-content-3/#propdef-content" target="_blank" rel="noopener"><code>content</code></a> å±¬æ€§çš„<a href="https://www.w3.org/TR/css-cascade/#initial-values" target="_blank" rel="noopener">åˆå§‹å€¼</a>ç‚º <a href="https://www.w3.org/TR/css-content-3/#valdef-content-normal" target="_blank" rel="noopener"><code>normal</code></a>ï¼Œ<a href="https://www.w3.org/TR/css-cascade/#computed" target="_blank" rel="noopener">è¨ˆç®—å€¼</a>ç‚º <a href="https://www.w3.org/TR/css-content-3/#valdef-content-none" target="_blank" rel="noopener"><code>none</code></a>ã€‚</p><p>ç•¶ <code>::before</code> å’Œ <code>::after</code> çš„è¨ˆç®— <a href="https://www.w3.org/TR/css-content-3/#propdef-content" target="_blank" rel="noopener"><code>content</code></a> å€¼ä¸ç‚º <a href="https://www.w3.org/TR/css-content-3/#valdef-content-none" target="_blank" rel="noopener"><code>none</code></a> æ™‚ï¼Œé€™äº› pseudo-element å°±æœƒç”¢ç”Ÿ boxï¼Œå°±å¥½åƒå®ƒå€‘æ˜¯å…¶ <a href="https://www.w3.org/TR/selectors-4/#originating-element" target="_blank" rel="noopener">originating (åŸå§‹) å…ƒç´ </a>çš„ç›´æ¥å­å…ƒç´ ä¸€æ¨£ï¼Œä¸¦ä¸”å¯ä»¥åƒåœ¨ document tree ä¸­ä»»ä½• normal document-sourced (åŸºæ–¼æ–‡ä»¶) çš„å…ƒç´ ä¸€æ¨£é€²è¡Œæ¨£å¼è¨­å®š</p><p>ä¾‹å¦‚ï¼š</p><ul><li>åœ¨ class ç‚º <code>note</code> çš„ <code>p</code> å…ƒç´ çš„å…§å®¹ä¹‹å‰æ’å…¥å­—ä¸² &quot;Note: &quot;</li><li>åœ¨ class ç‚º <code>note</code> çš„ <code>p</code> å…ƒç´ çš„å…§å®¹ä¹‹å¾Œæ’å…¥å­—ä¸² â€œ!â€</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"note"</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.note</span><span class="hljs-selector-pseudo">::before</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">"Note: "</span>; &#125;<br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.note</span><span class="hljs-selector-pseudo">::after</span> &#123; <span class="hljs-attribute">content</span>: <span class="hljs-string">"!"</span>; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/QWLzNjE" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><code>::before</code> å’Œ <code>::after</code> çš„ <code>display</code> çš„åˆå§‹å€¼ç‚º <code>inline</code>ï¼Œæ‰€ä»¥æœƒç”Ÿæˆ inline boxã€‚èˆ‡ <code>p</code> å…ƒç´ çš„å…¶ä»– inline children ä¸€æ¨£ï¼Œå®ƒæœƒåƒèˆ‡ <code>p</code> å…ƒç´ çš„ <a href="https://www.w3.org/TR/CSS22/visuren.html#inline-formatting" target="_blank" rel="noopener">IFC (inline formatting context)</a>ï¼Œæœ‰å¯èƒ½èˆ‡å…¶ä»–å…§å®¹å…±äº«ä¸€è¡Œã€‚</p><p>å°±å¦‚ä¸‹é¢ç¯„ä¾‹é‚£æ¨£ï¼Œå› ç‚º <code>::before</code> å’Œ <code>::after</code> éƒ½æ˜¯ <code>display: inline</code>ï¼Œä¸¦ä¸”åœ¨ <code>p</code> å…ƒç´ çš„å…§å®¹ <code>test</code> ä¹‹å‰åŠ ä¸Š <code>::before</code> çš„å…§å®¹ <code>&quot;Note: &quot;</code>ï¼Œä»¥åŠåœ¨ <code>test</code> ä¹‹å¾ŒåŠ ä¸Š <code>::after</code> çš„å…§å®¹ <code>&quot;ï¼&quot;</code>ï¼Œæ‰€ä»¥åœ¨ç•«é¢ä¸Šé¡¯ç¤ºçš„çµæœå°±è®Šæˆ <code>Note: test!</code>ã€‚</p><p><img src="../images/css-selector-pseudo-element/2019-09-21-19-06-11.png" alt=""></p><p><img src="../images/css-selector-pseudo-element/2019-09-21-19-07-00.png" alt=""></p><iframe height="202" style="width:100%" scrolling="no" title="Generated Content Pseudo-elements: `::before` and `::after`" src="https://codepen.io/titangene/embed/QWLzNjE?height=202&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/QWLzNjE" target="_blank" rel="noopener">Generated Content Pseudo-elements: `::before` and `::after`</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h4 id="content-å­—ä¸²æ›è¡Œ"><a class="header-anchor" href="#content-å­—ä¸²æ›è¡Œ"></a><code>content</code> å­—ä¸²æ›è¡Œ</h4><p>å¦‚æœæƒ³åœ¨ <code>content</code> å±¬æ€§å…§å°‡å­—ä¸²æ›è¡Œè¦æ€éº¼åšï¼Ÿåªè¦åœ¨å­—ä¸²ä¸­åŠ å…¥ <code>\A</code> é€™å€‹ escape sequence (è½‰ç¾©åºåˆ—)ï¼Œå®ƒå°±æœƒåœ¨ generated content ä¸­åŒ…å« newlineï¼Œè€Œé€™å€‹æ’å…¥çš„ line break ä¹Ÿæœƒå—åˆ° <a href="https://www.w3.org/TR/CSS22/text.html#propdef-white-space" target="_blank" rel="noopener"><code>white-space</code></a> å±¬æ€§çš„å½±éŸ¿ã€‚æœ‰é—œ <code>\A</code> escape sequence çš„è©³æƒ…å¯åƒ CSS 2 çš„ <a href="https://www.w3.org/TR/CSS22/syndata.html#strings" target="_blank" rel="noopener">å­—ä¸²</a> å’Œ <a href="https://www.w3.org/TR/CSS2/syndata.html#escaped-characters" target="_blank" rel="noopener">å­—å…ƒèˆ‡å¤§å°å¯«</a> éƒ¨ä»½ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h2</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">white-space</span>: pre;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">"Hello\A Titan"</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æœ€å¾Œ"><a class="header-anchor" href="#æœ€å¾Œ"></a>æœ€å¾Œ</h2><p>ä»Šå¤©ä»‹ç´¹ä¸€äº› <code>::before</code> å’Œ <code>::after</code> é€™å…©å€‹ pseudo-elementï¼Œæ¥ä¸‹ä¾†å¹¾å¤©æœƒæ¥çºŒä»‹ç´¹å…¶ä»– selectorã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 Specification - Selectors</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li><li><a href="https://www.w3.org/TR/css-pseudo-4/" target="_blank" rel="noopener">CSS Pseudo-Elements Module Level 4</a></li><li><a href="https://www.w3.org/TR/css-content-3/#propdef-content" target="_blank" rel="noopener">CSS Generated Content Module Level 3</a></li><li><a href="https://www.w3.org/TR/css-cascade-4/" target="_blank" rel="noopener">CSS Cascading and Inheritance Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (2)</title>
      <link href="/article/css-selector-pseudo-class-2.html"/>
      <url>/article/css-selector-pseudo-class-2.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>Selector (é¸æ“‡å™¨) å¯ç”¨ä¾†é¸æ“‡ HTML å’Œ XML æ–‡ä»¶ä¸­çš„ç¯€é»ï¼Œä¸¦å°‡æ¨£å¼å±¬æ€§ç¶å®šåˆ°æ–‡ä»¶ (HTML å’Œ XML) ä¸­çš„å…ƒç´ ä¸Šã€‚ç•¶é¸æ“‡å™¨èˆ‡æŸå…ƒç´  match çš„æ™‚å€™ï¼Œå°±å¯ä»¥å°é¸åˆ°çš„å…ƒç´ é€²è¡Œ CSS æ¨£å¼è¨­å®šã€‚æœ¬ç¯‡æœƒä»‹ç´¹ structural pseudo-class (å½é¡)ï¼ŒåŒ…æ‹¬ <code>:root</code>ã€<code>nth-child</code>ã€<code>nth-of-type</code> â€¦ç­‰ selectorã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10218197" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (2)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>ä¹‹å‰æœ‰æåˆ°ä»¥ä¸‹é€™äº›éƒ½æ˜¯ simple selectorï¼š</p><ul><li>type selector</li><li>universal selector</li><li>attribute selector</li><li>class selector</li><li>ID selector</li><li>pseudo-class</li></ul><blockquote><p>æœ¬ç¯‡æœƒä»‹ç´¹ pseudo-classï¼Œå¦‚æœæƒ³äº†è§£å…¶ä»– simple selector å¯åƒé–±ä¹‹å‰ä»‹ç´¹çš„ <a href="https://ithelp.ithome.com.tw/articles/10216566" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</a>ã€‚</p></blockquote><p>å¦‚ä¹‹å‰æ‰€èªªï¼Œpseudo-class æ˜¯ä»¥ <code>:</code> ç‚ºé–‹é ­ï¼Œå¾Œé¢æ¥è‘— pseudo-class çš„åç¨±ï¼Œæœ‰äº›æœƒåœ¨å¾Œé¢åŠ ä¸Šæ‹¬è™Ÿ <code>()</code>ï¼Œä¸¦åœ¨æ‹¬è™Ÿä¹‹é–“åŠ ä¸Šå€¼ã€‚ä¾‹å¦‚ï¼š<code>:nth-child(2)</code>ã€‚</p><div class="warning"><p>æ³¨æ„ï¼š</p><ul><li>pseudo-class å’Œ pseudo-element ä¸ç›¸åŒ</li><li>pseudo-class æ˜¯ä»¥ <code>:</code> ç‚ºé–‹é ­</li><li>pseudo-element æ˜¯ä»¥ <code>::</code> ç‚ºé–‹é ­ï¼Œä½†ä¹Ÿå¯ä»¥ä»¥ <code>:</code> ç‚ºé–‹é ­ï¼Œå› ç‚ºåœ¨èˆŠç‰ˆçš„ W3C Spec ä¸­æ²’æœ‰å°‡ pseudo-class å’Œ pseudo-element å€åˆ†æˆ <code>:</code> å’Œ <code>::</code>ã€‚å¦‚æœä½ å¯« pseudo-element æ˜¯ç”¨ <code>:</code>ï¼Œå¤§éƒ¨ä»½ç€è¦½å™¨ä¹Ÿé‚„æ˜¯æœƒæ”¯æ´é€™ç¨®èªæ³•ã€‚</li></ul></div><h2 id="Structural-pseudo-classes"><a class="header-anchor" href="#Structural-pseudo-classes"></a>Structural pseudo-classes</h2><p>ç•¶ä½¿ç”¨ structural pseudo-class æ™‚ï¼Œå®ƒæœƒè¨ˆç®—å„ sibling å…ƒç´ çš„ä½ç½®ï¼š</p><ul><li>ä¸è¨ˆç®— standalone (ç¨ç«‹) text å’Œå…¶ä»–éå…ƒç´ ç¯€é»</li><li>index ç·¨è™Ÿå¾ 1 é–‹å§‹</li><li>åªé©ç”¨æ–¼ document tree ä¸­çš„å…ƒç´ ï¼Œä¸æœƒ match åˆ° pseudo-element</li></ul><h3 id="root-pseudo-class"><a class="header-anchor" href="#root-pseudo-class"></a><code>:root</code> pseudo-class</h3><ul><li><code>:root</code> pseudo-class ä»£è¡¨æ–‡ä»¶çš„ root å…ƒç´ </li><li>åœ¨ DOM æ–‡ä»¶ä¸­ï¼Œ<code>:root</code> pseudo-class èˆ‡ <a href="https://dom.spec.whatwg.org/#document" target="_blank" rel="noopener"><code>Document</code></a> ç‰©ä»¶çš„ root å…ƒç´ æœƒ match</li><li>åœ¨ HTML ä¸­ï¼Œroot å…ƒç´ å°±æ˜¯ <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" target="_blank" rel="noopener"><code>&lt;html&gt;</code></a> å…ƒç´ </li></ul><h3 id="Child-indexed-Pseudo-classes"><a class="header-anchor" href="#Child-indexed-Pseudo-classes"></a>Child-indexed Pseudo-classes</h3><p>æ­¤ pseudo-class æœƒæ ¹æ“š <a href="https://dom.spec.whatwg.org/#concept-tree-inclusive-sibling" target="_blank" rel="noopener">inclusive sibling</a> ä¹‹é–“çš„ index ä¾†é¸æ“‡å…ƒç´ ã€‚</p><p>é¸æ“‡ index ç‚ºå¤šå°‘çš„ sibling (å…„å¼Ÿï¼ŒåŒå±¤) å…ƒç´ ï¼Œå…ƒç´ çš„ç¬¬ä¸€å€‹å­å…ƒç´ çš„ index æ˜¯ 1ã€‚</p><p>åªæœ‰é–‹é ­ç‚º <code>nth</code> çš„ Child-indexed Pseudo-classes å’Œ Typed Child-indexed Pseudo-classes éƒ½å¯ä»¥åœ¨ <code>()</code> æ‹¬è™Ÿè£¡é¢å¯ä»¥ä½¿ç”¨ä¸‹é¢é€™å¹¾ç¨®å€¼ï¼š</p><ul><li><code>an + b</code>ï¼š<ul><li><code>n</code> å¯ä»¥æ˜¯ä»»ä½•â€‹â€‹æ­£æ•´æ•¸æˆ– 0 çš„æ•¸å€¼</li><li><code>a</code> å’Œ <code>b</code> çš„å€¼å¿…é ˆæ˜¯æ•´æ•¸ (æ­£æ•¸ã€è² æ•¸æˆ– 0)</li><li>ç•¶ <code>a</code> å’Œ <code>b</code> éƒ½å¤§æ–¼ 0 æ™‚ï¼Œå¯ä»¥æ›´å¥½çš„å°‡ sibling å…ƒç´ åŠƒåˆ†ç‚ºå…ƒç´ ç¾¤çµ„ (groups of a elements)ï¼Œä¸¦é¸æ“‡æ¯å€‹ç¾¤çµ„çš„ç¬¬ <code>b</code> å€‹å…ƒç´ ï¼Œ ä¾‹å¦‚ï¼š<ul><li><code>3n + 1</code> å¯ä»¥ match åˆ°ç¬¬ 1ã€4ã€7â€¦ç­‰å­å…ƒç´ </li><li><code>0n + 5</code> ç­‰åŒæ–¼ <code>5</code></li></ul></li><li>ç•¶ <code>a</code> ç‚ºè² å€¼ï¼Œä¸” <code>n &gt;= 0</code> æ™‚ï¼Œåªæœ‰ <code>an + b</code> ç‚ºæ­£å€¼æ‰å¯ä»¥ä»£è¡¨ document tree ä¸­çš„å…ƒç´ </li></ul></li><li><code>odd</code>ï¼šå¥‡æ•¸çš„æ‰€æœ‰ sibling å…ƒç´ ï¼Œç­‰åŒæ–¼ <code>2n + 1</code></li><li><code>even</code>å¶æ•¸çš„æ‰€æœ‰ sibling å…ƒç´ ï¼Œç­‰åŒæ–¼ <code>2n</code></li></ul><blockquote><p>èªæ³•è©³æƒ…å¯åƒé–± Selectors Level 3 çš„ã€Œ<a href="https://www.w3.org/TR/selectors-3/#nth-child-pseudo" target="_blank" rel="noopener">6.6.5.2. :nth-child() pseudo-class</a>ã€ç« ç¯€éƒ¨ä»½ã€‚</p></blockquote><p>Child-indexed Pseudo-classes æœ‰ä¸‹é¢é€™äº› selectorï¼š</p><ul><li><code>:nth-child(an+b)</code>ï¼š<ul><li>é¸æ“‡æŒ‡å®š index çš„æ‰€æœ‰ sibling å…ƒç´ ï¼Œå¾ç¬¬ä¸€å€‹ sibling å…ƒç´ é–‹å§‹æ•¸</li></ul></li><li><code>:nth-last-child(an+b)</code>ï¼š<ul><li>é¸æ“‡æŒ‡å®š index çš„æ‰€æœ‰ sibling å…ƒç´ ï¼Œå¾æœ€å¾Œä¸€å€‹ sibling å…ƒç´ é–‹å§‹æ•¸</li></ul></li><li><code>:first-child()</code>ï¼š<ul><li>é¸æ“‡ sibling åˆ—è¡¨ä¸­çš„ç¬¬ä¸€å€‹å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:nth-child(1)</code></li></ul></li><li><code>:last-child()</code>ï¼š<ul><li>é¸æ“‡ sibling åˆ—è¡¨ä¸­çš„æœ€å¾Œä¸€å€‹å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:nth-last-child(1)</code></li></ul></li><li><code>:only-child()</code>ï¼š<ul><li>é¸æ“‡æ²’æœ‰ sibling çš„å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:first-child:last-child</code> æˆ– <code>:nth-child(1):nth-last-child(1)</code>ï¼Œä½† <a href="https://www.w3.org/TR/CSS22/cascade.html#specificity" target="_blank" rel="noopener">specificity</a> è¼ƒä½</li></ul></li></ul><h3 id="Typed-Child-indexed-Pseudo-classes"><a class="header-anchor" href="#Typed-Child-indexed-Pseudo-classes"></a>Typed Child-indexed Pseudo-classes</h3><p>æ­¤ pseudo-class é¡ä¼¼æ–¼ Child Index Pseudo-classesï¼Œä½†æ­¤ pseudo-class æ˜¯åŸºæ–¼ sibling åˆ—è¡¨ä¸­ç›¸åŒ <a href="https://www.w3.org/TR/selectors-4/#type-selectors" target="_blank" rel="noopener">type (tag åç¨±)</a> çš„å…ƒç´ ä¹‹é–“çš„å…ƒç´  index ä¾†è§£æã€‚</p><p>Typed Child-indexed Pseudo-classes æœ‰ä¸‹é¢é€™äº› selectorï¼š</p><ul><li><code>:nth-of-type(an+b)</code>ï¼š<ul><li>é¸æ“‡æŒ‡å®š index çš„æ‰€æœ‰ç›¸åŒ type çš„ sibling å…ƒç´ ï¼Œå¾ç¬¬ä¸€å€‹ sibling å…ƒç´ é–‹å§‹æ•¸</li></ul></li><li><code>:nth-last-of-type(an+b)</code><ul><li>é¸æ“‡æŒ‡å®š index çš„æ‰€æœ‰ç›¸åŒ type çš„ sibling å…ƒç´ ï¼Œå¾æœ€å¾Œä¸€å€‹ sibling å…ƒç´ é–‹å§‹æ•¸</li></ul></li><li><code>:first-of-type()</code><ul><li>é¸æ“‡ sibling åˆ—è¡¨ä¸­çš„ç¬¬ä¸€å€‹ç›¸åŒ type çš„å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:nth-of-type(1)</code></li></ul></li><li><code>:last-of-type()</code><ul><li>é¸æ“‡ sibling åˆ—è¡¨ä¸­çš„æœ€å¾Œä¸€å€‹ç›¸åŒ type çš„å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:nth-last-of-type(1)</code></li></ul></li><li><code>:only-of-type()</code><ul><li>é¸æ“‡æ²’æœ‰ç›¸åŒ type çš„ sibling å…ƒç´ </li><li>ç­‰åŒæ–¼ <code>:first-of-type:last-of-type</code> æˆ– <code>:nth-of-type(1):nth-last-of-type(1)</code>ï¼Œä½† <a href="https://www.w3.org/TR/CSS22/cascade.html#specificity" target="_blank" rel="noopener">specificity</a> è¼ƒä½</li></ul></li></ul><h3 id="nth-of-type-èˆ‡-nth-child-çš„å·®ç•°"><a class="header-anchor" href="#nth-of-type-èˆ‡-nth-child-çš„å·®ç•°"></a><code>:nth-of-type()</code> èˆ‡ <code>:nth-child()</code> çš„å·®ç•°</h3><p>ä¸‹é¢æ˜¯ <code>:nth-of-type()</code> å’Œ <code>:nth-child()</code> çš„ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1 (1 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2 (2 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>3 (div)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4 (3 li)<br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nested-list"</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4-1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4-2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4-3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4-4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4-5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5 (4 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>6 (5 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1 (1 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2 (2 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>3 (div)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4 (3 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5 (4 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>6 (5 li)<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span> &#123; <span class="hljs-attribute">color</span>: olive; &#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-of-type(odd)</span> &#123;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid red;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child(odd)</span> &#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid blue;<br>&#125;<br></code></pre></td></tr></table></figure><p>é€™å€‹ç¯„ä¾‹æœ‰å…©å€‹ <code>ul</code> å…ƒç´ ï¼Œè£¡é¢å„æœ‰äº”å€‹ <code>li</code> å…ƒç´ ï¼Œè€Œä¸”åœ¨èˆ‡ç¬¬äºŒå€‹ <code>li</code> å…ƒç´ åŒå±¤çš„å¾Œé¢åŠ ä¸Šä¸€å€‹ <code>div</code> å…ƒç´ ï¼Œé€™æ˜¯ç”¨ä¾†é©—è­‰ <code>:nth-of-type()</code> å’Œ <code>:nth-child()</code> çš„å·®ç•°ç”¨çš„ã€‚å¦å¤–ï¼Œåœ¨ç¬¬ä¸€å€‹ <code>ul</code> å…ƒç´ è£¡é¢é‚„æœ‰ä¸€å€‹å·¢ç‹€ <code>&lt;ul class=&quot;nested-list&quot;&gt;</code> å…ƒç´ ï¼Œå®ƒæ”¾åœ¨ç¬¬å››å€‹ <code>li</code> å…ƒç´ è£¡é¢ï¼Œé€™æ˜¯ç”¨ä¾†å·¢ç‹€çš„å…ƒç´ ä¹Ÿå¯ä»¥è¢« selector é¸åˆ°ã€‚</p><p>æ¯å€‹å…ƒç´ çš„å‰é¢éƒ½æœ‰ä¸€å€‹ç·¨è™Ÿï¼Œä»£è¡¨åœ¨ sibling å…ƒç´ ä¹‹é–“çš„ indexã€‚è€Œå¾Œé¢çš„æ‹¬è™Ÿæ˜¯ç”¨ä¾†å‘Šè¨´ä½ å®ƒæ˜¯ <code>li</code> å…ƒç´ é‚„æ˜¯ <code>div</code> å…ƒç´ ï¼Œå¦‚æœæ˜¯ <code>li</code> å…ƒç´ å°±æœƒè¨»è¨˜æ˜¯ç¬¬å¹¾å€‹ <code>li</code> å…ƒç´ ã€‚ä¾‹å¦‚ï¼š<code>4 (3 li)</code> å°±ä»£è¡¨æ˜¯ç¬¬å››å€‹ sibling å…ƒç´ ï¼Œä¸¦ä¸”æ˜¯ç¬¬ä¸‰å€‹ <code>li</code> å…ƒç´ ã€‚</p><p>å¯ä»¥çœ‹åˆ°é‚£äº›æœ‰ç´…è‰² <code>outline</code> çš„å…ƒç´ éƒ½æœ‰ match åˆ° <code>li:nth-of-type(odd)</code>ï¼Œå› ç‚ºæ­¤ pseudo-class æ˜¯ä»¥ <code>of-type</code> ç‚ºçµå°¾ï¼Œæ‰€ä»¥æ­¤ selector åªæœƒæ‰¾ç›¸åŒ type çš„ sibling å…ƒç´  (OSï¼šå°±å¾ˆåƒæ˜¯å¿½ç•¥äº† <code>div</code> å…ƒç´ çš„å­˜åœ¨)ã€‚åªè¦æ˜¯å¥‡æ•¸çš„ sibling å…ƒç´ éƒ½æœƒè¢«é¸èµ·ä¾†ï¼Œå¥—ç”¨ç´…è‰²çš„ outline æ¨£å¼ã€‚</p><p>è€Œé‚£äº›æœ‰è—è‰² <code>border</code> çš„å…ƒç´ éƒ½æœ‰ match åˆ° <code>li:nth-child(odd)</code>ï¼Œå› ç‚ºæ­¤ pseudo-class æ˜¯ä»¥ <code>child</code> ç‚ºçµå°¾ï¼Œæ‰€ä»¥æ­¤ selector æœƒç›´æ¥æ‰¾æ˜¯ <code>li</code> çš„ sibling å…ƒç´ ï¼Œä¸¦ä¸”è¦æ˜¯å¥‡æ•¸çš„ sibling å…ƒç´ ã€‚ä¸éï¼Œç¬¬ä¸‰å€‹ sibling å…ƒç´ æ˜¯ <code>div</code> å…ƒç´ ï¼Œä¸æ˜¯ <code>li</code> å…ƒç´ ï¼Œå› æ­¤ <code>li:nth-child(odd)</code> å°±ä¸æœƒ match åˆ°æ­¤ <code>div</code> å…ƒç´ </p><p>è€Œå·¢ç‹€ <code>&lt;ul class=&quot;nested-list&quot;&gt;</code> å…ƒç´ è£¡é¢åªæœ‰äº”å€‹ <code>li</code> å…ƒç´ ï¼Œæ²’æœ‰å…¶ä»– type çš„å…ƒç´ ï¼Œæ‰€ä»¥éƒ½æœƒé¸åˆ°å¥‡æ•¸çš„ sibling å…ƒç´  (å› ç‚ºæ²’æœ‰äº‚è·¯çš„å…ƒç´ )ã€‚</p><p>Demoï¼š<a href="https://codepen.io/titangene/pen/NWKEwmo" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-pseudo-class-2/2019-09-20-16-37-11.png" alt=""></p><iframe height="541" style="width:100%" scrolling="no" title=":nth-child &amp; :nth-of-type" src="https://codepen.io/titangene/embed/NWKEwmo/?height=541&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/NWKEwmo/" target="_blank" rel="noopener">:nth-child &amp; :nth-of-type</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="The-negation-pseudo-class"><a class="header-anchor" href="#The-negation-pseudo-class"></a>The negation pseudo-class</h3><p><code>:not(X)</code> æ˜¯ä¸€å€‹å‡½æ•¸ç¬¦è™Ÿï¼Œå¯å°‡ä¸€å€‹ simple selector (ä¸åŒ…æ‹¬ <code>:not(X)</code> æœ¬èº«) ä½œç‚ºåƒæ•¸ã€‚<code>:not(X)</code> ä»£è¡¨ä¸é¸æ“‡ match åˆ° <code>X</code> simple selector çš„å…ƒç´ ã€‚</p><blockquote><p>è¨»ï¼šä»¥ä¸‹é€™äº›éƒ½æ˜¯ simple selectorï¼š</p><ul><li>type selectorï¼šä¾‹å¦‚ <code>div</code></li><li>universal selectorï¼šä¾‹å¦‚ <code>*</code></li><li>attribute selectorï¼šä¾‹å¦‚ <code>div[foo]</code></li><li>class selectorï¼šä¾‹å¦‚ <code>.myclass</code></li><li>ID selectorï¼šä¾‹å¦‚ <code>#myid</code></li><li>pseudo-classï¼šä¾‹å¦‚ <code>a:hover</code></li></ul></blockquote><p>ä¸èƒ½å·¢ç‹€ä½¿ç”¨ï¼Œæ‰€ä»¥ <code>:not(:not(...))</code> æ˜¯ç„¡æ•ˆçš„ã€‚å¦å¤–è«‹æ³¨æ„ï¼Œå› ç‚º pseudo-element ä¸æ˜¯ simple selectorï¼Œæ‰€ä»¥ pseudo-element ä¸æ˜¯ <code>:not()</code> çš„æœ‰æ•ˆåƒæ•¸ã€‚</p><p>ä¾‹å¦‚ï¼šmatch HTML æ–‡ä»¶ä¸­æ‰€æœ‰æœªè¢«ç¦ç”¨çš„ <code>button</code> å…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-attr">[disable]</span>)<br></code></pre></td></tr></table></figure><blockquote><p>è¨»ï¼š<code>[disable]</code> æ˜¯ attribute selectorï¼Œè©³æƒ…è«‹åƒé–±æˆ‘å‰å¹¾å¤©å¯«çš„ã€Œ<a href="https://titangene.github.io/article/css-attribute-selector.html">é‡æ–°èªè­˜ CSS - Attribute selector (å±¬æ€§é¸æ“‡å™¨)</a>ã€ã€‚</p></blockquote><p>match é™¤äº† <code>#titan</code> å…ƒç´ ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">*<span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-id">#titan</span>)<br></code></pre></td></tr></table></figure><blockquote><p>è¨»ï¼š<code>#titan</code> æ˜¯ ID selectorï¼Œè©³æƒ…è«‹åƒé–±æˆ‘å‰å¹¾å¤©å¯«çš„ã€Œ<a href="https://titangene.github.io/article/css-selector-1.html">é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</a>ã€ã€‚</p></blockquote><h2 id="æœ€å¾Œ"><a class="header-anchor" href="#æœ€å¾Œ"></a>æœ€å¾Œ</h2><p>ä»Šå¤©ä»‹ç´¹ä¸€äº› structural pseudo-classï¼Œæ¥ä¸‹ä¾†å¹¾å¤©æœƒæ¥çºŒä»‹ç´¹å…¶ä»– selectorã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 Specification - Selectors</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (1)</title>
      <link href="/article/css-selector-pseudo-class-1.html"/>
      <url>/article/css-selector-pseudo-class-1.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>Selector (é¸æ“‡å™¨) å¯ç”¨ä¾†é¸æ“‡ HTML å’Œ XML æ–‡ä»¶ä¸­çš„ç¯€é»ï¼Œä¸¦å°‡æ¨£å¼å±¬æ€§ç¶å®šåˆ°æ–‡ä»¶ (HTML å’Œ XML) ä¸­çš„å…ƒç´ ä¸Šã€‚ç•¶é¸æ“‡å™¨èˆ‡æŸå…ƒç´  match çš„æ™‚å€™ï¼Œå°±å¯ä»¥å°é¸åˆ°çš„å…ƒç´ é€²è¡Œ CSS æ¨£å¼è¨­å®šã€‚æœ¬ç¯‡æœƒä»‹ç´¹ pseudo-class (å½é¡)ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10217730" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (1)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><p>ä¹‹å‰æœ‰æåˆ°ä»¥ä¸‹é€™äº›éƒ½æ˜¯ simple selectorï¼š</p><ul><li>type selector</li><li>universal selector</li><li>attribute selector</li><li>class selector</li><li>ID selector</li><li>pseudo-class</li></ul><blockquote><p>æœ¬ç¯‡æœƒä»‹ç´¹ pseudo-classï¼Œå¦‚æœæƒ³äº†è§£å…¶ä»– simple selector å¯åƒé–±ä¹‹å‰ä»‹ç´¹çš„ã€Œ<a href="https://ithelp.ithome.com.tw/articles/10216566" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</a>ã€ã€‚</p></blockquote><h2 id="Pseudo-classes"><a class="header-anchor" href="#Pseudo-classes"></a>Pseudo-classes</h2><p>pseudo-class æ˜¯ä»¥ <code>:</code> ç‚ºé–‹é ­ï¼Œå¾Œé¢æ¥è‘— pseudo-class çš„åç¨±ï¼Œæœ‰äº›æœƒåœ¨å¾Œé¢åŠ ä¸Šæ‹¬è™Ÿ <code>()</code>ï¼Œä¸¦åœ¨æ‹¬è™Ÿä¹‹é–“åŠ ä¸Šå€¼ã€‚ä¾‹å¦‚ï¼š<code>:nth-child(2)</code>ã€‚</p><div class="warning"><p>æ³¨æ„ï¼š</p><ul><li>pseudo-class å’Œ pseudo-element ä¸ç›¸åŒ</li><li>pseudo-class æ˜¯ä»¥ <code>:</code> ç‚ºé–‹é ­</li><li>pseudo-element æ˜¯ä»¥ <code>::</code> ç‚ºé–‹é ­ï¼Œä½†ä¹Ÿå¯ä»¥ä»¥ <code>:</code> ç‚ºé–‹é ­ï¼Œå› ç‚ºåœ¨èˆŠç‰ˆçš„ W3C Spec ä¸­æ²’æœ‰å°‡ pseudo-class å’Œ pseudo-element å€åˆ†æˆ <code>:</code> å’Œ <code>::</code>ã€‚å¦‚æœä½ å¯« pseudo-element æ˜¯ç”¨ <code>:</code>ï¼Œå¤§éƒ¨ä»½ç€è¦½å™¨ä¹Ÿé‚„æ˜¯æœƒæ”¯æ´é€™ç¨®èªæ³•ã€‚</li></ul></div><h3 id="Dynamic-pseudo-classes"><a class="header-anchor" href="#Dynamic-pseudo-classes"></a>Dynamic pseudo-classes</h3><p>Dynamic pseudo-classes ä¸æœƒå‡ºç¾åœ¨ document source æˆ– document tree ä¸­ã€‚</p><p>Dynamic pseudo-classes åˆåˆ†ç‚ºï¼š</p><ul><li>link pseudo-classesï¼š<code>:link</code> å’Œ <code>:visited</code></li><li>user action pseudo-classesï¼š<code>:hover</code>ã€<code>:active</code> å’Œ <code>:focus</code></li></ul><h4 id="The-link-pseudo-classesï¼š-link-å’Œ-visited"><a class="header-anchor" href="#The-link-pseudo-classesï¼š-link-å’Œ-visited"></a>The link pseudo-classesï¼š<code>:link</code> å’Œ <code>:visited</code></h4><p><a href="https://www.w3.org/TR/CSS22/conform.html#user-agent" target="_blank" rel="noopener">UA</a> (User agentï¼Œå° HTML ä¾†èªªå°±æ˜¯ç€è¦½å™¨) ä»¥ä¸åŒçš„æ–¹å¼ä¾†é¡¯ç¤ºé€£çµæ˜¯å¦å·²è¨ªå•ï¼š</p><ul><li><code>:link</code>ï¼šæœªè¨ªå•éçš„é€£çµ</li><li><code>:visited</code>ï¼šå·²è¨ªå•éçš„é€£çµ</li></ul><p>ä¸éï¼Œéäº†ä¸€æ®µæ™‚é–“ä¹‹å¾Œï¼ŒUA å¯ä»¥å°‡å·²è¨ªå•çš„é€£çµå¾ <code>:visited</code> è®Šå› <code>:link</code> çš„ç‹€æ…‹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io"</span>&gt;</span>Titangene Blog<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io/article/css-selector-pseudo-class-1.html"</span>&gt;</span>é‡æ–°èªè­˜ CSS - CSS Selector (3)<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:visited</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:link</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/jONejbv" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-pseudo-class-1/2019-09-19-16-40-27.png" alt=""></p><iframe height="215" style="width:100%" scrolling="no" title="link pseudo-class: :visited &amp; :link" src="https://codepen.io/titangene/embed/jONejbv/?height=215&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/jONejbv/" target="_blank" rel="noopener">link pseudo-class: :visited &amp; :link</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h4 id="The-user-action-pseudo-classesï¼š-hoverã€-active-å’Œ-focus"><a class="header-anchor" href="#The-user-action-pseudo-classesï¼š-hoverã€-active-å’Œ-focus"></a>The user action pseudo-classesï¼š<code>:hover</code>ã€<code>:active</code> å’Œ <code>:focus</code></h4><p>ç”¨æ–¼ response ä½¿ç”¨è€…çš„æ“ä½œï¼š</p><ul><li><code>:hover</code>ï¼š<ul><li>ç•¶ cursor (æ»‘é¼ æŒ‡æ¨™) hover åœ¨å…ƒç´ ä¸Šæ™‚ï¼Œvisual UA å°±å¯ä»¥æ‡‰ç”¨æ­¤ pseudo-class</li><li>ä¸æ”¯æ´ <a href="https://www.w3.org/TR/CSS22/media.html#media-groups" target="_blank" rel="noopener">äº’å‹•å¼ media</a> çš„ UA ä¸ç”¨æ”¯æ´æ­¤ pseudo-class</li></ul></li><li><code>:active</code>ï¼š<ul><li>åœ¨ä½¿ç”¨è€…æŒ‰ä¸‹æ»‘é¼ æŒ‰éˆ•ä¸¦æ”¾é–‹å®ƒä¹‹é–“çš„æ™‚é–“æœƒæ‡‰ç”¨æ­¤ pseudo-class</li><li>å¦‚æœæ»‘é¼ ä¸Šæœ‰å¤šå€‹æŒ‰éˆ•æ™‚ï¼Œ<code>:active</code> åªé©ç”¨æ–¼ä¸»è¦æˆ–ä¸»è¦ actived çš„æŒ‰éˆ• (é€šå¸¸ç‚ºæ»‘é¼ å·¦éµ) â€¦ç­‰</li></ul></li><li><code>:focus</code>ï¼šç•¶å…ƒç´ æœ‰ç„¦é»æ™‚æœƒæ‡‰ç”¨æ­¤ pseudo-classï¼Œä¾‹å¦‚ï¼šæŒ‰éµç›¤çš„ Tab éµæ‰€é¸åˆ°çš„å…ƒç´ </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io"</span>&gt;</span>Titangene Blog<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io/article/css-selector-pseudo-class-1.html"</span>&gt;</span>é‡æ–°èªè­˜ CSS - CSS Selector (3)<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span> &#123; <span class="hljs-attribute">color</span>: black; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:focus</span> &#123; <span class="hljs-attribute">color</span>: gray; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:active</span> &#123; <span class="hljs-attribute">color</span>: purple; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/YzKJobe" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-pseudo-class-1/user-action-pseudo-class.gif" alt=""></p><iframe height="227" style="width:100%" scrolling="no" title="user action pseudo-class" src="https://codepen.io/titangene/embed/YzKJobe/?height=227&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/YzKJobe/" target="_blank" rel="noopener">user action pseudo-class</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>ä¹Ÿå¯ä»¥ä¸€æ¬¡ä½¿ç”¨å¤šå€‹ dynamic pseudo-classï¼Œå¦‚ä¸‹ç¯„ä¾‹ï¼š</p><ul><li>åŒæ™‚æœ‰ <code>:focus</code> å’Œ <code>:hover</code> çš„ç‹€æ…‹</li><li>åŒæ™‚æœ‰ <code>:link</code> å’Œ <code>:active</code> çš„ç‹€æ…‹</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:focus</span><span class="hljs-selector-pseudo">:hover</span> &#123; <span class="hljs-attribute">color</span>: teal; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:link</span><span class="hljs-selector-pseudo">:active</span> &#123; <span class="hljs-attribute">color</span>: fuchsia; &#125;<br></code></pre></td></tr></table></figure><h3 id="The-target-pseudo-classesï¼š-target"><a class="header-anchor" href="#The-target-pseudo-classesï¼š-target"></a>The target pseudo-classesï¼š<code>:target</code></h3><p>æœ‰äº› URI çš„æœ€å¾Œæœƒä»¥ <code>#</code> (number sign) ç‚ºçµå°¾ï¼Œå¾Œé¢æœƒæ¥è‘— anchor identifier (ä¹Ÿç¨±ç‚º fragment identifier)ï¼Œä»£è¡¨è©² URI æ˜¯æŒ‡å‘è³‡æºä¸­çš„æŸå€‹ä½ç½®ã€‚é€šå¸¸å¸¶æœ‰ fragment identifier çš„ URL æœƒ link åˆ°æ–‡ä»¶ä¸­çš„æŸäº›å…ƒç´ ï¼Œè©²å…ƒç´ è¢«ç¨±ç‚º target å…ƒç´ ã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨ä¸‹é¢çš„ HTML æ–‡ä»¶ä¸­æœ‰åç‚º <code>hello</code> çš„ anchor (éŒ¨é») (ä¹Ÿå°±æ˜¯ <code>&lt;a href=&quot;#hello&quot;&gt;Hello&lt;/a&gt;</code> é€™å€‹é€£çµ)ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#hello"</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"hello"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Target<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#hello</span><span class="hljs-selector-pseudo">:target</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/jONegME" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å¦‚æœæ­¤ HTML çš„ URL ç‚ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">https:&#x2F;&#x2F;s.codepen.io&#x2F;titangene&#x2F;debug&#x2F;jONegME&#x2F;vWkRwRNmBvOM<br></code></pre></td></tr></table></figure><p>åœ¨é‚„æ²’é»æ“Š <code>#hello</code> éŒ¨é»æ™‚ï¼Œç•«é¢å¦‚ä¸‹ï¼š</p><p><img src="../images/css-selector-pseudo-class-1/2019-09-19-18-59-06.png" alt=""></p><p>åªè¦é»æ“Š <code>#hello</code> éŒ¨é»å¾Œï¼Œä¸‹é¢çš„ â€œTargetâ€ æ–‡å­—å°±æœƒè®Šæˆç´…è‰² (ä¹Ÿå°±æ˜¯æœƒæ‡‰ç”¨ <code>#hello:target</code> çš„æ¨£å¼)ï¼Œç•«é¢å¦‚ä¸‹ï¼š</p><p><img src="../images/css-selector-pseudo-class-1/2019-09-19-18-59-29.png" alt=""></p><p>ä¸¦ä¸” URL çš„æœ€å¾ŒæœƒåŠ ä¸Š <code>#hello</code>ï¼Œè€Œ <code>#hello</code> å°±æ˜¯ fragment identifierã€‚</p><p>å‰›å‰›é»æ“Šçš„éŒ¨é»æœƒ link åˆ° target å…ƒç´ ï¼Œè€Œ target å…ƒç´ å°±æ˜¯ <code>&lt;div id=&quot;hello&quot;&gt;</code>ï¼Œæ‰€ä»¥ selector æ‰æœƒ match åˆ° <code>#hello:target</code>ã€‚</p><iframe height="227" style="width:100%" scrolling="no" title="target pseudo-classes :target" src="https://codepen.io/titangene/embed/jONegME/?height=227&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/jONegME/" target="_blank" rel="noopener">target pseudo-classes :target</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>åœ¨ <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/:target#Creating_a_pure_CSS_lightbox" target="_blank" rel="noopener">MDN</a> æœ‰ä¸€å€‹ç¯„ä¾‹ä¹Ÿè »æœ‰è¶£çš„ï¼Œå¯ä»¥ç”¨ <code>:target</code> pseudo-class ä¾†å¯¦ä½œ lightboxï¼š</p><p><img src="../images/css-selector-pseudo-class-1/lightbox.gif" alt=""></p><p>é‹ä½œåŸç†æ˜¯ç”¨ <code>display: none</code> å’Œ <code>display: block</code> ä¾†æ§åˆ¶ lightbox æ˜¯å¦é–‹å•Ÿï¼Œè§¸ç™¼çš„æ©Ÿåˆ¶å°±æ˜¯ç”¨å‰›å‰›ä»‹ç´¹çš„ <code>:target</code> pseudo-class ä¾†åšçš„ã€‚</p><blockquote><p>é€™å€‹ç¯„ä¾‹å¾ˆæœ‰è¶£ï¼Œä»¥å‰ç”¨ JavaScript æ‰èƒ½åšåˆ°çš„äº‹æƒ…ï¼Œæ²’æƒ³åˆ°ä¹Ÿèƒ½ç”¨ç´” CSS ä¾†å¯¦ä½œå‡ºä¾†ã€‚</p></blockquote><h3 id="UI-element-states-pseudo-classes"><a class="header-anchor" href="#UI-element-states-pseudo-classes"></a>UI element states pseudo-classes</h3><p>åˆ†ç‚ºï¼š</p><ul><li><code>:enabled</code>ï¼šè™•æ–¼å•Ÿç”¨ç‹€æ…‹çš„ UI å…ƒç´ </li><li><code>:disabled</code>ï¼šè™•æ–¼ç¦ç”¨ç‹€æ…‹çš„ UI å…ƒç´ </li><li><code>:checked</code>ï¼šé¸å– radio æˆ–å‹¾é¸ checkbox å…ƒç´ æ™‚æœƒæ‡‰ç”¨</li></ul><h4 id="enabled-disabled-pseudo-class"><a class="header-anchor" href="#enabled-disabled-pseudo-class"></a><code>:enabled</code> &amp; <code>:disabled</code> pseudo-class</h4><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"enabledField"</span>&gt;</span>enabled field:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"enabledField"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Lorem"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"disabledField"</span>&gt;</span>disabled field:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"disabledField"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Lorem"</span> <span class="hljs-attr">disabled</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"enabledCheckbox"</span>&gt;</span>enabled checkbox:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"enabledCheckbox"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"disabledCheckbox"</span>&gt;</span>disabled checkbox:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"disabledCheckbox"</span> <span class="hljs-attr">disabled</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:enabled</span> &#123; <span class="hljs-attribute">outline</span>: <span class="hljs-number">3px</span> solid red; &#125;<br><span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:disabled</span> &#123; <span class="hljs-attribute">outline</span>: <span class="hljs-number">3px</span> solid blue; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/qBWQBEd" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>åªè¦è¢«åŠ ä¸Š <code>disabled</code> å±¬æ€§çš„ <code>input</code> å…ƒç´ éƒ½ä»£è¡¨è©²å…ƒç´ è™•æ–¼ç¦ç”¨ç‹€æ…‹ï¼Œæ‰€ä»¥é€™äº›å…ƒç´ å°±æœƒå¥—ç”¨ <code>input:disabled</code> æ­¤ selector çš„æ¨£å¼ã€‚å…¶é¤˜çš„å…ƒç´ å‰‡æœƒå¥—ç”¨ <code>input:enabled</code> æ­¤ selector çš„æ¨£å¼ã€‚</p><p><img src="../images/css-selector-pseudo-class-1/2019-09-19-19-37-25.png" alt=""></p><div class="info"><p>ä¸éè¦æ³¨æ„çš„äº‹å…ƒç´ æœ‰ç„¡å•Ÿç”¨ï¼Œè·Ÿä¸€äº›æœƒå½±éŸ¿ä½¿ç”¨è€…äº’å‹• UI å…ƒç´ çš„ CSS å±¬æ€§æ²’é—œä¿‚ï¼Œé€™äº›éƒ½ä¸æœƒå½±éŸ¿ selector æ˜¯å¦ match åˆ° <code>:enabled</code> æˆ– <code>:disabled</code>ã€‚</p><p>ä¾‹å¦‚ï¼š<code>display</code> å’Œ <code>visibility</code> å±¬æ€§éƒ½æœƒè®“å…ƒç´ åœ¨ç•«é¢ä¸Šæ¶ˆå¤±ï¼Œä½†æ˜¯éƒ½ä¸æœƒå½±éŸ¿åˆ°å•Ÿç”¨æˆ–ç¦ç”¨çš„ç‹€æ…‹ã€‚</p><ul><li><code>display: none</code> ä¸æœƒè®“å…ƒç´ å‡ºç¾åœ¨ <a href="https://www.w3.org/TR/CSS22/intro.html#formatting-structure" target="_blank" rel="noopener">formatting structure</a> ä¸­ï¼Œå¾ˆåƒä¸åœ¨ç•«é¢ä¸Šï¼Œæœƒå®Œå…¨æ¶ˆå¤±</li><li><code>visibility: hidden</code> ç”Ÿæˆçš„ box æ˜¯çœ‹ä¸è¦‹çš„ï¼Œå®Œå…¨é€æ˜ï¼Œä¸æœƒ draw ä»»ä½•å…§å®¹ï¼Œä½†æœƒå½±éŸ¿ä½ˆå±€ï¼Œä¹Ÿå°±æ˜¯æœƒåœ¨ç•«é¢ä¸Šä½”ç”¨ç©ºé–“ï¼Œä½†æœƒçœ‹ä¸åˆ°å…ƒç´ çš„æ¨£å­</li></ul></div><iframe height="299" style="width:100%" scrolling="no" title=":enabled and :disabled pseudo-classes" src="https://codepen.io/titangene/embed/qBWQBEd/?height=299&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/qBWQBEd/" target="_blank" rel="noopener">:enabled and :disabled pseudo-classes</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h4 id="checked-pseudo-class"><a class="header-anchor" href="#checked-pseudo-class"></a><code>:checked</code> pseudo-class</h4><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"firstCheckbox"</span> <span class="hljs-attr">checked</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"firstCheckbox"</span>&gt;</span>First checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"secondCheckbox"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"secondCheckbox"</span>&gt;</span>Second checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"firstRadio"</span> <span class="hljs-attr">checked</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"firstRadio"</span>&gt;</span>First radio<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"secondRadio"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"secondRadio"</span>&gt;</span>Second radio<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">input</span> + <span class="hljs-selector-tag">label</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:checked</span> + <span class="hljs-selector-tag">label</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/vYBQYrW" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-pseudo-class-1/2019-09-19-20-02-40.png" alt=""></p><iframe height="280" style="width:100%" scrolling="no" title=":checked pseudo-class" src="https://codepen.io/titangene/embed/vYBQYrW/?height=280&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/vYBQYrW/" target="_blank" rel="noopener">:checked pseudo-class</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="æœ€å¾Œ"><a class="header-anchor" href="#æœ€å¾Œ"></a>æœ€å¾Œ</h2><p>ä»Šå¤©ä»‹ç´¹ä¸€äº› pseudo-classï¼Œæ¥ä¸‹ä¾†å¹¾å¤©æœƒæ¥çºŒä»‹ç´¹å…¶ä»– selectorã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 Specification - Selectors</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li><li><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/:target" target="_blank" rel="noopener">:target - CSS | MDN</a></li></ul><blockquote><p>About MDN by Mozilla Contributors is licensed under CC-BY-SA 2.5</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Attribute selector (å±¬æ€§é¸æ“‡å™¨)</title>
      <link href="/article/css-attribute-selector.html"/>
      <url>/article/css-attribute-selector.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>Selector (é¸æ“‡å™¨) å¯ç”¨ä¾†é¸æ“‡ HTML å’Œ XML æ–‡ä»¶ä¸­çš„ç¯€é»ï¼Œä¸¦å°‡æ¨£å¼å±¬æ€§ç¶å®šåˆ°æ–‡ä»¶ (HTML å’Œ XML) ä¸­çš„å…ƒç´ ä¸Šã€‚ç•¶é¸æ“‡å™¨èˆ‡æŸå…ƒç´  match çš„æ™‚å€™ï¼Œå°±å¯ä»¥å°é¸åˆ°çš„å…ƒç´ é€²è¡Œ CSS æ¨£å¼è¨­å®šã€‚æœ¬ç¯‡æœƒä»‹ç´¹ attribute selector (å±¬æ€§é¸æ“‡å™¨)ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10217082" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Attribute selector (å±¬æ€§é¸æ“‡å™¨)</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Attribute-selector"><a class="header-anchor" href="#Attribute-selector"></a>Attribute selector</h2><p>Selector å…è¨±è¡¨ç¤ºå…ƒç´ çš„å±¬æ€§ã€‚ç•¶ selector ä½œç‚º expression (è¡¨é”å¼) ä¾† match å…ƒç´ æ™‚ï¼Œå¦‚æœè©²å…ƒç´ å…·æœ‰èˆ‡ attribute selector (å±¬æ€§é¸æ“‡å™¨) è¡¨ç¤ºçš„å±¬æ€§ match çš„å±¬æ€§ï¼Œå‰‡å¿…é ˆå°‡ attribute selector è¦–ç‚ºèˆ‡å…ƒç´  matchã€‚</p><h3 id="Attribute-presence-and-value-selector"><a class="header-anchor" href="#Attribute-presence-and-value-selector"></a>Attribute presence and value selector</h3><p><a href="https://www.w3.org/TR/CSS22/selector.html#attribute-selectors" target="_blank" rel="noopener">CSS2</a> å¼•å…¥äº†å››å€‹ attribute selectorï¼š</p><ul><li><code>[att]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œç„¡è«–å±¬æ€§çš„å€¼ç‚ºä½•</li><li><code>[att=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œä¸”è©²å±¬æ€§å€¼ç‚º <code>val</code></li><li><code>[att~=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§çš„å€¼æ˜¯ä»¥ç©ºæ ¼åˆ†éš”çš„å–®è©åˆ—è¡¨ï¼Œå…¶ä¸­ä¸€å€‹æ­£å¥½æ˜¯ <code>val</code><ul><li>å¦‚æœ <code>val</code> åŒ…å«ç©ºæ ¼ï¼Œå°±ä¸æœƒ match ä»»ä½•å…§å®¹ (å› ç‚ºå–®å­—ä¹‹é–“æ˜¯ç”¨ç©ºæ ¼ä¾†åˆ†éš”)</li><li>å¦‚æœ <code>val</code> æ˜¯ç©ºå­—ä¸²ï¼Œå°±ä¸æœƒ match ä»»ä½•å…§å®¹</li></ul></li><li><code>[att|=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œä¸”è©²å±¬æ€§å€¼ç‚º <code>val</code> æˆ–ä»¥ <code>val</code> ç‚ºé–‹é ­ï¼Œå¾Œé¢æ¥è‘— <code>-</code> (ä¹Ÿå°±æ˜¯ä»¥ <code>val-</code> ç‚ºé–‹é ­)</li></ul><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"hello"</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"titan"</span>&gt;</span>Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"hello"</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"titan"</span>&gt;</span>Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"titan"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight Titan<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text text-primary text-bold"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-primary text"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textPrimary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-primary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert-primary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[title]</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h2</span><span class="hljs-selector-attr">[title=<span class="hljs-string">"titan"</span>]</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[title=<span class="hljs-string">"titan"</span>]</span><span class="hljs-selector-attr">[class=<span class="hljs-string">"highlight"</span>]</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">"text"</span>]</span> &#123; <span class="hljs-attribute">color</span>: purple; &#125;<br><span class="hljs-selector-tag">h2</span><span class="hljs-selector-attr">[class|=<span class="hljs-string">"text"</span>]</span> &#123; <span class="hljs-attribute">color</span>: olive; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class=<span class="hljs-string">"alert"</span>]</span>, <span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class=<span class="hljs-string">"alert-primary"</span>]</span> &#123; <span class="hljs-attribute">color</span>: gray; &#125;<br></code></pre></td></tr></table></figure><ul><li><code>h1[title]</code>ï¼šå¸¶æœ‰ <code>title</code> å±¬æ€§çš„ <code>h1</code> å…ƒç´ </li><li><code>h2[title=&quot;titan&quot;]</code>ï¼šå¸¶æœ‰ <code>title</code> å±¬æ€§çš„ <code>h2</code> å…ƒç´ ï¼Œä¸¦ä¸”è©²å±¬æ€§å€¼ç‚º <code>titan</code></li><li><code>h1[title=&quot;titan&quot;][class=&quot;highlight&quot;]</code>ï¼šå¸¶æœ‰ <code>title</code> å’Œ <code>class</code> å±¬æ€§çš„ <code>h1</code> å…ƒç´ ï¼Œä¸¦ä¸” <code>title</code> çš„å±¬æ€§å€¼ç‚º <code>titan</code> ä»¥åŠ <code>class</code> å±¬æ€§å€¼ç‚º <code>highlight</code></li><li><code>h1[class~=&quot;text&quot;]</code>ï¼šå¸¶æœ‰ <code>class</code> å±¬æ€§çš„ <code>h1</code> å…ƒç´ ï¼Œä¸¦ä¸”è©²å±¬æ€§å€¼éœ€åŒ…å« <code>text</code></li><li><code>h2[class|=&quot;text&quot;]</code>ï¼šå¸¶æœ‰ <code>class</code> å±¬æ€§çš„ <code>h2</code> å…ƒç´ ï¼Œä¸¦ä¸”è©²å±¬æ€§å€¼ç‚ºéœ€ç‚º <code>text</code> æˆ–ä»¥ <code>text-</code> ç‚ºé–‹é ­</li><li><code>h1[class=&quot;alert&quot;], h1[class=&quot;alert-primary&quot;]</code>ï¼šå¸¶æœ‰ <code>class</code> å±¬æ€§çš„ <code>h1</code> å…ƒç´ ï¼Œä¸¦ä¸”è©²å±¬æ€§å€¼ç‚º <code>alert</code>ï¼Œä»¥åŠå¸¶æœ‰ <code>class</code> å±¬æ€§çš„ <code>h1</code> å…ƒç´ ï¼Œä¸¦ä¸”è©²å±¬æ€§å€¼ç‚º <code>alert-primary</code></li></ul><div class="info"><p>è¨»ï¼š<code>[title=&quot;titan&quot;]</code> ä¸­çš„ <code>title</code> æ˜¯å±¬æ€§åç¨±ï¼Œ<code>titan</code> æ˜¯åç‚º <code>title</code> çš„å±¬æ€§å€¼ã€‚</p></div><p>Demoï¼š<a href="https://codepen.io/titangene/pen/MWgPyyG" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-attribute-selector/attribute-presence-and-value-selector.png" alt=""></p><iframe height="590" style="width:100%" scrolling="no" title="Attribute presence and value selectors" src="https://codepen.io/titangene/embed/MWgPyyG/?height=590&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/MWgPyyG/" target="_blank" rel="noopener">Attribute presence and value selectors</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>å¦‚ä¸Šè¿°æ‰€èªªï¼Œ<code>[att~=val]</code> æœ‰ä»¥ä¸‹å…©é …èªæ³•è¦å‰‡ï¼Œä¸‹é¢æœƒåˆ†åˆ¥ä»¥ç¯„ä¾‹ä¾†èªªæ˜ï¼š</p><ul><li>å¦‚æœ <code>val</code> åŒ…å«ç©ºæ ¼ï¼Œå°±ä¸æœƒ match ä»»ä½•å…§å®¹ (å› ç‚ºå–®å­—ä¹‹é–“æ˜¯ç”¨ç©ºæ ¼ä¾†åˆ†éš”)</li><li>å¦‚æœ <code>val</code> æ˜¯ç©ºå­—ä¸²ï¼Œå°±ä¸æœƒ match ä»»ä½•å…§å®¹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text text-primary text-bold"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-primary text"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">"text"</span>]</span> &#123; <span class="hljs-attribute">color</span>: olive; &#125;<br><br><span class="hljs-comment">/* ä»¥ä¸‹ selector éƒ½ä¸æœƒ match ä»»ä½•å…§å®¹ */</span><br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">"text "</span>]</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">" text"</span>]</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">" text "</span>]</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">" "</span>]</span> &#123; <span class="hljs-attribute">color</span>: purple; &#125;<br><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=<span class="hljs-string">""</span>]</span> &#123; <span class="hljs-attribute">color</span>: gray; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/qBBbxJp" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-attribute-selector/attribute-presence-and-value-selector-2.png" alt=""></p><iframe height="396" style="width:100%" scrolling="no" title="Attribute presence and value selectorsï¼š[att~=val]" src="https://codepen.io/titangene/embed/qBBbxJp?height=396&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/qBBbxJp" target="_blank" rel="noopener">Attribute presence and value selectorsï¼š[att~=val]</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="Substring-matching-attribute-selector"><a class="header-anchor" href="#Substring-matching-attribute-selector"></a>Substring matching attribute selector</h3><p>åœ¨ <a href="https://www.w3.org/TR/selectors-3/#attribute-substrings" target="_blank" rel="noopener">Selectors Level 3</a> æä¾›äº†ä¸‰å€‹é¡å¤–çš„ attribute selectorï¼Œç”¨æ–¼ match å±¬æ€§å€¼ä¸­çš„å­å­—ä¸²ï¼š</p><ul><li><code>[att^=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼ä»¥ <code>val</code> ç‚ºé–‹é ­ã€‚å¦‚æœ <code>val</code> æ˜¯ç©ºå­—ä¸²ï¼Œå‰‡ selector ä¸æœƒ match ä»»ä½•å…§å®¹</li><li><code>[att$=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼ä»¥ <code>val</code> ç‚ºçµå°¾ã€‚å¦‚æœ <code>val</code> æ˜¯ç©ºå­—ä¸²ï¼Œå‰‡ selector ä¸æœƒ match ä»»ä½•å…§å®¹</li><li><code>[att*=val]</code>ï¼šä»£è¡¨å…·æœ‰ <code>att</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼è‡³å°‘åŒ…å« <code>val</code> é€™å€‹å­å­—ä¸²ã€‚å¦‚æœ <code>val</code> æ˜¯ç©ºå­—ä¸²ï¼Œå‰‡ selector ä¸æœƒ match ä»»ä½•å…§å®¹</li></ul><p>ç›´æ¥çœ‹ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textPrimary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-primary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io/article/css-attribute-selector.html"</span>&gt;</span>é‡æ–°èªè­˜ CSS - CSS Selector (2)<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io"</span>&gt;</span>Titangene Blog<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-alert"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"myAlertPrimary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-alert-primary"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h2</span><span class="hljs-selector-attr">[class^=<span class="hljs-string">"text"</span>]</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[href$=<span class="hljs-string">".html"</span>]</span> &#123; <span class="hljs-attribute">color</span>: gray; &#125;<br><span class="hljs-selector-tag">h2</span><span class="hljs-selector-attr">[class*=<span class="hljs-string">"alert"</span>]</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;<br></code></pre></td></tr></table></figure><ul><li><code>h2[class^=&quot;text&quot;]</code>ï¼šä»£è¡¨å…·æœ‰ <code>class</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼ä»¥ <code>text</code> ç‚ºé–‹é ­</li><li><code>a[href$=&quot;.html&quot;]</code>ï¼šä»£è¡¨å…·æœ‰ <code>href</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼ä»¥ <code>.html</code> ç‚ºçµå°¾ (ä¹Ÿå°±æ˜¯è©²é é¢ç‚º <code>.html</code> æª”)</li><li><code>h2[class*=&quot;alert&quot;]</code>ï¼šä»£è¡¨å…·æœ‰ <code>class</code> å±¬æ€§çš„å…ƒç´ ï¼Œè©²å±¬æ€§å€¼è‡³å°‘åŒ…å« <code>alert</code> é€™å€‹å­å­—ä¸²</li></ul><p>Demoï¼š<a href="https://codepen.io/titangene/pen/vYBVKEm" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-attribute-selector/substring-matching-attribute-selector.png" alt=""></p><iframe height="383" style="width:100%" scrolling="no" title="Substring matching attribute selectors" src="https://codepen.io/titangene/embed/vYBVKEm/?height=383&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/vYBVKEm/" target="_blank" rel="noopener">Substring matching attribute selectors</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="æœ€å¾Œ"><a class="header-anchor" href="#æœ€å¾Œ"></a>æœ€å¾Œ</h2><p>ä»Šå¤©ä»‹ç´¹ä¸€äº› attribute selectorï¼Œæ¥ä¸‹ä¾†å¹¾å¤©æœƒæ¥çºŒä»‹ç´¹å…¶ä»– selectorã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 - 5. Selectors</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</title>
      <link href="/article/css-selector-1.html"/>
      <url>/article/css-selector-1.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>Selector (é¸æ“‡å™¨) å¯ç”¨ä¾†é¸æ“‡ HTML å’Œ XML æ–‡ä»¶ä¸­çš„ç¯€é»ï¼Œä¸¦å°‡æ¨£å¼å±¬æ€§ç¶å®šåˆ°æ–‡ä»¶ (HTML å’Œ XML) ä¸­çš„å…ƒç´ ä¸Šã€‚ç•¶é¸æ“‡å™¨èˆ‡æŸå…ƒç´  match çš„æ™‚å€™ï¼Œå°±å¯ä»¥å°é¸åˆ°çš„å…ƒç´ é€²è¡Œ CSS æ¨£å¼è¨­å®šã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p><p>æœ¬æ–‡åŒæ­¥ç™¼è¡¨æ–¼ iT é‚¦å¹«å¿™ï¼š<a href="https://ithelp.ithome.com.tw/articles/10216566" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Simple Selector &amp; Groups of selector</a></p><p>ã€Œé‡æ–°èªè­˜ CSSã€ç³»åˆ—æ–‡ç« ç™¼æ–‡æ–¼ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/users/20117586/ironman/2617" target="_blank" rel="noopener">iT é‚¦å¹«å¿™</a></li><li><a href="https://titangene.github.io/tags/it-%E9%90%B5%E4%BA%BA%E8%B3%BD/">Titangene Blog</a></li></ul></blockquote><h2 id="Selector-èªæ³•"><a class="header-anchor" href="#Selector-èªæ³•"></a>Selector èªæ³•</h2><p>Selector æ˜¯ç”±ä¸€å€‹æˆ–å¤šå€‹ sequence of simple selector (ç°¡å–®é¸æ“‡å™¨) æ‰€çµ„åˆï¼Œä¸¦ç”¨ combinator åˆ†éš”çš„ä¸€ä¸²æ±è¥¿ã€‚</p><p>sequence of simple selectorsï¼š</p><ul><li>ç”±å¤šå€‹ simple selector çµ„æˆï¼Œæ²’æœ‰è¢« combinator åˆ†éš”</li><li>ä»¥ type selector æˆ– universal selector ç‚ºé–‹é ­</li></ul><p>ä»¥ä¸‹é€™äº›éƒ½æ˜¯ simple selectorï¼š</p><ul><li>type selectorï¼šä¾‹å¦‚ <code>E</code></li><li>universal selectorï¼šä¾‹å¦‚ <code>*</code></li><li>attribute selectorï¼šä¾‹å¦‚ <code>E[foo]</code></li><li>class selectorï¼šä¾‹å¦‚ <code>.myclass</code></li><li>ID selectorï¼šä¾‹å¦‚ <code>#myid</code></li><li>pseudo-classï¼šä¾‹å¦‚ <code>E:hover</code></li></ul><p>combinator æ˜¯ <code></code> (ç©ºç™½å­—å…ƒ)ã€<code>&gt;</code>ã€<code>+</code>ã€<code>~</code>ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plain">E F &#123; color: red; &#125;<br>E &gt; F &#123; color: red; &#125;<br>E + F &#123; color: red; &#125;<br>E ~ F &#123; color: red; &#125;<br></code></pre></td></tr></table></figure><p>simple selector èˆ‡ combinator ä¹‹é–“å¯ä»¥åŠ ä¸Šç©ºç™½ï¼Œä¸åŠ ç©ºç™½ä¹Ÿå¯ä»¥ã€‚ä¾‹å¦‚ï¼šä¸‹é¢å…©å€‹é¸æ“‡å™¨æ˜¯ç›¸åŒçš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">E &gt; F<br>E&gt;F<br></code></pre></td></tr></table></figure><p>ä¸éï¼Œé€šå¸¸åœ¨ä¹‹é–“éƒ½æœƒåŠ ç©ºç™½ï¼Œå› ç‚ºå¯è®€æ€§è¼ƒä½³ã€‚</p><p>æ‰€æœ‰ CSS èªæ³•åœ¨ ASCII ç¯„åœå…§éƒ½ä¸åˆ†å¤§å°å¯« (ä¹Ÿå°±æ˜¯ <code>[a-z]</code> ç­‰æ–¼ <code>[A-Z]</code> )ï¼Œä½†ä¸å— CSS æ§åˆ¶çš„éƒ¨åˆ†é™¤å¤–ã€‚ä¾‹å¦‚ï¼šHTML çš„ <code>id</code> å’Œ <code>class</code> å±¬æ€§å€¼ã€å­—é«”åç¨±å’Œ URI æ˜¯å¦åˆ†å¤§å°å¯«éƒ½è¶…å‡º CSS Spec çš„å®šç¾©ç¯„åœã€‚å¦å¤–ï¼ŒHTML çš„å…ƒç´ åç¨±æ˜¯ä¸åˆ†å¤§å°å¯«çš„ï¼Œä½†åœ¨ XML å°±æœ‰åˆ†å¤§å°å¯«ã€‚</p><p>é›–ç„¶åœ¨ <a href="https://www.w3.org/TR/CSS22/selector.html#pseudo-elements" target="_blank" rel="noopener">CSS 2.2 spec</a> æ˜¯èªª pseudo-element å’Œ pseudo-class çš„åç¨±ä¸åˆ†å¤§å°å¯«ï¼Œä½†é€šå¸¸æœƒä½¿ç”¨å°å¯«ã€‚</p><p>åœ¨ CSS ä¸­ï¼Œidentifier (åŒ…æ‹¬ selector ä¸­çš„å…ƒç´ åç¨±ã€class å’Œ ID) åªèƒ½åŒ…å«å­—å…ƒ <code>[a-zA-Z0-9]</code> å’Œ ISO 10646 å­—å…ƒä¸­çš„ U+0080 åŠä¹‹å¾Œçš„å­—å…ƒï¼Œä»¥åŠ hyphen ( <code>-</code> ) å’Œåº•ç·š ( <code>_</code> )ï¼›å®ƒå€‘ä¸èƒ½ä»¥æ•¸å­—ã€å…©å€‹ hyphen æˆ– hyphen å¾Œé¢æ¥è‘—æ•¸å­—ç‚ºé–‹é ­ã€‚</p><blockquote><p>è©³æƒ…å¯åƒé–± <a href="https://www.w3.org/TR/CSS22/syndata.html#characters" target="_blank" rel="noopener">CSS 2.2 - 4.1.3. Characters and case</a>ã€‚</p></blockquote><h2 id="Groups-of-selector"><a class="header-anchor" href="#Groups-of-selector"></a>Groups of selector</h2><p>ç•¶å¤šå€‹é¸æ“‡å™¨å…±äº«ç›¸åŒçš„å®£å‘Šæ™‚ï¼Œå®ƒå€‘å¯ä»¥ç”¨é€—è™Ÿä¾†åˆ†éš”æ¯å€‹é¸æ“‡å™¨ï¼Œæ¯å€‹é¸æ“‡å™¨éƒ½æœƒé¸åˆ° match çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>header 3<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h2</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h3</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/ExYevee" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-15-40-57.png" alt=""></p><p><img src="../images/css-selector-1/2019-09-17-15-41-34.png" alt=""></p><iframe height="244" style="width:100%" scrolling="no" title="Groups of selector" src="https://codepen.io/titangene/embed/ExYevee/?height=244&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/ExYevee/" target="_blank" rel="noopener">Groups of selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>ä¸è¦è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢å…©å€‹ç¯„ä¾‹æœƒæœ‰ä¸€æ¨£çš„çµæœæ˜¯å› ç‚ºæ‰€æœ‰é¸æ“‡å™¨éƒ½æ˜¯æœ‰æ•ˆçš„é¸æ“‡å™¨ (valid selector)ã€‚å¦‚æœå…¶ä¸­ä¸€å€‹é¸æ“‡å™¨ç‚ºç„¡æ•ˆæ™‚ï¼Œå°±æœƒè®“æ•´å€‹é¸æ“‡å™¨ç¾¤çµ„éƒ½ç„¡æ•ˆã€‚ä¸éï¼Œè‹¥å°‡ä¸‰å€‹é¸æ“‡å™¨åˆ†é–‹å®£å‘Šæ™‚ï¼Œå°±åªæœ‰é‚£ä¸€å€‹æœƒå¤±æ•ˆã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>header 3<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h2</span>.<span class="hljs-selector-class">.foo</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br><span class="hljs-selector-tag">h3</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>ä¸ç­‰æ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>.<span class="hljs-selector-class">.foo</span>, <span class="hljs-selector-tag">h3</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/gOYdxQP" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>å¦‚ä¸‹åœ–ï¼Œå› ç‚ºä¸Šé¢å…¶ä¸­çš„ <code>h2..foo</code> æ˜¯ç„¡æ•ˆé¸æ“‡å™¨ (invalid selector)ï¼Œæ‰€ä»¥æœƒé€ æˆ <code>h1, h2..foo, h3</code> å®Œå…¨ç„¡æ•ˆï¼Œä¸¦ä¸”æœƒåˆªé™¤é€™å€‹æ¨£å¼è¦å‰‡ï¼š</p><p><img src="../images/css-selector-1/2019-09-17-15-37-08.png" alt=""></p><p>å¦‚æœæ˜¯åˆ†é–‹å®£å‘Šï¼Œå°±åªæœƒåˆªé™¤ <code>h2..foo</code> é€™å€‹æ¨£å¼è¦å‰‡ï¼Œå¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/css-selector-1/2019-09-17-15-38-56.png" alt=""></p><iframe height="268" style="width:100%" scrolling="no" title="Groups of selector: valid selector" src="https://codepen.io/titangene/embed/gOYdxQP/?height=268&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/gOYdxQP/" target="_blank" rel="noopener">Groups of selector: valid selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h2 id="Simple-selector"><a class="header-anchor" href="#Simple-selector"></a>Simple selector</h2><p>ä»¥ä¸‹é€™äº›éƒ½æ˜¯ simple selectorï¼š</p><ul><li>type selector</li><li>universal selector</li><li>attribute selector</li><li>class selector</li><li>ID selector</li><li>pseudo-class</li></ul><h3 id="Type-selector"><a class="header-anchor" href="#Type-selector"></a>Type selector</h3><p>èˆ‡ HTML çš„ element type çš„åç¨± (ä¹Ÿå°±æ˜¯ HTML tag åç¨±) matchã€‚</p><p>ä¾‹å¦‚ï¼šmatch æ‰€æœ‰ <code>h1</code> å…ƒç´ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/JjPaMpm" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-15-45-55.png" alt=""></p><iframe height="265" style="width:100%" scrolling="no" title="type selector" src="https://codepen.io/titangene/embed/JjPaMpm/?height=265&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/JjPaMpm/" target="_blank" rel="noopener">type selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="Universal-Selector"><a class="header-anchor" href="#Universal-Selector"></a>Universal Selector</h3><p>Universal selector æ˜¯ä½¿ç”¨ <code>*</code> ä¾† match ä»»ä½• element type çš„åç¨±ã€‚</p><p>ä¾‹å¦‚ï¼šä¸‹é¢ç¯„ä¾‹å¯ä»¥é¸åˆ°æ‰€æœ‰å…ƒç´ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>header 3<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://titangene.github.io/"</span>&gt;</span>Titangene Blog<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/NWKLvQg" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-15-47-50.png" alt=""></p><iframe height="285" style="width:100%" scrolling="no" title="Universal Selector" src="https://codepen.io/titangene/embed/NWKLvQg/?height=285&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/NWKLvQg/" target="_blank" rel="noopener">Universal Selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="Class-selector"><a class="header-anchor" href="#Class-selector"></a>Class selector</h3><p>å¦‚æœè¦å°å¤šå€‹å…ƒç´ éœ€è¦ç›¸åŒçš„æ¨£å¼æ™‚ï¼Œå°±å¯ä»¥ç”¨ <code>class</code> é€™å€‹å±¬æ€§ä¾†æ¨™è­˜å®ƒå€‘ã€‚åœ¨ CSS æ˜¯ä½¿ç”¨ <code>.</code> ä¾†ä»£è¡¨ class å±¬æ€§ï¼Œä¹Ÿç­‰åŒæ–¼ <code>~=</code> è¡¨ç¤ºæ³• (notation)ï¼Œå±¬æ€§å€¼å¿…é ˆåœ¨ <code>.</code> ä¹‹å¾Œã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-class">.highlight</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>ç­‰åŒæ–¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-attr">[class~=highlight]</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/gOYdXOe" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>ç¬¬ä¸€å€‹ <code>h1</code> å…ƒç´ çš„å­—é«”é¡è‰²ä¸æœƒè®Šæˆç´…è‰²ï¼Œåªæœ‰ç¬¬äºŒå€‹ <code>h1</code> å…ƒç´ æ‰æœƒè®Šç´…è‰²ï¼š</p><p><img src="../images/css-selector-1/2019-09-17-16-46-57.png" alt=""></p><p><img src="../images/css-selector-1/2019-09-17-16-47-15.png" alt=""></p><iframe height="240" style="width:100%" scrolling="no" title="class selector" src="https://codepen.io/titangene/embed/gOYdXOe/?height=240&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/gOYdXOe/" target="_blank" rel="noopener">class selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>å¦‚æœåªå–®ç¨ä½¿ç”¨ class selector (ä¹Ÿå°±æ˜¯ <code>.</code> )ï¼Œä¹Ÿç­‰åŒæ–¼åœ¨å‰é¢åŠ ä¸Š universal selector (ä¹Ÿå°±æ˜¯ <code>*</code> )ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">*<span class="hljs-selector-class">.highlight</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.highlight</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/GRKXOZx" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p>ç¬¬ä¸€å€‹ <code>h1</code> å’Œ <code>h2</code> å…ƒç´ çš„å­—é«”é¡è‰²ä¸æœƒè®Šæˆç´…è‰²ï¼Œåªæœ‰ç¬¬äºŒå€‹ <code>h1</code> å’Œ <code>h2</code> å…ƒç´ æ‰æœƒè®Šç´…è‰²ï¼š</p><p><img src="../images/css-selector-1/2019-09-17-16-53-46.png" alt=""></p><p><img src="../images/css-selector-1/2019-09-17-16-55-21.png" alt=""></p><iframe height="320" style="width:100%" scrolling="no" title="class selector &amp; universal selector" src="https://codepen.io/titangene/embed/GRKXOZx/?height=320&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/GRKXOZx/" target="_blank" rel="noopener">class selector &amp; universal selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>å¦‚æœéœ€è¦åŒæ™‚æŒ‡å®šæŸå…ƒç´ ä¸Šçš„å…©å€‹ classï¼Œå¯ä»¥å¯«æˆé€™æ¨£ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-primary highlight"</span>&gt;</span>highlight header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>highlight header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.text-primary</span><span class="hljs-selector-class">.highlight</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><div class="info"><p>è¨»ï¼šåœ¨ HTML è¦å°æŸå…ƒç´ ä¸ŠåŒæ™‚è¨­å®šå¤šå€‹ classï¼Œæ˜¯ä½¿ç”¨ç©ºç™½å­—å…ƒä¾†åˆ†éš”å¤šå€‹ classã€‚ä»¥ä¸Šé¢ç¯„ä¾‹ä¾†èªªï¼Œç¬¬äºŒå€‹ <code>h1</code> ä¸Šæœ‰å…©å€‹ classï¼Œåˆ†åˆ¥æ˜¯ <code>text-primary</code> å’Œ <code>highlight</code>ã€‚</p></div><p>Demoï¼š<a href="https://codepen.io/titangene/pen/WNegdxr" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-17-27-15.png" alt=""></p><iframe height="320" style="width:100%" scrolling="no" title="multi class selector" src="https://codepen.io/titangene/embed/WNegdxr/?height=320&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/WNegdxr/" target="_blank" rel="noopener">multi class selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="ID-selector"><a class="header-anchor" href="#ID-selector"></a>ID selector</h3><p>å¦‚æœè¦å°æŸå€‹å…ƒç´ ä½œå”¯ä¸€çš„æ¨™ç¤ºï¼Œå°±å¯ä»¥ç”¨ <code>id</code> é€™å€‹å±¬æ€§ä¾†æ¨™è­˜å®ƒå€‘ã€‚åœ¨ CSS æ˜¯ä½¿ç”¨ <code>#</code> ä¾†ä»£è¡¨ id å±¬æ€§ï¼Œå±¬æ€§å€¼å¿…é ˆåœ¨ <code>#</code> ä¹‹å¾Œã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"titan"</span>&gt;</span>header 1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"titan"</span>&gt;</span>header 2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#titan</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/GRKXyjb" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-17-52-36.png" alt=""></p><iframe height="320" style="width:100%" scrolling="no" title="id selector" src="//codepen.io/titangene/embed/GRKXyjb/?height=320&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/GRKXyjb/" target="_blank" rel="noopener">id selector</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><p>å¦‚æœåªæƒ³é¸æ“‡å¸¶æœ‰ <code>titan</code> é€™å€‹ id çš„ <code>h2</code> å…ƒç´ ï¼Œå¯ä»¥å¯«æˆé€™æ¨£ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h2</span><span class="hljs-selector-id">#titan</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š<a href="https://codepen.io/titangene/pen/KKPxZma" target="_blank" rel="noopener">Codepen é€£çµ</a></p><p><img src="../images/css-selector-1/2019-09-17-17-56-01.png" alt=""></p><iframe height="320" style="width:100%" scrolling="no" title="id selector: specific element" src="//codepen.io/titangene/embed/KKPxZma/?height=320&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/KKPxZma/" target="_blank" rel="noopener">id selector: specific element</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="Pseudo-class"><a class="header-anchor" href="#Pseudo-class"></a>Pseudo-class</h3><blockquote><p>pseudo-class æœƒåœ¨ä¹‹å¾Œçš„å…©ç¯‡ä¸­ä»‹ç´¹åˆ°ï¼š</p><ul><li><a href="https://ithelp.ithome.com.tw/articles/10217730" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (1)</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10218197" target="_blank" rel="noopener">é‡æ–°èªè­˜ CSS - Pseudo-class (å½é¡) (2)</a></li></ul></blockquote><h2 id="æœ€å¾Œ"><a class="header-anchor" href="#æœ€å¾Œ"></a>æœ€å¾Œ</h2><p>ä»Šå¤©ä»‹ç´¹ä¸€äº› simple selectorï¼Œæ¥ä¸‹ä¾†å¹¾å¤©æœƒæ¥çºŒä»‹ç´¹å…¶ä»– selectorã€‚</p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/CSS22/selector.html" target="_blank" rel="noopener">CSS 2.2 - 5. Selectors</a></li><li><a href="https://www.w3.org/TR/CSS22/syndata.html#characters" target="_blank" rel="noopener">CSS 2.2 - 4.1.3. Characters and case</a></li><li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">Selectors Level 3</a></li><li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">Selectors Level 4</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°èªè­˜ CSS - CSS ç°¡ä»‹</title>
      <link href="/article/css-introduction.html"/>
      <url>/article/css-introduction.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/css.png" alt=""></p><p>CSS æ˜¯ Cascading Style Sheets çš„ç¸®å¯«ï¼Œæ˜¯ä¸€ç¨® style sheet (æ¨£å¼è¡¨) èªè¨€ï¼Œå¯å°‡è‡ªè¨‚çš„æ¨£å¼ (ä¾‹å¦‚ï¼šå­—é«”ã€é¡è‰²) é™„åŠ åœ¨ HTML æ–‡ä»¶ä¸Šã€‚é€™ç¯‡æœƒå…ˆç°¡ä»‹ CSSï¼Œä»¥åŠå¦‚ä½•åœ¨ HTML è¨­å®š CSSã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ã€Œé‡æ–°èªè­˜ CSSã€é€™å€‹ç³»åˆ—åç¨±çš„ç”±ä¾†å°±å¦‚å…¶åï¼Œæˆ‘æƒ³è¦é‡æ–°èªè­˜å®ƒã€‚é›–ç„¶ä»¥å‰å°±æœ‰å­¸é CSSï¼Œä½†é€™æ¬¡æƒ³å¾ CSS Spec ä¸­å­¸åˆ°æœ€åŸå§‹çš„å®šç¾©å’Œå…§å®¹ï¼Œæ›´åŠ äº†è§£ CSS çš„åŸç†ï¼Œè®“æˆ‘åœ¨åˆ‡ç‰ˆçš„æ™‚å€™å¯ä»¥æ›´åŠ ç¢ºå®šè‡ªå·±åœ¨åšä»€éº¼ï¼Œæˆ‘è¸©åˆ°çš„é›·åªæ˜¯å› ç‚ºæˆ‘ä¸å¤ äº†è§£å®ƒæ‰æœƒç‚¸é–‹ã€‚</p><p>åœ¨é€™ 30 å¤©çš„å…§å®¹ä¸­ï¼Œæœƒå°‡ Spec å…§çœ‹åˆ°çš„è³‡æ–™æ•´ç†æˆé€™å€‹ç³»åˆ—ï¼Œä¹Ÿå¸Œæœ›æ­£åœ¨å­¸ CSS çš„å„ä½å¯ä»¥æ›´åŠ äº†è§£å®ƒã€‚å¦å¤–æˆ‘ä¹ŸæœƒåŒæ™‚å°‡æ–‡ç« ç™¼è‡³æˆ‘çš„ Blogï¼Œå¦‚æœæƒ³ç›´æ¥çœ‹æ–‡å…§çš„ç¨‹å¼ç¢¼ Demo ç•«é¢ï¼Œå¯ä»¥åˆ°æˆ‘çš„ Blog ä¾†çœ‹ ğŸ˜ƒã€‚</p></blockquote><p>CSS è¦å‰‡æ˜¯ç”± selector å’Œå®£å‘Š (declaration) çµ„æˆï¼Œä»¥ä¸‹é¢ç¨‹å¼ç¢¼çš„ CSS è¦å‰‡ç‚ºä¾‹ï¼Œ<code>h1</code> å°±æ˜¯ selectorï¼Œ<code>color: red</code> å°±æ˜¯å®£å‘Šã€‚åœ¨ HTML ä¸­ï¼Œå…ƒç´ åç¨±ä¸åˆ†å¤§å°å¯«ï¼Œä¾‹å¦‚ï¼š<code>H1</code> å’Œ <code>h1</code> ç›¸åŒï¼Œä½†é€šå¸¸æœƒå¯«å°å¯«ã€‚</p><p>å®£å‘Šåˆç”±å±¬æ€§åç¨±å’Œå±¬æ€§å€¼çµ„æˆï¼Œä»¥ä¸‹é¢ç¨‹å¼ç¢¼ç‚ºä¾‹ï¼Œ<code>color</code> å°±æ˜¯å±¬æ€§åç¨±ï¼Œ<code>red</code> å°±æ˜¯å±¬æ€§å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><h2 id="åœ¨-HTML-è¨­å®š-CSS"><a class="header-anchor" href="#åœ¨-HTML-è¨­å®š-CSS"></a>åœ¨ HTML è¨­å®š CSS</h2><p>è¦åœ¨ HTML å…§è¨­å®š CSS æœ‰ä¸‰ç¨®æ–¹æ³•ï¼š</p><ul><li>Inline CSSï¼šå…ƒç´ ä¸Šçš„ <code>style</code> å±¬æ€§</li><li>Internal CSSï¼š<code>style</code> å…ƒç´ </li><li>External CSSï¼š<code>link</code> å…ƒç´ å¼•å…¥å¤–éƒ¨ CSS</li></ul><h3 id="Inline-CSSï¼šå…ƒç´ ä¸Šçš„-style-å±¬æ€§"><a class="header-anchor" href="#Inline-CSSï¼šå…ƒç´ ä¸Šçš„-style-å±¬æ€§"></a>Inline CSSï¼šå…ƒç´ ä¸Šçš„ <code>style</code> å±¬æ€§</h3><ul><li>åœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šé€é <code>style</code> å±¬æ€§ä¾†è¨­å®š CSS æ¨£å¼</li><li>ç›¸åŒçš„æ¨£å¼ç„¡æ³•å…±ç”¨ï¼Œå¦‚æœè¦åœ¨ä¸åŒå…ƒç´ è¨­å®šç›¸åŒçš„æ¨£å¼ï¼Œå°±éœ€è¦åœ¨æ¯å€‹å…ƒç´ ä¸Šè¨­å®š <code>style</code> å±¬æ€§</li><li>CSS æ¨£å¼èˆ‡ HTML çµæ§‹å¯«åœ¨ä¸€èµ·ï¼Œå¯è®€æ€§å·®ï¼Œä¸å»ºè­°é€™æ¨£å¯«</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red;"</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red;"</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Demoï¼š</p><p><img src="../images/css-introduction/css-style-attr.png" alt=""></p><iframe height="214" style="width:100%" scrolling="no" title="Inline CSS" src="https://codepen.io/titangene/embed/JjPBmzR/?height=214&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen>See the Pen <a href="https://codepen.io/titangene/pen/JjPBmzR/" target="_blank" rel="noopener">Inline CSS</a> by Titangene (<a href="https://codepen.io/titangene" target="_blank" rel="noopener">@titangene</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</iframe><h3 id="Internal-CSSï¼šstyle-å…ƒç´ "><a class="header-anchor" href="#Internal-CSSï¼šstyle-å…ƒç´ "></a>Internal CSSï¼š<code>style</code> å…ƒç´ </h3><ul><li>ç›´æ¥åœ¨ HTML åŸå§‹ç¢¼å…§åˆ©ç”¨ <code>style</code> å…ƒç´ ä¾†è¨­å®š CSS</li><li>åªèƒ½åœ¨å–®ç¨çš„ HTML å…§ä½¿ç”¨ <code>style</code> å…ƒç´ è£¡çš„æ¨£å¼</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="css">      <span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Demoï¼š</p><p><img src="../images/css-introduction/title-red.png" alt=""></p><h3 id="External-CSSï¼šlink-å…ƒç´ å¼•å…¥å¤–éƒ¨-CSS"><a class="header-anchor" href="#External-CSSï¼šlink-å…ƒç´ å¼•å…¥å¤–éƒ¨-CSS"></a>External CSSï¼š<code>link</code> å…ƒç´ å¼•å…¥å¤–éƒ¨ CSS</h3><ul><li>ä½¿ç”¨ <code>link</code> å…ƒç´ å¼•å…¥å¤–éƒ¨ CSS æª”æ¡ˆå…§çš„æ¨£å¼</li><li>å¯å°‡ HTML èˆ‡ CSS çš„åŸå§‹ç¢¼åˆ†é–‹ç®¡ç†<ul><li>è‹¥è¦æ›´æ”¹æ¨£å¼ï¼Œåªè¦æ›´æ›æˆå…¶ä»– CSS æª”æ¡ˆæˆ–ä¿®æ”¹å¤–éƒ¨ CSS æª”æ¡ˆå…§çš„æ¨£å¼</li></ul></li><li>åŒä¸€ä»½ CSS æ¨£å¼å¯å¥—ç”¨è‡³å¤šå€‹ HTML æ–‡ä»¶ä½¿ç”¨</li><li>å¸¸è¦‹æœƒä½¿ç”¨ CDN (Content Delivery Network)</li></ul><p><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" target="_blank" rel="noopener"><code>link</code> å…ƒç´ </a> ä¸Šçš„è¨­å®šï¼š</p><ul><li>ç”¨ <code>rel</code> å±¬æ€§ (relationships) è¨­å®šé€£çµé¡å‹ï¼š<code>stylesheet</code></li><li>ç”¨ <code>href</code> å±¬æ€§ (hyperlink reference) æŒ‡å®šçš„ CSS è·¯å¾‘</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./style.css"</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢å…§å®¹ç‚º <code>style.css</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>Demoï¼š</p><p><img src="../images/css-introduction/title-red.png" alt=""></p><h3 id="Multiple-Style-Sheets"><a class="header-anchor" href="#Multiple-Style-Sheets"></a>Multiple Style Sheets</h3><p>å¦‚æœä»¥ä¸åŒçš„æ–¹å¼ä¾†å°åŒä¸€å€‹å…ƒç´ è¨­å®šæ¨£å¼ï¼Œå‰‡æœƒä½¿ç”¨æœ€å¾Œè¨­å®šçš„æ¨£å¼ã€‚</p><p>ä¾‹å¦‚ï¼šåŒæ™‚ä½¿ç”¨ internal CSS å’Œ external CSS çš„æ–¹å¼è¨­å®š CSSï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./style.css"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="css">      <span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢å…§å®¹ç‚º <code>style.css</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure><p>é‚£ <code>h1</code> çš„é¡è‰²æœƒæ˜¯ç¶ è‰²ï¼š</p><p><img src="../images/css-introduction/title-green.png" alt=""></p><p>å¦‚æœæ›´æ› <code>style</code> å’Œ <code>link</code> å…ƒç´ çš„é †åºï¼Œ<code>h1</code> çš„é¡è‰²å‰‡æœƒæ˜¯ç´…è‰²ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="css">      <span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./style.css"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="../images/css-introduction/title-red.png" alt=""></p><p>è³‡æ–™ä¾†æºï¼š</p><ul><li><a href="https://www.w3.org/TR/html401/present/styles.html" target="_blank" rel="noopener">Style Sheets in HTML documents</a></li><li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" target="_blank" rel="noopener">HTML Standard - 4.2.4 The link element</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT éµäººè³½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥—ç”¨è‡ªè¨‚ HackMD æš—ä¸»é¡Œ</title>
      <link href="/article/hackmd-dark-theme.html"/>
      <url>/article/hackmd-dark-theme.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/hackmd-dark-theme.jpg" alt=""></p><p>HackMD æ˜¯æˆ‘å¸¸ç”¨çš„å¯«ä½œå¹³å°ï¼Œå› å®˜æ–¹æ²’æœ‰æä¾›æš—ä¸»é¡Œçš„ç€è¦½æ¨¡å¼ï¼Œæ‰€ä»¥æˆ‘å°±åˆ»äº†è‡ªè¨‚çš„æš—ä¸»é¡Œï¼Œä¹Ÿå°‡è‡ªè¨‚ä¸»é¡Œ<a href="https://github.com/titangene/hackmd-dark-theme" target="_blank" rel="noopener">é–‹æºåœ¨ GitHub</a>ï¼Œæ­¡è¿å¤§å®¶ç™¼ PR çµ¦æˆ‘ï¼Œä¸¦è¨˜å¾—å¹«æˆ‘æŒ‰å€‹ â­ï¸ æ˜Ÿã€‚</p><a id="more"></a><p>æ‡‰è©²æœ‰å¾ˆå¤šäººåœ¨ç€è¦½å™¨å®‰è£ <a href="https://chrome.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh" target="_blank" rel="noopener">Dark reader</a> é€™å€‹æ“´å……åŠŸèƒ½å§ï¼Ÿé€šå¸¸ä½¿ç”¨çš„åŸå› å¤§å¤šæ˜¯æƒ³æŠŠç•«é¢è®Šæˆæ·±è‰²ç€è¦½æ¨¡å¼ï¼Œæ¯”è¼ƒä¿è­·çœ¼ç›ã€‚ä½†æ˜¯æœ‰äº›ç¶²ç«™ä½¿ç”¨é€™å€‹æ“´å……åŠŸèƒ½ä¹‹å¾Œï¼Œæœ‰äº›é¡è‰²ä¸æ˜¯ä½ ç¿’æ…£æˆ–å–œæ­¡çš„ï¼Œå°¤å…¶æ˜¯åœ¨å€‹äººå¸¸ç”¨çš„ç¶²ç«™ä¸Šæœƒæ„Ÿè¦ºæ²’é‚£éº¼ç¿’æ…£ã€‚</p><p>è€Œ <a href="https://hackmd.io/" target="_blank" rel="noopener">HackMD</a> æ˜¯æˆ‘å¸¸ç”¨ä¾†å¯«æŠ€è¡“ç­†è¨˜çš„å¯«ä½œå¹³å°ï¼Œå°¤å…¶æ˜¯ç¨‹å¼ç¢¼çš„ highlightï¼Œæˆ‘å€‹äººåå¥½ VS Code é è¨­çš„æš—ä¸»é¡Œ (Dark+ é€™å€‹ä¸»é¡Œ)ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨ç¶²é ä¸ŠåŠ ä¸Šè‡ªå·±è‡ªè¨‚çš„ CSS å»æ”¹æˆæˆ‘æƒ³è¦çš„ä¸»é¡Œã€‚</p><p>é‚£å¦‚ä½•å°‡è‡ªå®šçš„ CSS åŠ åœ¨æŒ‡å®šçš„ç¶²ç«™ä¸Šå‘¢ï¼ŸåŸæœ¬æˆ‘æ˜¯ç”¨ <a href="https://userstyles.org/" target="_blank" rel="noopener">Stylish</a> ä¾†ç®¡ç†è‡ªè¨‚çš„ç¶²é æ¨£å¼ï¼Œä½†å¾Œä¾†å› ç‚º<a href="https://forum.userstyles.org/discussion/53233/announcement-to-the-community" target="_blank" rel="noopener">ä¸€äº›åŸå› é€™å€‹æ“´å……åŠŸèƒ½å¤šäº†åœ¨èƒŒæ™¯ä¸Šå‚³è³‡è¨Šçš„åŠŸèƒ½</a> (é›–ç„¶å®˜æ–¹èªªä¸æœƒä¸Šå‚³å€‹è³‡)ï¼Œæ–¼æ˜¯æˆ‘å°±æ”¹ç”¨ <a href="https://github.com/openstyles/stylus" target="_blank" rel="noopener">Stylus</a> ä¾†ç®¡ç†æ¨£å¼ã€‚Stylus æ˜¯ Stylish çš„åˆ†æ”¯ï¼Œåˆªé™¤äº†ä»»ä½•èˆ‡åˆ†æã€å›å‚³è³‡æ–™çš„åŠŸèƒ½ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨ä¸»é¡Œ"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨ä¸»é¡Œ"></a>å¦‚ä½•ä½¿ç”¨ä¸»é¡Œ</h2><ol><li>åœ¨ç€è¦½å™¨å®‰è£ <a href="https://github.com/openstyles/stylus" target="_blank" rel="noopener">Stylus</a> æ“´å……åŠŸèƒ½ï¼ŒStylus ç›®å‰æä¾›é€™å¹¾ç¨®ç€è¦½å™¨ç‰ˆæœ¬çš„æ“´å……åŠŸèƒ½ï¼š<ul><li><a href="https://chrome.google.com/webstore/detail/stylus/clngdbkpkpeebahjckkjfobafhncgmne" target="_blank" rel="noopener">Chrome</a></li><li><a href="https://addons.mozilla.org/zh-TW/firefox/addon/styl-us/" target="_blank" rel="noopener">Firefox</a></li><li><a href="https://addons.opera.com/zh-tw/extensions/details/stylus/" target="_blank" rel="noopener">Opera</a></li></ul></li><li>ä¸‹è¼‰æˆ‘è‡ªå®šçš„ <a href="https://userstyles.org/styles/147272/hackmd-dark-theme" target="_blank" rel="noopener">HackMD dark theme</a> è‡³ Stylus</li></ol><p><img src="../images/hackmd-dark-theme/install-style.png" alt=""></p><ol start="3"><li>ä¸‹è¼‰æ¨£å¼å¾Œæœƒè‡ªå‹•å¥—ç”¨ï¼Œé–‹å•Ÿ HackMD å°±æœƒçœ‹åˆ°ä»‹é¢è®Šæˆæš—ä¸»é¡Œå›‰ï¼å¦‚æœæ˜¯ä¹‹å‰å°±é–‹å•Ÿçš„ HackMD é é¢ï¼Œæœ‰æ™‚æœƒéœ€è¦é‡æ–°æ•´ç†é é¢æ‰æœƒå¥—ç”¨æš—ä¸»é¡Œã€‚</li></ol><p>å°±æ˜¯é€™éº¼ç°¡å–® ğŸ˜„ã€‚</p><p>é€™é‚Šè¦å¦å¤–èªªæ˜ä¸€ä¸‹ï¼Œé›–ç„¶å‰›å‰›æåˆ°å› ç‚º Stylish æœ‰æ”¶é›†è³‡æ–™çš„å•é¡Œï¼Œæ‰€ä»¥æˆ‘æ”¹ç”¨ Stylus ä¾†ç®¡ç†è‡ªå®šæ¨£å¼ï¼Œä½†æ˜¯è¦å°‡è‡ªå®šçš„æ¨£æ˜¯åˆ†äº«çµ¦åˆ¥äººä½¿ç”¨ï¼Œé‚„æ˜¯è¦è¨»å†Š <a href="https://userstyles.org/" target="_blank" rel="noopener">Stylish</a> å®˜æ–¹å¹³å°çš„å¸³è™Ÿï¼Œå°‡è¦åˆ†äº«çš„æ¨£å¼ä¸Šå‚³è‡³é€™å€‹å¹³å°ï¼Œè®“å…¶ä»–äººå¯ä»¥ä¸‹è¼‰ä½¿ç”¨ã€‚</p><p>ä¸éå¦‚æœåªæ˜¯ä¸‹è¼‰åˆ¥äººçš„ä¸»é¡Œæ˜¯ä¸éœ€è¦è¨»å†Šå¸³è™Ÿï¼Œæ‰€ä»¥ä¸ç”¨æ“”å› ã€‚</p><h2 id="åŸå§‹ç¢¼"><a class="header-anchor" href="#åŸå§‹ç¢¼"></a>åŸå§‹ç¢¼</h2><p>é€™å°±æ˜¯æˆ‘è‡ªå®š HackMD æ¨£å¼çš„åŸå§‹ç¢¼ï¼š<a href="https://github.com/titangene/hackmd-dark-theme" target="_blank" rel="noopener">titangene/hackmd-dark-theme</a></p><p>å¦‚æœç™¼ç¾éœ€ä¿®æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿ç™¼ pull request çµ¦æˆ‘ ğŸ˜ã€‚<br>å¦‚æœå–œæ­¡ï¼Œè¨˜å¾—å¹«æˆ‘æŒ‰å€‹ â­ï¸ æ˜Ÿï¼ŒThanksã€‚</p><h2 id="ç•«é¢æˆªåœ–"><a class="header-anchor" href="#ç•«é¢æˆªåœ–"></a>ç•«é¢æˆªåœ–</h2><h3 id="Overview"><a class="header-anchor" href="#Overview"></a>Overview</h3><p><img src="../images/hackmd-dark-theme/overview.png" alt=""></p><h3 id="Recent"><a class="header-anchor" href="#Recent"></a>Recent</h3><p><img src="../images/hackmd-dark-theme/recent.png" alt=""></p><h3 id="View-mode"><a class="header-anchor" href="#View-mode"></a>View mode</h3><p><img src="../images/hackmd-dark-theme/view.png" alt=""></p><h3 id="Book-mode"><a class="header-anchor" href="#Book-mode"></a>Book mode</h3><p><img src="../images/hackmd-dark-theme/book-mode.png" alt=""></p><h3 id="Slide-mode"><a class="header-anchor" href="#Slide-mode"></a>Slide mode</h3><p><img src="../images/hackmd-dark-theme/slide.png" alt=""></p><h3 id="Emoji-Todo-list-Code-block-highlight"><a class="header-anchor" href="#Emoji-Todo-list-Code-block-highlight"></a>Emoji &amp; Todo list &amp; Code block highlight</h3><p><img src="../images/hackmd-dark-theme/emoji_todo-list_code-block.png" alt=""></p><h3 id="Github-Gist"><a class="header-anchor" href="#Github-Gist"></a>Github Gist</h3><p><img src="../images/hackmd-dark-theme/gist.png" alt=""></p><h3 id="LaTeX-UML"><a class="header-anchor" href="#LaTeX-UML"></a>LaTeX &amp; UML</h3><p><img src="../images/hackmd-dark-theme/latex_uml.png" alt=""></p><h3 id="Table"><a class="header-anchor" href="#Table"></a>Table</h3><p><img src="../images/hackmd-dark-theme/table.png" alt=""></p><h3 id="ToC-Table-of-Contents"><a class="header-anchor" href="#ToC-Table-of-Contents"></a>ToC (Table of Contents)</h3><p><img src="../images/hackmd-dark-theme/toc.png" alt=""></p><h3 id="History"><a class="header-anchor" href="#History"></a>History</h3><p><img src="../images/hackmd-dark-theme/history.png" alt=""></p><h3 id="Permission"><a class="header-anchor" href="#Permission"></a>Permission</h3><p><img src="../images/hackmd-dark-theme/permission.png" alt=""></p><h3 id="Comment"><a class="header-anchor" href="#Comment"></a>Comment</h3><p><img src="../images/hackmd-dark-theme/comment.png" alt=""></p><h2 id="å°çµ"><a class="header-anchor" href="#å°çµ"></a>å°çµ</h2><p>å…¶å¯¦é€™å€‹ side project æˆ‘åœ¨ 2017 å¹´ 8 æœˆå°±é–‹å§‹åšäº†ï¼ŒæœŸé–“åšäº†ä¸€äº›ä¸å®šæœŸçš„æ›´æ–°ï¼Œé€™æ¬¡çš„æ›´æ–°ç®—æ˜¯æ‰€æœ‰æˆ‘ç™¼ç¾æƒ³æ”¹çš„éƒ¨åˆ† (æ´) éƒ½å¡«å¥½äº† (æœ‰å¯èƒ½æˆ‘çœ¼æ®˜æ²’ç™¼ç¾çš„éƒ¨åˆ†ä¹Ÿéœ€è¦æ”¹ XDï¼Œæ­¡è¿å¤§å®¶ç™¼ PR çµ¦æˆ‘)ï¼ŒåŒ…æ‹¬æœ€è¿‘ HackMD å®˜æ–¹æ¨å‡ºçš„å¯åˆ†äº«æ–‡ä»¶çµ¦æŒ‡å®šå¸³è™Ÿçš„åŠŸèƒ½ï¼Œæˆ‘ä¹ŸæŠŠä»‹é¢è®Šæˆæš—ä¸»é¡Œäº†ã€‚</p><h2 id="å¥—ç”¨æš—ä¸»é¡Œçš„å…¶ä»–ç§˜è¨£"><a class="header-anchor" href="#å¥—ç”¨æš—ä¸»é¡Œçš„å…¶ä»–ç§˜è¨£"></a>å¥—ç”¨æš—ä¸»é¡Œçš„å…¶ä»–ç§˜è¨£</h2><p>åœ¨ HackMD æ“”ä»» Developer çš„ <a href="https://www.facebook.com/yukaihuangtw" target="_blank" rel="noopener">é»ƒéˆºå‡±</a> åœ¨æˆ‘ç™¼æ–‡çš„ Facebook ç¤¾åœ˜ <a href="https://www.facebook.com/groups/markdown.tw/permalink/1535146039952824/" target="_blank" rel="noopener">Markdown å°ç£</a>ï¼Œè·Ÿå¤§å®¶åˆ†äº«å¦ä¸€ç¨®å¯ä»¥å¥—ç”¨æš—ä¸»é¡Œçš„å°ç§˜è¨£ï¼Œè€Œä¸”é€™å€‹æ–¹æ³•å¯ä»¥å°‡ä½ è‡ªå®šçš„æ¨£å¼ï¼Œå¥—ç”¨è‡³ä½ åˆ†äº«çš„ç­†è¨˜ï¼Œæˆ–æ˜¯è·Ÿå¤¥ä¼´åƒèˆ‡çš„å…±ç­†ï¼Œè®“å¤§å®¶éƒ½èƒ½å…±äº«åŒæ¨£çš„æš—ä¸»é¡Œã€‚</p><p>é€™å€‹ç¥•è¨£å°±æ˜¯åœ¨ç­†è¨˜å…§ï¼ŒåŠ ä¸Š HackMD çš„å…§åµŒç­†è¨˜èªæ³•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">&#123;%hackmd BJrTq20hE %&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ <a href="https://hackmd.io/IpJEFpXkQg2yvdsY9IbTVg?both" target="_blank" rel="noopener">https://hackmd.io/IpJEFpXkQg2yvdsY9IbTVg?both</a> (é€™å€‹é€£çµæ˜¯ç”± <a href="https://www.facebook.com/yukaihuangtw" target="_blank" rel="noopener">é»ƒéˆºå‡±</a> å¤§å¤§æä¾›) é€™å€‹ç­†è¨˜ç‚ºä¾‹ï¼Œåœ¨é€™å€‹ç­†è¨˜å…§å¯ä»¥çœ‹åˆ° HackMD çš„å…§åµŒç­†è¨˜èªæ³•ï¼Œè€Œä¸”å¯ä»¥çœ‹åˆ°æˆ‘æ²’æœ‰åœ¨ Stylus é–‹å•Ÿæˆ‘è‡ªå®šçš„ <a href="https://userstyles.org/styles/147272/hackmd-dark-theme" target="_blank" rel="noopener">HackMD dark theme</a>ï¼Œç«Ÿç„¶é‚„å¯ä»¥ä¿æœ‰æš—ä¸»é¡Œçš„æ¨£å¼ï¼š</p><p><img src="../images/hackmd-dark-theme/2019-05-19-23-38-41.png" alt=""></p><p>åŸå› å°±ç™¼ç”Ÿåœ¨é€™å€‹ HackMD çš„å…§åµŒç­†è¨˜èªæ³•ï¼Œå› ç‚ºé€™å€‹èªæ³•èƒŒå¾Œå¹«ä½ å¤šåŠ äº†æš—ä¸»é¡Œçš„æ¨£å¼ã€‚é‚£æ˜¯æ€éº¼åšåˆ°çš„å‘¢ï¼Ÿæ–¼æ˜¯æˆ‘å°±å¾ <code>BJrTq20hE</code> é€™å€‹çœ‹ä¼¼å¥‡æ€ªäº‚ç¢¼çš„æ±è¥¿ä¸‹æ‰‹ã€‚</p><p>é¦¬ä¸Šå°±ç›´è¦ºæƒ³åˆ°ï¼Œå…¶å¯¦ <code>BJrTq20hE</code> æ˜¯å¦ä¸€ç¯‡ç­†è¨˜çš„ç·¨è™Ÿï¼Œé€™å€‹ç­†è¨˜çš„å®Œæ•´é€£çµåƒæ˜¯ä¸‹é¢é€™æ¨£ï¼Œç¶²å€å…¶ä¸­çš„ <code>s</code> æ˜¯ HackMD çš„ç™¼è¡¨æ¨¡å¼ (æ‡‰è©²æ˜¯å«é€™æ¨£å§ï¼Ÿ)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">https:&#x2F;&#x2F;hackmd.io&#x2F;s&#x2F;BJrTq20hE<br></code></pre></td></tr></table></figure><p>é€²å…¥é€™å€‹é€£çµå¾Œï¼Œå¯ä»¥çœ‹åˆ°æ•´å€‹ç­†è¨˜ç•«é¢æ²’æœ‰ä»»ä½•æ–‡å­—å…§å®¹ï¼Œä½†æ˜¯ä¸€æ¨£åœ¨æ²’æœ‰å¥—ç”¨è‡ªè¨‚æš—ä¸»é¡Œçš„æƒ…æ³ä¸‹ï¼Œé‚„èƒ½æœ‰æš—ä¸»é¡Œçš„æ¨£å¼ã€‚</p><p><img src="../images/hackmd-dark-theme/2019-05-19-23-46-11.png" alt=""></p><p>æ¥è‘—æˆ‘é€²å…¥é€™å€‹ç­†è¨˜çš„ç·¨è¼¯æ¨¡å¼å°±ç™¼ç¾ç­”æ¡ˆå·²æ­æ›‰ï¼ŒåŸä¾†é€™å€‹çœ‹ä¼¼æ²’å…§æ–‡çš„ç­†è¨˜ä¸­ï¼Œæœ‰æˆ‘å¯«çš„æš—ä¸»é¡Œæ¨£å¼ï¼Œé€™äº›æ¨£å¼ç›´æ¥è¢«å¯«åœ¨é€™ç¯‡ HackMD çš„ç­†è¨˜è£¡é¢ï¼Œä¸¦ä¸”æ”¾åœ¨ <code>&lt;style&gt;</code> çš„ HTML element å…§ï¼š</p><p><img src="../images/hackmd-dark-theme/2019-05-19-23-48-02.png" alt=""></p><p>ä¹Ÿå°±æ˜¯èªªå¦‚æœæœªä¾†æƒ³åœ¨å…¶ä»–ç­†è¨˜ä¹Ÿå¥—ç”¨ç›¸åŒçš„ä¸»é¡Œæ¨£å¼ï¼Œåªè¦å»ºç«‹å°ˆé–€æ”¾æ¨£å¼çš„ç­†è¨˜ï¼Œç„¶å¾Œå°‡é€™å€‹ç­†è¨˜é€é HackMD çš„å…§åµŒç­†è¨˜èªæ³•å¥—ç”¨è‡³å…¶ä»–ç­†è¨˜ä¸Šï¼Œé€™æ¨£é‚£äº›ç­†è¨˜éƒ½æœƒå…±äº«ç›¸åŒçš„æ¨£å¼å›‰ï¼å¥½ç¥å¥‡å•Šï¼æ„Ÿè¬ HackMD Developer å¤§å¤§çš„åˆ†äº«ï¼</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Dark Theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€é Docker Compose è¨­å®š network</title>
      <link href="/article/networking-in-docker-compose.html"/>
      <url>/article/networking-in-docker-compose.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/docker-compose.jpg" alt=""></p><p>Docker Compose é è¨­æœƒå»ºç«‹ default networkï¼Œé€™ç¯‡æœƒå‘Šè¨´ä½ å¦‚ä½•è‡ªè¨‚ networkã€å¦‚ä½•ä½¿ç”¨ç¾æœ‰çš„ networkï¼Œä»¥åŠå¦‚ä½•è‡ªè¨‚ network åç¨±ã€‚</p><a id="more"></a><p>Docker Compose é è¨­æœƒå¹«ä½ çš„æ‡‰ç”¨ç¨‹å¼è¨­å®šä¸€å€‹ networkï¼Œservice çš„æ¯å€‹å®¹å™¨éƒ½æœƒåŠ å…¥ default networkï¼Œä¸¦ä¸”è©² network ä¸Šçš„å…¶ä»–å®¹å™¨éƒ½å¯ä»¥é€£æ¥ (reachable) ä»¥åŠç™¼ç¾ (discoverable) èˆ‡å®¹å™¨åç¨±ç›¸åŒçš„ hostnameã€‚</p><p>é è¨­çš„ network åç¨±æ˜¯åŸºæ–¼ â€œå°ˆæ¡ˆç›®éŒ„åç¨±â€ï¼Œä¸¦åŠ ä¸Š <code>_default</code>ã€‚ä¾‹å¦‚ï¼šä½ çš„æ‡‰ç”¨ç¨‹å¼æ”¾åœ¨åç‚º <code>myapp</code> çš„å°ˆæ¡ˆç›®éŒ„ä¸­ï¼Œè€Œ <code>docker-compose.yml</code> çš„å…§å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">web:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">'8000:8000'</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">'8001:5432'</span><br></code></pre></td></tr></table></figure><p>ç•¶ä½ åŸ·è¡Œ <code>docker-compose up</code> æŒ‡ä»¤æ™‚ï¼Œæœƒç™¼ç”Ÿä»¥ä¸‹æƒ…æ³ï¼š</p><ol><li>å»ºç«‹ä¸€å€‹åç‚º <code>myapp_default</code> çš„ network</li><li>ä½¿ç”¨ <code>web</code> çš„è¨­å®šå»ºç«‹å®¹å™¨ï¼Œä¸¦ä»¥ <code>web</code> é€™å€‹åç¨±åŠ å…¥åç‚º <code>myapp_default</code> çš„ network</li><li>ä½¿ç”¨ <code>db</code> çš„è¨­å®šå»ºç«‹å®¹å™¨ï¼Œä¸¦ä»¥ <code>db</code> é€™å€‹åç¨±åŠ å…¥åç‚º <code>myapp_default</code> çš„ network</li></ol><div class="info"><p>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://docs.docker.com/compose/reference/overview/" target="_blank" rel="noopener"><code>--project-name</code> (å¯ç°¡å¯«æˆ <code>-p</code> ) åƒæ•¸</a> æˆ–ä½¿ç”¨ <code>COMPOSE_PROJECT_NAME</code> é€™å€‹ <a href="https://docs.docker.com/compose/reference/envvars/#compose-project-name" target="_blank" rel="noopener">ç’°å¢ƒè®Šæ•¸</a> ä¾†è¤‡å¯«å°ˆæ¡ˆåç¨±ã€‚</p></div><p>ç¾åœ¨ï¼Œæ¯å€‹å®¹å™¨éƒ½å¯ä»¥æ‰¾åˆ°åç‚º <code>web</code> æˆ– <code>db</code> çš„ hostnameï¼Œä¸¦ç²å¾—å°æ‡‰å®¹å™¨çš„ IP ä½å€ã€‚ä¾‹å¦‚ï¼š<code>web</code> çš„æ‡‰ç”¨ç¨‹å¼çš„ç¨‹å¼ç¢¼å¯ä»¥é€£æ¥åˆ° <code>postgres://db:5432</code> çš„ URLï¼Œä¸¦é–‹å§‹ä½¿ç”¨ Postgres è³‡æ–™åº«ã€‚</p><p>ä¸éè¦æ³¨æ„ <code>HOST_PORT</code> å’Œ <code>CONTAINER_PORT</code> ä¹‹é–“çš„å·®åˆ¥ã€‚ä»¥ä¸Šé¢ç¯„ä¾‹ä¸­çš„ <code>db</code> ä¾†èªªï¼Œ<code>HOST_PORT</code> æ˜¯ <code>8001</code>ï¼Œ<code>CONTAINER_PORT</code> æ˜¯ <code>5432</code> (postgres çš„é è¨­ port)ã€‚Networked service-to-service é€šè¨Šä½¿ç”¨ <code>CONTAINER_PORT</code>ã€‚å®šç¾© <code>HOST_PORT</code> ä¹‹å¾Œï¼Œservice ä¹Ÿå¯ä»¥åœ¨ swarm å¤–éƒ¨å­˜å–ã€‚</p><p>åœ¨ <code>web</code> çš„å®¹å™¨ä¸­ï¼Œå¦‚æœè¦é€£æ¥åˆ° <code>db</code> çš„é€£æ¥å­—ä¸²æœƒçœ‹èµ·ä¾†åƒæ˜¯ <code>postgres://db:5432</code> é€™æ¨£ï¼Œè€Œå¾ host machine ä¾†çœ‹ï¼Œé€£æ¥å­—ä¸²çœ‹èµ·ä¾†åƒæ˜¯ <code>postgres://{DOCKER_IP}:8001</code>ã€‚</p><h2 id="æ›´æ–°å®¹å™¨"><a class="header-anchor" href="#æ›´æ–°å®¹å™¨"></a>æ›´æ–°å®¹å™¨</h2><p>å¦‚æœæœ‰è®Šæ›´ service çš„è¨­å®šï¼Œè«‹åŸ·è¡Œ <code>docker-compose up</code> æŒ‡ä»¤ä¾†æ›´æ–° serviceï¼Œå®ƒæœƒåˆªé™¤èˆŠçš„å®¹å™¨ï¼Œè€Œæ–°å®¹å™¨æœƒä»¥ä¸åŒçš„ IP ä½å€åŠ å…¥ç›¸åŒåç¨±çš„ networkã€‚åŸ·è¡Œä¸­çš„å®¹å™¨å¯ä»¥æ‰¾åˆ°è©²åç¨±ä¸¦é€£æ¥åˆ°æ–°çš„ IP ä½å€ï¼Œè€ŒèˆŠçš„ IP ä½å€å°±ç„¡æ³•ä½¿ç”¨ã€‚</p><p>å¦‚æœä»»ä½•å®¹å™¨å°èˆŠå®¹å™¨é–‹æ”¾é€£ç·šï¼Œé‚£é€™äº›å®¹å™¨å°±æœƒè¢«é—œé–‰é€£ç·šã€‚å®¹å™¨æœ‰è²¬ä»»æª¢æ¸¬é€™å€‹æƒ…æ³ï¼Œå†æ¬¡æ‰¾åˆ°åç¨±ä¸¦é‡æ–°é€£æ¥ã€‚</p><h2 id="Links"><a class="header-anchor" href="#Links"></a>Links</h2><p>link åˆ°å¦ä¸€å€‹ service ä¸­çš„å®¹å™¨ã€‚é€é link å¯ä»¥æŒ‡å®š service åç¨±å’Œ link åˆ¥å ( <code>SERVICE:ALIAS</code> ï¼‰ï¼Œæˆ–åƒ…æŒ‡å®š service åç¨±ã€‚é€éè©²åˆ¥åå¯ä»¥å¾å…¶ä»– service å­˜å–åˆ° serviceã€‚link ä¸éœ€è¦å•Ÿç”¨ service é€²è¡Œé€šè¨Š - é è¨­æƒ…æ³ä¸‹ï¼Œä»»ä½• service éƒ½å¯ä»¥é€šéè©² service çš„åç¨±å­˜å–ä»»ä½•å…¶ä»– serviceã€‚</p><p>éˆæ¥ (linked) service çš„å®¹å™¨å¯åœ¨åˆ¥åç›¸åŒçš„ hostname ä¸Šå­˜å–ï¼Œå¦‚æœæœªæŒ‡å®šåˆ¥åï¼Œå‰‡å¯ä»¥å­˜å– service åç¨±ã€‚</p><p>åœ¨ä¸‹é¢ç¯„ä¾‹ä¸­ï¼Œå¯ä»¥å¾ <code>web</code> çš„ hostname <code>db</code> å’Œ <code>database</code> å­˜å–åˆ° <code>db</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">web:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span><br>    <span class="hljs-attr">links:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">'db:database'</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres</span><br></code></pre></td></tr></table></figure><p><code>link</code> å’Œ <a href="https://docs.docker.com/compose/compose-file/#depends_on" target="_blank" rel="noopener"><code>depends_on</code></a> éƒ½æ˜¯ä»¥ç›¸åŒçš„æ–¹å¼è¡¨é” service ä¹‹é–“çš„ä¾è³´é—œä¿‚ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å®ƒå€‘ä¾†æ±ºå®š service å•Ÿå‹•çš„é †åºã€‚</p><div class="info"><ul><li>å¦‚æœåŒæ™‚å®šç¾© <code>links</code> å’Œ <code>networks</code>ï¼Œå‰‡å®ƒå€‘ä¹‹é–“å…·æœ‰ <code>links</code> çš„ service å¿…é ˆå…±äº«è‡³å°‘ä¸€å€‹å…±åŒçš„ç¶²çµ¡æ‰èƒ½é€²è¡Œé€šè¨Šã€‚å»ºè­°ä½¿ç”¨ network</li><li><a href="https://docs.docker.com/engine/reference/commandline/stack_deploy/" target="_blank" rel="noopener">åœ¨ swarm æ¨¡å¼ä¸‹ä½¿ç”¨ Compose æª”æ¡ˆ (v3) éƒ¨ç½² stack æ™‚</a>ï¼Œæœƒå¿½ç•¥ <code>links</code> é€™å€‹ option</li></ul></div><div class="warning"><p><code>--link</code> åƒæ•¸ç‚º legacy åŠŸèƒ½ï¼Œå¯èƒ½æœƒè¢«åˆªé™¤ã€‚ä¸å»ºè­°ä½¿ç”¨ <code>--link</code>ï¼Œå»ºè­°ä½¿ç”¨ <a href="https://docs.docker.com/network/" target="_blank" rel="noopener">user-defined networks</a> (ä½¿ç”¨è€…å®šç¾©çš„ç¶²è·¯) ä¾†ä¿ƒæˆå…©å€‹å®¹å™¨ä¹‹é–“çš„æºé€šã€‚user-defined networks ä¸æ”¯æ´ä½ ç”¨ <code>--link</code> åƒæ•¸åœ¨å®¹å™¨ä¹‹é–“å…±äº«ç’°å¢ƒè®Šæ•¸ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å…¶ä»–æ©Ÿåˆ¶ (ä¾‹å¦‚ï¼švolume)ï¼Œä»¥æ›´å¯æ§çš„æ–¹å¼åœ¨å®¹å™¨ä¹‹é–“å…±äº«ç’°å¢ƒè®Šæ•¸ã€‚</p></div><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.docker.com/compose/compose-file/#links" target="_blank" rel="noopener">Compose file version 3 reference | Docker Documentation</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="Multi-host-networking"><a class="header-anchor" href="#Multi-host-networking"></a>Multi-host networking</h2><div class="info"><p>æ³¨æ„ï¼šæœ¬ç¯€ä¸­çš„èªªæ˜åªé©ç”¨æ–¼ <a href="https://docs.docker.com/compose/swarm/" target="_blank" rel="noopener">legacy Docker Swarm</a> çš„ç›¸é—œæ“ä½œï¼Œä¸¦ä¸”åªæœ‰ç›®æ¨™ç‚º legacy Swarm å¢é›†æ‰æœ‰ç”¨ã€‚æœ‰é—œå°‡ compose å°ˆæ¡ˆéƒ¨ç½²è‡³è¼ƒæ–°çš„æ•´åˆ swarm modeï¼Œè«‹åƒè€ƒ<a href="https://docs.docker.com/compose/bundles/" target="_blank" rel="noopener">Docker Stacks</a> æ–‡ä»¶ã€‚</p></div><p>å°‡ <a href="https://docs.docker.com/compose/swarm/" target="_blank" rel="noopener">Compose æ‡‰ç”¨ç¨‹å¼éƒ¨ç½²è‡³ Swarm å¢é›†</a> æ™‚ï¼Œå¯ä»¥ä½¿ç”¨å…§å»ºçš„ <code>overlay</code> driver åœ¨å®¹å™¨ä¹‹é–“å•Ÿç”¨ multi-host é€šè¨Šï¼Œè€Œç„¡éœ€æ›´æ”¹ Compose æª”æ¡ˆæˆ–æ‡‰ç”¨ç¨‹å¼çš„ç¨‹å¼ç¢¼ã€‚</p><p>æƒ³äº†è§£å¦‚ä½•è¨­å®š Swarm å¢é›†å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.docker.com/network/overlay-standalone.swarm/" target="_blank" rel="noopener">Multi-host networking</a> é€™ç¯‡ã€‚å¢é›†é è¨­æ˜¯ä½¿ç”¨ <code>overlay</code> driverï¼Œä¸éä¹Ÿå¯ä»¥åƒè€ƒä¸‹ä¸€ç¯€æŒ‡å®šå…¶ä»– driverã€‚</p><h2 id="æŒ‡å®šè‡ªå®š-network"><a class="header-anchor" href="#æŒ‡å®šè‡ªå®š-network"></a>æŒ‡å®šè‡ªå®š network</h2><p>è‹¥ä¸æƒ³ä½¿ç”¨é è¨­çš„ app networkï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://docs.docker.com/compose/compose-file/#network-configuration-reference" target="_blank" rel="noopener">top-level <code>networks</code> key</a> ä¾†æŒ‡å®šè‡ªå·±çš„ networkï¼Œè®“ä½ å¯ä»¥å»ºç«‹æ›´è¤‡é›œçš„æ‹“æ’²ï¼Œä¸¦æŒ‡å®š <a href="https://docs.docker.com/engine/extend/plugins_network/" target="_blank" rel="noopener">custom network driver</a> å’Œ optionã€‚é‚„å¯ä»¥ä½¿ç”¨å®ƒï¼Œå°‡ service é€£æ¥åˆ°ä¸ç”± Compose ç®¡ç†ï¼Œè€Œæ˜¯ç”±å¤–éƒ¨å»ºç«‹çš„ networkã€‚</p><p>æ¯å€‹ service éƒ½å¯ä»¥ä½¿ç”¨ <a href="https://docs.docker.com/compose/compose-file/#networks" target="_blank" rel="noopener">service-level <code>networks</code> key</a> æŒ‡å®šè¦é€£æ¥çš„ networkï¼Œè©² key æ˜¯å¼•ç”¨è‡³ <a href="https://docs.docker.com/compose/compose-file/#network-configuration-reference" target="_blank" rel="noopener">top-level <code>networks</code> key</a> ä¸‹çš„åç¨±ã€‚</p><p>ä»¥ä¸‹é¢å®šç¾©çš„å…©å€‹è‡ªå®š network çš„ Compose æª”æ¡ˆç‚ºä¾‹ï¼Œ<code>proxy</code> service èˆ‡ <code>db</code> service éš”é›¢ï¼Œå› ç‚ºå®ƒå€‘ä¸å…±äº«å…±åŒçš„ networkï¼Œåªæœ‰ <code>app</code> å¯ä»¥èˆ‡å…©è€…æºé€šï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">proxy:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">./proxy</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">frontend</span><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">./app</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">frontend</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">frontend:</span><br>    <span class="hljs-comment"># Use a custom driver</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">custom-driver-1</span><br>  <span class="hljs-attr">backend:</span><br>    <span class="hljs-comment"># Use a custom driver which takes special options</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">custom-driver-2</span><br>    <span class="hljs-attr">driver_opts:</span><br>      <span class="hljs-attr">foo:</span> <span class="hljs-string">'1'</span><br>      <span class="hljs-attr">bar:</span> <span class="hljs-string">'2'</span><br></code></pre></td></tr></table></figure><p>é€šéç‚ºæ¯å€‹é€£æ¥ (attached) çš„ network è¨­å®š <a href="https://docs.docker.com/compose/compose-file/#ipv4_address-ipv6_address" target="_blank" rel="noopener"><code>ipv4_address</code> å’Œ/æˆ– <code>ipv6_address</code></a>ï¼Œå¯ä»¥ç‚º network è¨­å®šéœæ…‹ IP ä½å€ã€‚</p><h2 id="è¨­å®š-default-network"><a class="header-anchor" href="#è¨­å®š-default-network"></a>è¨­å®š default network</h2><p>é€éåœ¨ top-level <code>networks</code> key å…§ï¼Œåç‚º <code>default</code> network ä¸‹å®šç¾© entryï¼Œä¾†æ›´æ”¹æ‡‰ç”¨ç¨‹åºç¯„åœ (app-wide) çš„ default network çš„è¨­å®šï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">web:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">'8000:8000'</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">default:</span><br>    <span class="hljs-comment"># Use a custom driver</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">custom-driver-1</span><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-pre-existing-network"><a class="header-anchor" href="#ä½¿ç”¨-pre-existing-network"></a>ä½¿ç”¨ pre-existing network</h2><p>å¦‚æœå¸Œæœ›å®¹å™¨åŠ å…¥é å…ˆå®šç¾©å¥½çš„ networkï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>external</code> optionã€‚</p><p>å¦‚æœ <code>external</code> è¨­ç‚º <code>true</code>ï¼Œå°±æœƒæŒ‡å®šå·²åœ¨ Compose ä¹‹å¤–å…ˆå»ºç«‹çš„é‚£å€‹ networkï¼Œæ‰€ä»¥ <code>docker-compose up</code> ä¸æœƒå˜—è©¦å»ºç«‹æ­¤ networkã€‚</p><p>å¦‚æœæ­¤ network ä¸å­˜åœ¨ï¼Œæœƒå› ç‚ºæ‰¾ä¸åˆ°åƒè€ƒçš„ç›®æ¨™ network è€Œç™¼ç”ŸéŒ¯èª¤ã€‚éŒ¯èª¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker-compose up</span><br>ERROR: Network my_network declared as external, but could be found. Please create the network manually using `docker network create my_network` and try again.<br></code></pre></td></tr></table></figure><p>å¦‚æœæ‰¾ä¸åˆ°æ­¤ networkï¼Œå¯ä»¥åŸ·è¡Œ <code>docker network create [network_name]</code> ä¾†å»ºç«‹ networkã€‚</p><p>åœ¨ Compose v3.3 ä»¥åŠæ›´èˆŠç‰ˆçš„æª”æ¡ˆæ ¼å¼ä¸‹ï¼Œ<code>external</code> ä¸èƒ½è·Ÿå…¶ä»– network configuration keys ä¸€èµ·ä½¿ç”¨ï¼ŒåŒ…æ‹¬ï¼š<code>driver</code>ã€<code>driver_opts</code>ã€<code>ipam</code> å’Œ <code>internal</code> ã€‚Compose <a href="https://docs.docker.com/compose/compose-file/compose-versioning/#version-34" target="_blank" rel="noopener">v3.4</a> ä»¥åŠæ›´æ–°ç‰ˆçš„æ ¼å¼å°±æ²’æœ‰é€™å€‹é™åˆ¶ã€‚</p><p>ä¸‹é¢ç¯„ä¾‹çš„ Compose æœƒæ‰¾åˆ°åç‚º <code>my-network-name</code> çš„å·²å­˜åœ¨çš„ networkï¼Œä¸¦å°‡æ‡‰ç”¨ç¨‹å¼çš„å®¹å™¨é€£æ¥åˆ°è©² networkï¼Œé€™æ¨£å°±ä¸æœƒå˜—è©¦å»ºç«‹ä¸€å€‹åç‚º <code>[projectname]_default</code> çš„ networkï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.7"</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">whatever</span><br>  <span class="hljs-attr">networks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">my-network</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">my-network:</span><br>    <span class="hljs-attr">external:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">my-network-name</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸‹é¢ç¯„ä¾‹ä¸­ï¼Œ<code>proxy</code> æ˜¯é€šå¾€å¤–éƒ¨ä¸–ç•Œçš„ gatewayï¼Œæ‰€ä»¥ä¸éœ€è¦å»ºç«‹ä¸€å€‹åç‚º <code>[projectname]_outside</code> çš„ networkã€‚Compose æœƒæ‰¾åˆ°ä¸€å€‹åç‚º <code>outside</code> çš„å·²å­˜åœ¨çš„ networkï¼Œä¸¦å°‡ <code>proxy</code> service çš„å®¹å™¨é€£æ¥åˆ° <code>outside</code> networkã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.7"</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">proxy:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">./proxy</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">outside</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">default</span><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">./app</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">default</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">outside:</span><br>    <span class="hljs-attr">external:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢ç¯„ä¾‹çš„ Compose ä¸æœƒå˜—è©¦å»ºç«‹ä¸€å€‹åç‚º <code>[projectname]_default</code> çš„ networkï¼ŒCompose æœƒæ‰¾åˆ°åç‚º <code>my-pre-existing-network</code> çš„ networkï¼Œä¸¦å°‡æ‡‰ç”¨ç¨‹å¼çš„å®¹å™¨é€£æ¥åˆ°è©² networkã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.7"</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">default:</span><br>    <span class="hljs-attr">external:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">my-pre-existing-network</span><br></code></pre></td></tr></table></figure><div class="info"><p><code>external.name</code> åœ¨ <a href="https://docs.docker.com/compose/compose-file/compose-versioning/#version-35" target="_blank" rel="noopener">Compose v3.5 æª”æ¡ˆæ ¼å¼</a> ä¸­å·²è¢«æ£„ç”¨ï¼Œè«‹æ”¹ç”¨åŒç‰ˆæœ¬æ–°å¢çš„ <code>name</code>ï¼Œä¸‹ä¸€ç¯€æœƒèªªæ˜ã€‚</p></div><h2 id="è‡ªè¨‚-network-åç¨±"><a class="header-anchor" href="#è‡ªè¨‚-network-åç¨±"></a>è‡ªè¨‚ network åç¨±</h2><p>network ä¹Ÿå¯ä»¥è‡ªè¨‚åç¨±ï¼Œ<code>name</code> å±¬æ€§å¯å¼•ç”¨åŒ…å«ç‰¹æ®Šå­—å…ƒçš„ networkã€‚</p><p>ä¸‹é¢ä»¥é€™å€‹ Compose ç‚ºä¾‹ï¼Œä»‹ç´¹å¦‚ä½•è‡ªè¨‚ network åç¨±ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.5'</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">whatever</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">my-network</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">my-network:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">my-app-network</span><br></code></pre></td></tr></table></figure><p>åœ¨ <a href="https://docs.docker.com/compose/compose-file/#network-configuration-reference" target="_blank" rel="noopener">top-level <code>networks</code> key</a></p><ol><li>å…ˆæŠŠ Compose è£¡é¢çš„ <code>version</code> æ”¹æˆ 3.5 ä»¥ä¸Šï¼Œå› ç‚ºåœ¨ v3.5 ç‰ˆæ‰é–‹å§‹æä¾›è‡ªè¨‚ network åç¨± (ä¹Ÿå°±æ˜¯å¢åŠ  <code>name</code> å±¬æ€§)</li><li>åœ¨ <a href="https://docs.docker.com/compose/compose-file/#networks" target="_blank" rel="noopener">service-level <code>networks</code> key</a> è£¡é¢ (ä¹Ÿå°±æ˜¯è‡ªè¨‚çš„ service å…§çš„ <code>networks</code> )ï¼ŒåŠ å…¥è‡ªè¨‚çš„ network åç¨± (æ­¤ç¯„ä¾‹ç‚º <code>my-network</code> )</li><li>network çš„è©³ç´°å®šç¾©æ˜¯å¯«åœ¨ <a href="https://docs.docker.com/compose/compose-file/#network-configuration-reference" target="_blank" rel="noopener">top-level <code>networks</code> key</a> (ä¹Ÿå°±æ˜¯é€šå¸¸å¯«åœ¨æª”æ¡ˆæœ€å¾Œé¢çš„ <code>networks</code> ) è£¡é¢ã€‚é€™è£¡çš„ network åç¨±è¦å’Œ service-level <code>networks</code> key è£¡é¢è‡ªè¨‚çš„åç¨±å°æ‡‰ (ä¹Ÿå°±æ˜¯ <code>my-network</code> é€™å€‹ network åç¨±è¦å’Œä¸Šé¢ <code>services</code> å…§çš„ä¸€æ¨£)ï¼Œåœ¨ <code>my-network</code> ä¸‹é¢å°±å¯ä»¥ä½¿ç”¨ <code>name</code> å±¬æ€§ä¾†è‡ªå®š network åç¨± ( <code>my-app-network</code> å°±æ˜¯ä½ çœŸæ­£è‡ªè¨‚çš„ network åç¨± )</li></ol><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.docker.com/compose/compose-file/#name-1" target="_blank" rel="noopener">Compose file version 3 reference | Docker Documentation</a> æ–‡ä»¶ã€‚</p></blockquote><p>ä¹Ÿå¯ä»¥èˆ‡ <code>external</code> å±¬æ€§ä¸€èµ·ä½¿ç”¨ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.7"</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">network1:</span><br>    <span class="hljs-attr">external:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">my-app-network</span><br></code></pre></td></tr></table></figure><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://docs.docker.com/compose/networking" target="_blank" rel="noopener">Networking in Compose | Docker Documentation</a></li><li><a href="https://docs.docker.com/compose/compose-file" target="_blank" rel="noopener">Compose file version 3 reference | Docker Documentation</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Container </tag>
            
            <tag> Docker Compose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ GCP å»ºç«‹ Network Load Balancer å’Œ HTTP Load Balancer</title>
      <link href="/article/gcp-network-and-http-load-balancer.html"/>
      <url>/article/gcp-network-and-http-load-balancer.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gcp.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/558?parent=catalog" target="_blank" rel="noopener">Set Up Network and HTTP Load Balancers</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•å»ºç«‹å¤šå€‹ web server instanceï¼Œä»¥åŠå¦‚ä½•å»ºç«‹ network load balancer å’Œ HTTP load balancerã€‚</p><a id="more"></a><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-24-22-19-00.png" alt=""></p><p>åœ¨æ­¤ lab ä¸­ï¼Œä½ å°‡äº†è§£ network load balancer å’Œ HTTP load balancer ä¹‹é–“çš„å·®ç•°ï¼Œä»¥åŠå¦‚ä½•ç‚º Google Compute Engine (GCE) VM ä¸ŠåŸ·è¡Œçš„æ‡‰ç”¨ç¨‹å¼è¨­å®š load balancerã€‚</p><p>ä½ å¯é€šéå¤šç¨®æ–¹å¼<a href="https://cloud.google.com/load-balancing/docs/load-balancing-overview#a_closer_look_at_cloud_load_balancers" target="_blank" rel="noopener">åœ¨ GCP å…§é€²è¡Œè² è¼‰å¹³è¡¡ (load balance)</a>ã€‚æ­¤ lab å°‡æ•™ä½ å®Œæˆä»¥ä¸‹ load balancer çš„è¨­å®šï¼š</p><ul><li>L3 (Network Layer) <a href="https://cloud.google.com/compute/docs/load-balancing/network/" target="_blank" rel="noopener">Network Load Balancer</a></li><li>L7 (Application Layer) <a href="https://cloud.google.com/compute/docs/load-balancing/http/" target="_blank" rel="noopener">HTTP(s) Load Balancer</a></li></ul><h2 id="æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ"><a class="header-anchor" href="#æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ"></a>æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ</h2><ul><li>è¨­å®š network load balancer</li><li>è¨­å®š HTTP load balancer</li><li>é€éå¯¦ä½œï¼Œäº†è§£ network load balancer å’Œ HTTP load balancer ä¹‹é–“çš„å·®ç•°</li></ul><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>åœ¨é»æ“Šã€ŒStart Labã€ä¹‹å‰ï¼Œæº–å‚™å¥½ç¶²è·¯ç€è¦½å™¨ (æ¨è–¦ç”¨ Google Chrome)ï¼Œä¸¦ä¸”è‡³å°‘ 40 åˆ†é˜å¯ä»¥å°ˆæ³¨çš„æ™‚é–“ï¼Œå› ç‚º lab æ˜¯æœ‰æ™‚é–“é™åˆ¶ï¼Œç•¶ä½ æŒ‰ä¸‹ã€ŒStart Labã€é–‹å§‹å­¸ç¿’æ™‚ï¼Œç„¡æ³•æš«åœå€’æ•¸è¨ˆæ™‚ï¼Œä½ åªèƒ½åœ¨é€™æ®µæ™‚é–“å…§ä½¿ç”¨ lab æä¾›çµ¦ä½ çš„å…¨æ–°æš«æ™‚ GCP Console å¯ç”¨å¸³è™Ÿï¼Œæ™‚é–“åˆ°ä¹‹å¾Œçš„å¹¾åˆ†é˜å°±æœƒè‡ªå‹•ç™»å‡ºã€‚</p><div class="warning"><p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰è‡ªå·±çš„å€‹äºº GCP å¸³è™Ÿæˆ–å°ˆæ¡ˆï¼Œè«‹ä¸è¦åœ¨æ­¤ lab ä½¿ç”¨</p></div><h2 id="é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"><a class="header-anchor" href="#é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"></a>é–‹å§‹ä½ çš„ Labï¼Œç„¶å¾Œç™»å…¥ GCP Console</h2><ol><li>å¦‚æœæº–å‚™è¦é–‹å§‹ï¼Œå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼š</li></ol><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-00-25-52.png" alt=""></p><ol start="2"><li>æ¥è‘—æœƒå‡ºç¾é€™å€‹ç•«é¢ï¼Œå› ç‚ºæˆ‘åƒåŠ  <a href="https://www.facebook.com/events/2005848903055499/" target="_blank" rel="noopener">GDG Tainan</a> çš„æ´»å‹•ï¼Œæ´»å‹•æœ‰æä¾› Qwiklabs ä¸€å€‹æœˆçš„å…è²»é¡åº¦ï¼Œæ‰€ä»¥æˆ‘é»é¸ä¸‹åœ–å·¦é‚Šçš„ã€ŒUse Subscriptionã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-21-15.png" alt=""></p><ol start="3"><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><ol start="4"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="5"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="6"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="7"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="å•Ÿå‹•-Google-Cloud-Shell"><a class="header-anchor" href="#å•Ÿå‹•-Google-Cloud-Shell"></a>å•Ÿå‹• Google Cloud Shell</h2><p>Google Cloud Shell æ˜¯è¼‰å…¥äº†é–‹ç™¼å·¥å…·çš„ VMï¼Œå®ƒæä¾› 5GB çš„ home ç›®éŒ„ï¼Œä¸¦åœ¨ Google Cloud ä¸ŠåŸ·è¡Œã€‚å¯ç”¨ Google Cloud Shell æä¾›çš„ command-line ä¾†å­˜å– GCP çš„è³‡æºã€‚</p><ol><li>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><ol start="2"><li>åœ¨æ‰“é–‹çš„å°è©±æ¡†å…§ï¼Œé»æ“Šã€ŒSTART CLOUD SHELLã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-25-23.png" alt=""></p><ol start="3"><li>é€£æ¥å’Œæä¾›ç’°å¢ƒéœ€è¦ä¸€äº›æ™‚é–“ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-05.png" alt=""></p><ol start="4"><li>é€£æ¥å¾Œï¼Œå°±ä»£è¡¨ä½ å·²ç¶“éèº«ä»½é©—è­‰ï¼Œå°ˆæ¡ˆå·²è¨­ç½®ç‚º <code>PROJECT_ID</code>ï¼Œä»¥ä¸‹åœ–çš„ç‚ºä¾‹ï¼Œæ­¤å°ˆæ¡ˆçš„ ID ç‚º <code>qwiklabs-gcp-f9d61ede8167e6b0</code>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-34.png" alt=""></p><p><code>gcloud</code> æ˜¯ GCP çš„ command-line å·¥å…·ï¼Œä»–å·²é å…ˆå®‰è£åœ¨ Cloud Shell ä¸Šï¼Œä¸¦ä¸”æ”¯æ´ tab è‡ªå‹•è£œé½Š (tab-completion)ã€‚</p><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯åˆ—å‡ºæœ‰æ•ˆå¸³è™Ÿåç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>          Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ—å‡ºå°ˆæ¡ˆ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list project</span><br>[core]<br>project = qwiklabs-gcp-f9d61ede8167e6b0<br><br>Your active configuration is: [cloudshell-9292]<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/sdk/gcloud/" target="_blank" rel="noopener">Google Cloud gcloud Overview</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="ç‚ºæ‰€æœ‰è³‡æºè¨­å®šé è¨­çš„-region-å’Œ-zone"><a class="header-anchor" href="#ç‚ºæ‰€æœ‰è³‡æºè¨­å®šé è¨­çš„-region-å’Œ-zone"></a>ç‚ºæ‰€æœ‰è³‡æºè¨­å®šé è¨­çš„ region å’Œ zone</h2><p>åœ¨ Cloud Shell ä¸­ï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤è¨­å®šé è¨­ zone ç‚º <code>us-central1-a</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> compute/zone us-central1<span class="hljs-_">-a</span></span><br>Updated property [compute/zone].<br></code></pre></td></tr></table></figure><p>åœ¨ Cloud Shell ä¸­ï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤è¨­å®šé è¨­ region ç‚º <code>us-central1</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> compute/region us-central1</span><br>Updated property [compute/region].<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank" rel="noopener">Regions &amp; Zones</a> æ–‡ä»¶ã€‚</p></blockquote><div class="info"><p>æ³¨æ„ï¼šåœ¨è‡ªå·±çš„æ©Ÿå™¨ä¸ŠåŸ·è¡Œ <code>gcloud</code> æ™‚ï¼Œ<code>config</code> è¨­å®šåœ¨ session ä¸­ä¿æŒä¸è®Š (persist across)ã€‚åœ¨ Cloud Shell ä¸­ï¼Œä½ éœ€è¦ç‚ºæ¯å€‹æ–°çš„ session æˆ–é‡æ–°é€£æ¥è¨­å®šæ­¤é …ã€‚</p></div><h2 id="å»ºç«‹å¤šå€‹-web-server-instance"><a class="header-anchor" href="#å»ºç«‹å¤šå€‹-web-server-instance"></a>å»ºç«‹å¤šå€‹ web server instance</h2><p>ç‚ºäº†æ¨¡æ“¬ä¾†è‡³ä¸€å€‹å¢é›†ä¸»æ©Ÿçš„æœå‹™ï¼Œè«‹ä½¿ç”¨ <a href="https://cloud.google.com/compute/docs/instance-templates" target="_blank" rel="noopener">Instance Templates</a> å’Œ <a href="https://cloud.google.com/compute/docs/instance-groups/" target="_blank" rel="noopener">Managed Instance Groups</a> å»ºç«‹ä¸€å€‹ç°¡å–®çš„ Nginx web server å¢é›†ä¾†æä¾›éœæ…‹å…§å®¹ã€‚Instance Templates å®šç¾©å¢é›†ä¸­æ¯å€‹ VM çš„è¦æ ¼ (ç¡¬ç¢Ÿã€CPUã€è¨˜æ†¶é«”â€¦ç­‰)ï¼ŒManaged Instance Groups ä½¿ç”¨ Instance Templates å¯¦ä¾‹åŒ– (instantiate) å¤šå€‹ VM instanceã€‚</p><p>è¦å»ºç«‹ä¸€å€‹ Nginx web server å¢é›†ï¼Œè«‹å»ºç«‹ä»¥ä¸‹å…§å®¹ï¼š</p><ul><li>ä¸€å€‹ç”¨ä¾†åœ¨æ¯å€‹ VM instance å•Ÿå‹•æ™‚è¨­å®š Nginx server çš„ startup script</li><li>ä¸€å€‹è¦ä½¿ç”¨ startup script çš„ instance template</li><li>ä¸€å€‹ target pool</li><li>ä¸€å€‹ä½¿ç”¨ instance template çš„ managed instance group</li></ul><h3 id="å»ºç«‹-startup-script"><a class="header-anchor" href="#å»ºç«‹-startup-script"></a>å»ºç«‹ startup script</h3><p>åœ¨ Cloud Shell åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œå»ºç«‹è¦è®“æ¯å€‹ VM instance ä½¿ç”¨çš„ startup scriptã€‚æ­¤ script æœƒåœ¨å•Ÿå‹•æ™‚è¨­å®š Nginx serverï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">cat &lt;&lt; EOF &gt; startup.sh<br><span class="hljs-meta">#! /bin/bash</span><br>apt-get update<br>apt-get install -y nginx<br>service nginx start<br>sed -i -- <span class="hljs-string">'s/nginx/Google Cloud Platform - '</span><span class="hljs-string">"\$HOSTNAME"</span><span class="hljs-string">'/'</span> /var/www/html/index.nginx-debian.html<br>EOF<br></code></pre></td></tr></table></figure><h3 id="å»ºç«‹-instance-template"><a class="header-anchor" href="#å»ºç«‹-instance-template"></a>å»ºç«‹ instance template</h3><p>å»ºç«‹ä¸€å€‹ä½¿ç”¨ startup script çš„ instance templateï¼š</p><ul><li><code>nginx-template</code>ï¼šinstance template çš„åç¨±</li><li><code>--metadata-from-file startup-script=startup.sh</code>ï¼š<code>--metadata-from-file</code> åƒæ•¸æœƒå¾ local æª”æ¡ˆä¸­æ‰¾åˆ°æŒ‡å®šçš„ startup script</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instance-templates create nginx-template \</span><br>         --metadata-from-file startup-script=startup.sh<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/instanceTemplates/nginx-template].<br>NAME            MACHINE_TYPE   PREEMPTIBLE  CREATION_TIMESTAMP<br>nginx-template  n1-standard-1               2019-04-22T04:53:53.045-07:00<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸Šé¢æŒ‡ä»¤æ²’æœ‰æä¾›æ˜ç¢ºçš„ template è¨­å®šï¼Œ<code>gcloud compute</code> æœƒä½¿ç”¨ä»¥ä¸‹é è¨­å€¼å»ºç«‹ templateï¼š</p><ul><li>æ©Ÿå‹ï¼š<code>n1-standard-1</code></li><li>imageï¼šæœ€æ–°ç‰ˆçš„ Debian image</li><li>é–‹æ©Ÿç£ç¢Ÿï¼šä»¥ instance å‘½åçš„æ–°æ¨™æº–é–‹æ©Ÿç£ç¢Ÿ</li><li>ç¶²è·¯ï¼š<code>default</code> VPC ç¶²è·¯</li><li>IP ä½å€ï¼šè‡¨æ™‚çš„å¤–éƒ¨ IP ä½å€</li></ul><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/sdk/gcloud/reference/compute/instance-templates/" target="_blank" rel="noopener"><code>gcloud compute instance-templates</code></a> æ–‡ä»¶ã€‚</p></blockquote><blockquote><p>è‹¥æƒ³äº†è§£æ›´å¤šå»ºç«‹ instance template çš„æ–¹æ³•ï¼Œè©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/instance-templates/create-instance-templates" target="_blank" rel="noopener">Creating Instance Templates</a> æ–‡ä»¶ã€‚</p></blockquote><h3 id="å»ºç«‹-target-pool"><a class="header-anchor" href="#å»ºç«‹-target-pool"></a>å»ºç«‹ target pool</h3><p>target pool è³‡æºå®šç¾©äº†ä¸€çµ„å¯ä»¥å¾ forwarding rules æ¥æ”¶æ”¶åˆ°æµé‡çš„ instanceã€‚ç•¶ forwarding rules å°‡æµé‡å°å‘åˆ° target pool æ™‚ï¼ŒGoogle Cloud Load Balancing æœƒæ ¹æ“š source IP å’Œ port ä»¥åŠç›®æ¨™ IP å’Œ port çš„ hash å€¼ï¼Œå¾é€™äº› target pool ä¸­é¸æ“‡ä¸€å€‹ instanceã€‚</p><p>å»ºç«‹ target poolï¼Œtarget pool å…è¨±å–®å€‹å­˜å–é»åˆ°ç¾¤çµ„ä¸­çš„æ‰€æœ‰ instanceï¼Œè€Œä¸”å°æ–¼ä¹‹å¾Œæ­¥é©Ÿçš„è² è¼‰å¹³è¡¡ä¾†èªªæ˜¯å¿…éœ€çš„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute target-pools create nginx-pool</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../regions/us-central1/targetPools/nginx-pool].<br>NAME        REGION       SESSION_AFFINITY  BACKUP  HEALTH_CHECKS<br>nginx-pool  us-central1  NONE<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼š</p><ul><li>å»ºç«‹ target pool æŒ‡ä»¤ï¼š<a href="https://cloud.google.com/sdk/gcloud/reference/compute/target-pools/create" target="_blank" rel="noopener"><code>gcloud compute target-pools create</code></a></li><li><a href="https://cloud.google.com/load-balancing/docs/network/" target="_blank" rel="noopener">Network Load Balancing Concepts</a></li><li><a href="https://cloud.google.com/load-balancing/docs/target-pools" target="_blank" rel="noopener">Using Target Pools</a></li></ul></blockquote><h3 id="å»ºç«‹-managed-instance-group"><a class="header-anchor" href="#å»ºç«‹-managed-instance-group"></a>å»ºç«‹ managed instance group</h3><p>ä½¿ç”¨ instance template å»ºç«‹ managed instance groupï¼š</p><ul><li><code>nginx-group</code>ï¼šinstance group çš„åç¨±</li><li><code>--base-instance-name nginx</code>ï¼šå…¶ä¸­çš„ <code>nginx</code> æ˜¯æŒ‡åœ¨æ­¤ managed instance group ä¸­å»ºç«‹çš„ instance ä½¿ç”¨çš„åç¨±ã€‚ç”±æ–¼é€™äº› instance éƒ½ä¸€æ¨£ï¼Œç³»çµ±æœƒç”¨éš¨æ©Ÿå­—ä¸²ä¾†ä½œç‚º instance åç¨±çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼šå¦‚æœ base åç¨±æ˜¯ <code>nginx</code>ï¼Œinstance çš„åç¨±å°±å¯èƒ½æœƒæ˜¯ <code>nginx-cl3t</code>ã€<code>nginx-sqgw</code> â€¦ ç­‰</li><li><code>--size 2</code>ï¼šinstance group çš„å¤§å°</li><li><code>--template nginx-template</code>ï¼šç”¨æ–¼æ­¤ç¾¤çµ„çš„ instance template çš„åç¨±</li><li><code>--target-pool nginx-pool</code>ï¼šè¦æ–°å¢æ­¤ instance group çš„ target pool çš„åç¨± (å¯å¤šå€‹ target pool)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instance-groups managed create nginx-group \</span><br>         --base-instance-name nginx \<br>         --size 2 \<br>         --template nginx-template \<br>         --target-pool nginx-pool<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../zones/us-central1-a/instanceGroupManagers/nginx-group].<br>NAME         LOCATION       SCOPE  BASE_INSTANCE_NAME  SIZE  TARGET_SIZE  INSTANCE_TEMPLATE  AUTOSCALED<br>nginx-group  us-central1-a  zone   nginx               0     2            nginx-template     no<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/instance-groups/creating-groups-of-managed-instances" target="_blank" rel="noopener">Creating groups of managed instances</a> æ–‡ä»¶ã€‚</p></blockquote><p>åŸ·è¡Œä¸Šé¢çš„æŒ‡ä»¤å¾Œï¼Œæœƒå»ºç«‹å…©å€‹ VM instanceï¼Œåç¨±æœƒä»¥ <code>nginx-</code> ç‚ºå‰ç¶´ï¼Œå¯èƒ½éœ€è¦ç­‰å¹¾åˆ†é˜ã€‚</p><p>æ¥è‘—æŸ¥çœ‹å·²å»ºç«‹çš„æ‰€æœ‰ compute engine instanceï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances list</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME        ZONE           MACHINE_TYPE   PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP     STATUS<br>nginx-cl3t  us-central1-a  n1-standard-1               10.128.0.3   35.193.149.246  RUNNING<br>nginx-sqgw  us-central1-a  n1-standard-1               10.128.0.2   130.211.208.12  RUNNING<br></code></pre></td></tr></table></figure><h3 id="è¨­å®šé˜²ç«ç‰†"><a class="header-anchor" href="#è¨­å®šé˜²ç«ç‰†"></a>è¨­å®šé˜²ç«ç‰†</h3><p>è¨­å®šé˜²ç«ç‰†å¾Œï¼Œå°±å¯ä»¥é€é <code>EXTERNAL_IP</code> ä½å€å’Œ 80 port ä¾†é€£æ¥æ©Ÿå™¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute firewall-rules create www-firewall --allow tcp:80</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">Creating firewall...â ›Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/firewalls/www-firewall].<br>Creating firewall...done.<br>NAME          NETWORK  DIRECTION  PRIORITY  ALLOW   DENY  DISABLED<br>www-firewall  default  INGRESS    1000      tcp:80        False<br></code></pre></td></tr></table></figure><p>åŸ·è¡Œä¸Šé¢çš„æŒ‡ä»¤å¾Œï¼Œæ‡‰è©²å°±èƒ½é€éå¤–éƒ¨ IP ä½å€ (ä¹Ÿå°±æ˜¯ <code>http://EXTERNAL_IP/</code> ) ä¾†é€£æ¥å‰›å‰›å»ºç«‹çš„å…©å€‹ instanceï¼Œå¯ä»¥åœ¨å„åˆ¥çš„é é¢ä¸­ï¼Œçœ‹åˆ°å„å€‹ instance çš„åç¨±ï¼š</p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-01-58.png" alt=""></p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-02-42.png" alt=""></p><h2 id="å»ºç«‹-Network-Load-Balancer"><a class="header-anchor" href="#å»ºç«‹-Network-Load-Balancer"></a>å»ºç«‹ Network Load Balancer</h2><p>Network load balancing å…è¨±ä½ ä¾æ“šæ”¶åˆ°çš„ IP å”å®šè³‡æ–™ (ä¾‹å¦‚ï¼šä½å€ã€port å’Œå”å®šé¡å‹) ä¾†å¹³è¡¡ç³»çµ±çš„è² è¼‰ã€‚ä½ é‚„å¯ä»¥å–å¾— HTTP(S) load balancing æ²’æœ‰æä¾›çš„ä¸€äº›é¸é …ã€‚ä¾‹å¦‚ï¼šå¯ä»¥å°å…¶ä»–åŸºæ–¼ TCP/UDP çš„å”å®š (ä¾‹å¦‚ï¼šSMTP æµé‡) é€²è¡Œè² è¼‰å¹³è¡¡ã€‚å¦‚æœä½ çš„æ‡‰ç”¨ç¨‹å¼å° TCP é€£æ¥ç›¸é—œçš„ç‰¹æ€§æ„Ÿèˆˆè¶£ï¼Œnetwork load balancing ä¹Ÿå…è¨±ä½ çš„æ‡‰ç”¨ç¨‹å¼å»æª¢æŸ¥å°åŒ…ï¼Œè€Œ HTTP(S) load balancing å‰‡æ²’æœ‰æä¾›ã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/load-balancing/network/" target="_blank" rel="noopener">Setting Up Network Load Balancing</a> æ–‡ä»¶ã€‚</p></blockquote><p>é‡å°ä½ çš„ instance group ä¾†å»ºç«‹ L3 network load balancerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute forwarding-rules create nginx-lb \</span><br>         --region us-central1 \<br>         --ports=80 \<br>         --target-pool nginx-pool<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../regions/us-central1/forwardingRules/nginx-lb].<br></code></pre></td></tr></table></figure><p>Forwarding rule è¦èˆ‡ target pool ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æ”¯æ´ load balancing åŠŸèƒ½ï¼Œè¦ä½¿ç”¨ load balancing å°±å¿…é ˆå»ºç«‹ forwarding ruleï¼Œé€™æ¨£æ‰æœƒå°‡æµé‡å°å‘åˆ°ç‰¹å®šçš„ target pool (ç”¨æ–¼ load balancing)ï¼Œè€Œä¸‹é¢æŒ‡ä»¤ä¸­çš„ <code>--ports=80</code> ä»£è¡¨æŒ‡å‘ target pool çš„å¤–éƒ¨ port ç¯„åœã€‚</p><p>åˆ—å‡ºå°ˆæ¡ˆä¸­æ‰€æœ‰ Google Compute Engine (GCE) çš„ Forwarding ruleï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute forwarding-rules list</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME      REGION       IP_ADDRESS      IP_PROTOCOL  TARGET<br>nginx-lb  us-central1  35.202.173.185  TCP          us-central1/targetPools/nginx-pool<br></code></pre></td></tr></table></figure><p>æ¥è‘—é€é <code>http://IP_ADDRESS/</code> ä¾†å­˜å– load balancerï¼Œ<code>IP_ADDRESS</code> æ˜¯ä¸Šé¢åŸ·è¡Œçš„æŒ‡ä»¤ä¸­æ‰€è¼¸å‡ºçš„ IP ä½å€ã€‚</p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-05-28.png" alt=""></p><h2 id="å»ºç«‹-HTTP-S-Load-Balancer"><a class="header-anchor" href="#å»ºç«‹-HTTP-S-Load-Balancer"></a>å»ºç«‹ HTTP(S) Load Balancer</h2><p>HTTP(S) Load Balancing æä¾›å…¨çƒæ€§çš„ load balancingï¼Œèƒ½å°‡ HTTP è«‹æ±‚é€å¾€ä½ çš„ instanceã€‚ä½ å¯ä»¥è¨­å®š URL è¦å‰‡ï¼Œå°‡ä¸€äº› URL è·¯ç”± (route) åˆ°ä¸€çµ„ instanceï¼Œä¸¦å°‡å…¶ä»– URL è·¯ç”±åˆ°å…¶ä»– instanceã€‚è«‹æ±‚éƒ½æœƒè·¯ç”±åˆ°æœ€æ¥è¿‘ä½¿ç”¨è€…çš„ instance groupï¼Œå‰ææ˜¯è©² group å…·æœ‰è¶³å¤ çš„è³‡æºï¼Œä¸¦ä¸”é©åˆè«‹æ±‚ã€‚å¦‚æœæœ€è¿‘çš„ group æ²’æœ‰è¶³å¤ çš„è³‡æºï¼Œé‚£è«‹æ±‚å°‡æœƒé€è‡³å…·æœ‰è¶³å¤ è³‡æºï¼Œä¸¦ä¸”æ˜¯æœ€æ¥è¿‘ä½¿ç”¨è€…çš„ groupã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/load-balancing/http/" target="_blank" rel="noopener">HTTP(S) Load Balancer</a> æ–‡ä»¶ã€‚</p></blockquote><p>é¦–å…ˆï¼Œå»ºç«‹ <a href="https://cloud.google.com/compute/docs/load-balancing/health-checks" target="_blank" rel="noopener">health check</a>ã€‚health check å¯ä»¥ç¢ºèª instance æ˜¯å¦æœ‰å›æ‡‰ HTTP æˆ– HTTPS æµé‡ï¼Œå…¶ä»–çš„ <code>http-basic-check</code> æ˜¯ legacy health check çš„åç¨±ã€‚åœ¨å°ˆæ¡ˆä¸­ï¼Œæ¯å€‹ legacy health check çš„åç¨±ä¸èƒ½é‡è¤‡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute http-health-checks create http-basic-check</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/httpHealthChecks/http-basic-check].<br>NAME              HOST  PORT  REQUEST_PATH<br>http-basic-check        80    /<br></code></pre></td></tr></table></figure><p>å®šç¾© HTTP serviceï¼Œä¸¦å°‡ port è™Ÿ map åˆ° instance group çš„ç›¸é—œ portã€‚ç¾åœ¨ load balancing service å¯ä»¥å°‡æµé‡ forward åˆ°æŒ‡å®šçš„ port è™Ÿï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instance-groups managed \</span><br>       set-named-ports nginx-group \<br>       --named-ports http:80<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Updated [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../zones/us-central1-a/instanceGroups/nginx-group].<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/instance-groups/creating-groups-of-managed-instances" target="_blank" rel="noopener">Creating groups of managed instances</a> æ–‡ä»¶ã€‚</p></blockquote><p>å»ºç«‹ <a href="https://cloud.google.com/compute/docs/reference/latest/backendServices" target="_blank" rel="noopener">å¾Œç«¯æœå‹™ (backend service)</a>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute backend-services create nginx-backend \</span><br>      --protocol HTTP \<br>      --http-health-checks http-basic-check \<br>      --global<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/backendServices/nginx-backend].<br>NAME           BACKENDS  PROTOCOL<br>nginx-backend            HTTP<br></code></pre></td></tr></table></figure><p>å°‡ instance group åŠ åˆ°å¾Œç«¯æœå‹™ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute backend-services add-backend nginx-backend \</span><br>    --instance-group nginx-group \<br>    --instance-group-zone us-central1-a \<br>    --global<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Updated [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/backendServices/nginx-backend].<br></code></pre></td></tr></table></figure><p>å»ºç«‹ä¸€å€‹é è¨­çš„ URL mapï¼Œå°‡æ‰€æœ‰æ”¶åˆ°çš„è«‹æ±‚å°å‘ä½ çš„æ‰€æœ‰ instanceï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute url-maps create web-map \</span><br>    --default-service nginx-backend<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/urlMaps/web-map].<br>NAME     DEFAULT_SERVICE<br>web-map  backendServices/nginx-backend<br></code></pre></td></tr></table></figure><blockquote><p>è‹¥è¦æ ¹æ“šè«‹æ±‚çš„ URL å°‡æµé‡å°å‘ä¸åŒçš„ instanceï¼Œè©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/load-balancing/http/content-based-example" target="_blank" rel="noopener">content-based routing</a> æ–‡ä»¶ã€‚</p></blockquote><p>å»ºç«‹ target HTTP proxyï¼Œå°‡è«‹æ±‚è·¯ç”±åˆ° URL mapï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute target-http-proxies create http-lb-proxy \</span><br>    --url-map web-map<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/targetHttpProxies/http-lb-proxy].<br>NAME           URL_MAP<br>http-lb-proxy  web-map<br></code></pre></td></tr></table></figure><p>å»ºç«‹ <a href="https://cloud.google.com/load-balancing/docs/https/global-forwarding-rules" target="_blank" rel="noopener">global forwarding rule</a>ï¼Œä»¥è™•ç†å’Œè·¯ç”±æ”¶åˆ°çš„è«‹æ±‚ã€‚forwarding rule æœƒæ ¹æ“šæŒ‡å®šçš„ IP ä½å€ã€IP å”å®šå’Œ portï¼Œå°‡æµé‡é€è‡³ç‰¹å®šçš„ target HTTP æˆ– HTTPS proxyã€‚global forwarding rule ä¸æ”¯æ´å¤š portã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute forwarding-rules create http-content-rule \</span><br>        --global \<br>        --target-http-proxy http-lb-proxy \<br>        --ports 80<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-.../global/forwardingRules/http-content-rule].<br></code></pre></td></tr></table></figure><p>å»ºç«‹ global forwarding rule å¾Œï¼Œè¨­å®šå¯èƒ½éœ€è¦å¹¾åˆ†é˜æ‰èƒ½å‚³æ’­ (propagate)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute forwarding-rules list</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME               REGION       IP_ADDRESS      IP_PROTOCOL  TARGET<br>http-content-rule               34.96.77.47     TCP          http-lb-proxy<br>nginx-lb           us-central1  35.202.173.185  TCP          us-central1/targetPools/nginx-pool<br></code></pre></td></tr></table></figure><p>è¤‡è£½ forwarding rule å…§çš„ <code>http-content-rule</code> ä¸­çš„ <code>IP_ADDRESS</code>ã€‚</p><p>ä½ å¯èƒ½éœ€è¦å¹¾åˆ†é˜æ‰èƒ½é€éç€è¦½å™¨é€£æ¥åˆ° <code>http://IP_ADDRESS/</code>ã€‚å¦‚æœç„¡æ³•é€£æ¥ (å°±åƒä¸‹åœ–é€™æ¨£)ï¼Œè«‹ç¨ç­‰ä¸€ä¸‹ï¼Œå†é‡æ–°æ•´ç†ç€è¦½å™¨ï¼š</p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-15-02.png" alt=""></p><p>ä¸‹é¢å…©å¼µåœ–å°±æ˜¯å¤šæ¬¡é€£æ¥ <code>http://IP_ADDRESS/</code> çš„æ™‚å€™ï¼Œå¸¸æœƒçœ‹åˆ°ç•«é¢åœ¨é€™å…©å€‹ä¹‹å‰å»ºç«‹çš„ VM instance é–“åˆ‡æ›ï¼š</p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-16-47.png" alt=""></p><p><img src="../images/gcp-network-and-http-load-balancer/2019-04-22-20-17-26.png" alt=""></p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/558?parent=catalog" target="_blank" rel="noopener">Set Up Network and HTTP Load Balancers</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GCP </tag>
            
            <tag> HTTP </tag>
            
            <tag> Load Balancer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Kubernetes Engine (GKE) å…¥é–€</title>
      <link href="/article/getting-started-with-google-k8s-engine.html"/>
      <url>/article/getting-started-with-google-k8s-engine.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gke.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/878?parent=catalog" target="_blank" rel="noopener">Kubernetes Engine: Qwik Start</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•é€é GKE å»ºç«‹å®¹å™¨å’Œéƒ¨ç½²å®¹å™¨åŒ–æ‡‰ç”¨ç¨‹å¼ã€‚</p><a id="more"></a><p><img src="../images/getting-started-with-google-k8s-engine/2019-04-18-23-36-15.png" alt=""></p><p><a href="https://cloud.google.com/kubernetes-engine/" target="_blank" rel="noopener">Google Kubernetes Engine</a> (GKE) æä¾›äº†ä¸€å€‹ä»£ç®¡ç’°å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ Google åŸºç¤æ¶æ§‹ä¾†éƒ¨ç½²ã€ç®¡ç†å’Œæ“´å±•å®¹å™¨åŒ–æ‡‰ç”¨ç¨‹å¼ã€‚GKE æä¾›çš„ç’°å¢ƒæ˜¯ç”±å¤šå°æ©Ÿå™¨ (ç‰¹åˆ¥æ˜¯ <a href="https://cloud.google.com/compute" target="_blank" rel="noopener">Google Compute Engine</a> instance) çµ„æˆï¼Œçµ„æˆä¸€å€‹<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-architecture" target="_blank" rel="noopener">å®¹å™¨å¢é›†</a>ã€‚åœ¨æ­¤ lab ä¸­ï¼Œä½ å°‡é€é GKE ä¾†å¯¦éš›ç·´ç¿’å¦‚ä½•å»ºç«‹å®¹å™¨å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚</p><h2 id="GKE-çš„å¢é›†ç·¨æ’ç®¡ç†-orchestration"><a class="header-anchor" href="#GKE-çš„å¢é›†ç·¨æ’ç®¡ç†-orchestration"></a>GKE çš„å¢é›†ç·¨æ’ç®¡ç† (orchestration)</h2><p>GKE å¢é›†æ˜¯ç”± <a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a> é–‹æºå¢é›†ç®¡ç†ç³»çµ±æä¾›æŠ€è¡“æ”¯æ´ã€‚ä½ å¯ä»¥é€é Kubernetes æä¾›çš„æ©Ÿåˆ¶èˆ‡å®¹å™¨å¢é›†äº’å‹•ã€‚å¯ä»¥ä½¿ç”¨ Kubernetes æŒ‡ä»¤å’Œè³‡æºä¾†éƒ¨ç½²ä»¥åŠç®¡ç†æ‡‰ç”¨ç¨‹å¼ã€åŸ·è¡Œç®¡ç†ä»»å‹™ã€åˆ¶è¨‚æ”¿ç­–ï¼Œä»¥åŠç›£æ§å·²éƒ¨ç½²å·¥ä½œè² è¼‰ (workload) çš„å¥åº·ç‹€æ…‹ã€‚</p><p>Kubernetes æ¡ç”¨ç›¸åŒçš„è¨­è¨ˆåŸå‰‡ä¾†åŸ·è¡Œå¸¸ç”¨çš„ Google æœå‹™ï¼Œä¸¦æä¾›ç›¸åŒçš„å„ªå‹¢ï¼šæ‡‰ç”¨ç¨‹åºå®¹å™¨çš„è‡ªå‹•ç®¡ç†ã€ç›£æ§èˆ‡æœ‰æ•ˆæ€§æ¢æ¸¬ (liveness probe)ã€è‡ªå‹•æ“´å±•ï¼Œæ»¾å‹•å‡ç´šâ€¦ç­‰ã€‚ç•¶æ‚¨åœ¨å®¹å™¨å¢é›†ä¸ŠåŸ·è¡Œæ‡‰ç”¨ç¨‹åºæ™‚ï¼Œä½ æ‰€ä½¿ç”¨çš„æŠ€è¡“æ˜¯ç”± Google åœ¨å®¹å™¨ä¸­åŸ·è¡Œ production å·¥ä½œè² è¼‰çš„åé¤˜å¹´ç¶“é©—çš„æŠ€è¡“ã€‚</p><h2 id="GCP-ä¸Šçš„-Kubernetes"><a class="header-anchor" href="#GCP-ä¸Šçš„-Kubernetes"></a>GCP ä¸Šçš„ Kubernetes</h2><p>åŸ·è¡Œ GKE å¢é›†æ™‚ï¼Œä½ ä¹Ÿå¯ä»¥ç²å¾— GCP æ‰€æä¾›çš„é€²éšå¢é›†ç®¡ç†åŠŸèƒ½å„ªé»ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p><ul><li>Google Compute Engine (GCE) instances æä¾›çš„<a href="https://cloud.google.com/compute/docs/load-balancing-and-autoscaling" target="_blank" rel="noopener">è² è¼‰å¹³è¡¡</a></li><li><a href="https://cloud.google.com/kubernetes-engine/docs/concepts/node-pools" target="_blank" rel="noopener">ç¯€é»æ±  (Node Pools)</a> å¯ä»¥æŒ‡å®šå¢é›†ä¸­çš„å­é›†ç¯€é»ï¼Œä»¥ç²å¾—é¡å¤–çš„éˆæ´»æ€§</li><li><a href="https://cloud.google.com/kubernetes-engine/docs/cluster-autoscaler" target="_blank" rel="noopener">è‡ªå‹•æ“´å±• (Automatic scaling)</a> å¢é›†çš„ç¯€é» instance æ•¸é‡</li><li><a href="https://cloud.google.com/kubernetes-engine/docs/concepts/node-auto-upgrades" target="_blank" rel="noopener">è‡ªå‹•å‡ç´š</a>å¢é›†çš„ç¯€é»è»Ÿé«”</li><li><a href="https://cloud.google.com/kubernetes-engine/docs/concepts/node-auto-repair" target="_blank" rel="noopener">è‡ªå‹•ä¿®å¾©ç¯€é»</a>ï¼šå¯ç¶­è­·ç¯€é»çš„å¥åº·ç‹€æ…‹å’Œå¯ç”¨æ€§</li><li>ä½¿ç”¨ Stackdriver ä¾†<a href="https://cloud.google.com/kubernetes-engine/docs/how-to/logging" target="_blank" rel="noopener">è¨˜éŒ„ (logging)</a> å’Œ<a href="https://cloud.google.com/kubernetes-engine/docs/how-to/monitoring" target="_blank" rel="noopener">ç›£æ§</a>ï¼Œç”¨æ–¼æŸ¥çœ‹å¢é›†çš„ç‹€æ…‹</li></ul><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>åœ¨é»æ“Šã€ŒStart Labã€ä¹‹å‰ï¼Œæº–å‚™å¥½ç¶²è·¯ç€è¦½å™¨ (æ¨è–¦ç”¨ Google Chrome)ï¼Œä¸¦ä¸”è‡³å°‘ 40 åˆ†é˜å¯ä»¥å°ˆæ³¨çš„æ™‚é–“ï¼Œå› ç‚º lab æ˜¯æœ‰æ™‚é–“é™åˆ¶ï¼Œç•¶ä½ æŒ‰ä¸‹ã€ŒStart Labã€é–‹å§‹å­¸ç¿’æ™‚ï¼Œç„¡æ³•æš«åœå€’æ•¸è¨ˆæ™‚ï¼Œä½ åªèƒ½åœ¨é€™æ®µæ™‚é–“å…§ä½¿ç”¨ lab æä¾›çµ¦ä½ çš„å…¨æ–°æš«æ™‚ GCP Console å¯ç”¨å¸³è™Ÿï¼Œæ™‚é–“åˆ°ä¹‹å¾Œçš„å¹¾åˆ†é˜å°±æœƒè‡ªå‹•ç™»å‡ºã€‚</p><div class="warning"><p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰è‡ªå·±çš„å€‹äºº GCP å¸³è™Ÿæˆ–å°ˆæ¡ˆï¼Œè«‹ä¸è¦åœ¨æ­¤ lab ä½¿ç”¨</p></div><h2 id="é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"><a class="header-anchor" href="#é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"></a>é–‹å§‹ä½ çš„ Labï¼Œç„¶å¾Œç™»å…¥ GCP Console</h2><ol><li>å¦‚æœæº–å‚™è¦é–‹å§‹ï¼Œå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼š</li></ol><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-00-25-52.png" alt=""></p><ol start="2"><li>æ¥è‘—æœƒå‡ºç¾é€™å€‹ç•«é¢ï¼Œå› ç‚ºæˆ‘åƒåŠ  <a href="https://www.facebook.com/events/2005848903055499/" target="_blank" rel="noopener">GDG Tainan</a> çš„æ´»å‹•ï¼Œæ´»å‹•æœ‰æä¾› Qwiklabs ä¸€å€‹æœˆçš„å…è²»é¡åº¦ï¼Œæ‰€ä»¥æˆ‘é»é¸ä¸‹åœ–å·¦é‚Šçš„ã€ŒUse Subscriptionã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-21-15.png" alt=""></p><ol start="3"><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><ol start="4"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="5"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="6"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="7"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="å•Ÿå‹•-Google-Cloud-Shell"><a class="header-anchor" href="#å•Ÿå‹•-Google-Cloud-Shell"></a>å•Ÿå‹• Google Cloud Shell</h2><p>Google Cloud Shell æ˜¯è¼‰å…¥äº†é–‹ç™¼å·¥å…·çš„ VMï¼Œå®ƒæä¾› 5GB çš„ home ç›®éŒ„ï¼Œä¸¦åœ¨ Google Cloud ä¸ŠåŸ·è¡Œã€‚å¯ç”¨ Google Cloud Shell æä¾›çš„ command-line ä¾†å­˜å– GCP çš„è³‡æºã€‚</p><ol><li>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><ol start="2"><li>åœ¨æ‰“é–‹çš„å°è©±æ¡†å…§ï¼Œé»æ“Šã€ŒSTART CLOUD SHELLã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-25-23.png" alt=""></p><ol start="3"><li>é€£æ¥å’Œæä¾›ç’°å¢ƒéœ€è¦ä¸€äº›æ™‚é–“ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-05.png" alt=""></p><ol start="4"><li>é€£æ¥å¾Œï¼Œå°±ä»£è¡¨ä½ å·²ç¶“éèº«ä»½é©—è­‰ï¼Œå°ˆæ¡ˆå·²è¨­ç½®ç‚º <code>PROJECT_ID</code>ï¼Œä»¥ä¸‹åœ–çš„ç‚ºä¾‹ï¼Œæ­¤å°ˆæ¡ˆçš„ ID ç‚º <code>qwiklabs-gcp-f9d61ede8167e6b0</code>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-34.png" alt=""></p><p><code>gcloud</code> æ˜¯ GCP çš„ command-line å·¥å…·ï¼Œä»–å·²é å…ˆå®‰è£åœ¨ Cloud Shell ä¸Šï¼Œä¸¦ä¸”æ”¯æ´ tab è‡ªå‹•è£œé½Š (tab-completion)ã€‚</p><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯åˆ—å‡ºæœ‰æ•ˆå¸³è™Ÿåç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>          Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ—å‡ºå°ˆæ¡ˆ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list project</span><br>[core]<br>project = qwiklabs-gcp-f9d61ede8167e6b0<br><br>Your active configuration is: [cloudshell-9292]<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/sdk/gcloud/" target="_blank" rel="noopener">Google Cloud gcloud Overview</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="è¨­å®šé è¨­çš„-compute-zone"><a class="header-anchor" href="#è¨­å®šé è¨­çš„-compute-zone"></a>è¨­å®šé è¨­çš„ compute zone</h2><p><a href="https://cloud.google.com/compute/docs/regions-zones/#available" target="_blank" rel="noopener">compute zone</a> æ˜¯ä½ çš„å¢é›†åŠå…¶è³‡æºæ‰€åœ¨çš„å¤§æ¦‚å€åŸŸä½ç½®ï¼Œä¾‹å¦‚ï¼š<code>us-central1-a</code> æ˜¯ <code>us-central1</code> region ä¸­çš„ä¸€å€‹ zoneã€‚</p><p>åœ¨ Cloud Shell ä¸­å•Ÿç”¨æ–°çš„ session ä¸¦åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œå°‡é è¨­ compute zone è¨­ç‚º <code>us-central1-a</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> compute/zone us-central1<span class="hljs-_">-a</span></span><br>Updated property [compute/zone].<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/managing-clusters#before_you_begin" target="_blank" rel="noopener">Managing clusters</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å»ºç«‹-GKE-å¢é›†"><a class="header-anchor" href="#å»ºç«‹-GKE-å¢é›†"></a>å»ºç«‹ GKE å¢é›†</h2><p>ä¸€å€‹<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-architecture" target="_blank" rel="noopener">å¢é›†</a>åŒ…å«è‡³å°‘ä¸€å€‹å¢é›†ä¸»è¦ (master) æ©Ÿå™¨å’Œå¤šå€‹ç¨±ç‚º node çš„å·¥ä½œ (worker) æ©Ÿå™¨çµ„æˆã€‚node æ˜¯ <a href="https://cloud.google.com/compute/docs/instances/" target="_blank" rel="noopener">Google Compute Engine (GCE) çš„ VM instance</a>ï¼ŒåŸ·è¡Œ Kubernetes çš„å¿…è¦ç¨‹åº (process)ï¼Œä½¿å®ƒå€‘æˆç‚ºå¢é›†çš„ä¸€éƒ¨åˆ†ã€‚</p><p>è‹¥è¦å»ºç«‹å¢é›†ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œä¸¦å°‡ <code>[CLUSTER-NAME]</code> æ›¿æ›ç‚ºè‡ªè¨‚çš„å¢é›†åç¨± (ä¾‹å¦‚ï¼š<code>my-cluster</code> )ã€‚å¢é›†åç¨±å¿…é ˆä»¥å­—æ¯é–‹é ­ï¼Œçµå°¾å¿…é ˆæ˜¯å­—æ¯æˆ–æ•¸å­—ï¼Œä¸”ä¸èƒ½è¶…é 40 å€‹å­—å…ƒã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud container clusters create [CLUSTER-NAME]</span><br></code></pre></td></tr></table></figure><p>ä½ å¯ä»¥ç„¡è¦–ä¸‹é¢é€™äº›è¼¸å‡ºå…§çš„ä»»ä½•è­¦å‘Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">WARNING: In June 2019, node auto-upgrade will be enabled by default for newly created clusters and node pools. To disable it, use the `--no-enable-autoupgrade`flag.<br>WARNING: Starting in 1.12, new clusters will have basic authentication disabled by default. Basic authentication can be enabled (or disabled) manually using the `--[no-]enable-basic-auth` flag.<br>WARNING: Starting in 1.12, new clusters will not have a client certificate issued. You can manually enable (or disable) the issuance of the client certificate using the `--[no-]issue-client-certificate` flag.<br>WARNING: Currently VPC-native is not the default mode during cluster creation. In the future, this will become the default mode and can be disabled using `--no-enable-ip-alias` flag. Use `--[no-]enable-ip-alias` flag to suppress this warning.<br>WARNING: Starting in 1.12, default node pools in new clusters will have their legacy Compute Engine instance metadata endpoints disabled by default. To create a cluster with legacy instance metadata endpoints disabled in the default node pool, run `clusters create` with the flag `--metadata disable-legacy-endpoints=true`.<br>This will enable the autorepair feature for nodes. Please see https://cloud.google.com/kubernetes-engine/docs/node-auto-repair for more information on node autorepairs.<br>WARNING: Starting in Kubernetes v1.10, new clusters will no longer get compute-rw and storage-ro scopes added to what is specified in --scopes (though the latter will remain included in the default --scopes). To use these scopes, add them explicitly to --scopes. To use the new behavior, set container/new_scopes_behavior property (gcloud config set container/new_scopes_behavior true).<br></code></pre></td></tr></table></figure><p>å»ºç«‹å¢é›†å¯èƒ½éœ€è¦ä¸€äº›æ™‚é–“ï¼Œå¾ˆå¿«æ‡‰è©²æœƒçœ‹åˆ°é¡ä¼¼ä¸‹é¢çš„è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME        LOCATION       MASTER_VERSION  MASTER_IP      MACHINE_TYPE   NODE_VERSION   NUM_NODES  STATUS<br>my-cluster  us-central1-a  1.11.7-gke.12   104.154.18.48  n1-standard-1  1.11.7-gke.12  3          RUNNING<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-cluster" target="_blank" rel="noopener">Creating a cluster</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å–å¾—å¢é›†çš„é©—è­‰æ†‘è­‰"><a class="header-anchor" href="#å–å¾—å¢é›†çš„é©—è­‰æ†‘è­‰"></a>å–å¾—å¢é›†çš„é©—è­‰æ†‘è­‰</h2><p>å»ºç«‹å¢é›†å¾Œï¼Œéœ€è¦å–å¾—é©—è­‰æ†‘è­‰ (authentication credentials) æ‰èƒ½æ“ä½œå¢é›†ã€‚</p><p>åŸ·è¡Œä¸‹é¢æŒ‡å®šä¾†å°å¢é›†é€²è¡Œé©—è­‰ï¼Œå°‡ <code>[CLUSTER-NAME]</code> æ›¿æ›æˆå¢é›†åæˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud container clusters get-credentials [CLUSTER-NAME]</span><br></code></pre></td></tr></table></figure><p>è¼¸å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">Fetching cluster endpoint and auth data.<br>kubeconfig entry generated for my-cluster.<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-access-for-kubectl" target="_blank" rel="noopener">Cluster access for kubectl</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å°‡æ‡‰ç”¨éƒ¨ç½²è‡³å¢é›†"><a class="header-anchor" href="#å°‡æ‡‰ç”¨éƒ¨ç½²è‡³å¢é›†"></a>å°‡æ‡‰ç”¨éƒ¨ç½²è‡³å¢é›†</h2><p>ç¾åœ¨ä½ å·²ç¶“å»ºç«‹äº†ä¸€å€‹å¢é›†ï¼Œå¯ä»¥å°‡<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/kubernetes-engine-overview" target="_blank" rel="noopener">å®¹å™¨åŒ–æ‡‰ç”¨ç¨‹å¼</a>éƒ¨ç½²åˆ°è©²å¢é›†ã€‚åœ¨æ­¤ lab ä¸­ï¼Œä½ å°‡åœ¨å¢é›†ä¸­åŸ·è¡Œ <code>hello-app</code>ã€‚</p><p>GKE ä½¿ç”¨ Kubernetes ç‰©ä»¶ä¾†å»ºç«‹å’Œç®¡ç†å¢é›†çš„è³‡æºã€‚Kubernetes æä¾› <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener">Deployment</a> ç‰©ä»¶ä¾†éƒ¨ç½² stateless çš„æ‡‰ç”¨ï¼Œä¾‹å¦‚ï¼šweb serverã€‚<a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noopener">Service</a> ç‰©ä»¶å®šç¾©äº†å¾ç¶²éš›ç¶²è·¯ä¸Šå­˜å–æ‡‰ç”¨ç¨‹å¼çš„è¦å‰‡å’Œè² è¼‰å¹³è¡¡ã€‚</p><p>åœ¨ Cloud Shell ä¸­åŸ·è¡Œä¸‹é¢çš„ <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#run" target="_blank" rel="noopener"><code>kubectl run</code></a> æŒ‡ä»¤ï¼Œå¾ <code>hello-app</code> å®¹å™¨ image å»ºç«‹æ–°çš„åç‚º <code>hello-server</code> çš„ <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener">Deployment</a>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl run hello-server --image=gcr.io/google-samples/hello-app:1.0 --port 8080</span><br>deployment.apps "hello-server" created<br></code></pre></td></tr></table></figure><blockquote><p>æˆ‘åœ¨ Github ä¸Šé¢æ‰¾åˆ° <code>hello-app</code> image çš„å°ˆæ¡ˆåŸå§‹ç¢¼ï¼š<a href="https://github.com/GoogleCloudPlatform/kubernetes-engine-samples/tree/master/hello-app" target="_blank" rel="noopener">GoogleCloudPlatform/kubernetes-engine-samples</a></p></blockquote><blockquote><p>å¦‚æœæƒ³åœ¨è‡ªå·±çš„å°ˆæ¡ˆä¸Šä½¿ç”¨è‡ªå·±å»ºç½®çš„å®¹å™¨ imageï¼Œä¸¦å°‡æ­¤ image çš„æ‡‰ç”¨éƒ¨ç½²è‡³ GKEï¼Œå¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/kubernetes-engine/docs/tutorials/hello-app" target="_blank" rel="noopener">Deploying a containerized web application</a> æ–‡ä»¶ã€‚</p></blockquote><p>æ­¤ Kubernetes æŒ‡ä»¤å»ºç«‹ä¸€å€‹ä»£è¡¨ <code>hello-app</code> çš„ Deployment ç‰©ä»¶ã€‚åœ¨æ­¤æŒ‡ä»¤ä¸­ï¼š</p><ul><li><code>--image</code>ï¼šæŒ‡å®šè¦éƒ¨ç½²çš„å®¹å™¨ imageã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œè©²æŒ‡ä»¤å¾ <a href="https://cloud.google.com/container-registry/docs" target="_blank" rel="noopener">Google Container Registry</a> bucket ä¸­ pull ç¯„ä¾‹ imageã€‚<code>gcr.io/google-samples/hello-app:1.0</code> ä»£è¡¨é€™å€‹æŒ‡ä»¤è¦ pull çš„ç‰¹å®š image ç‰ˆæœ¬ã€‚å¦‚æœæœªæŒ‡å®šç‰ˆæœ¬ï¼Œæœƒä½¿ç”¨æœ€æ–°ç‰ˆ</li><li><code>--port</code>ï¼šæŒ‡å®šå®¹å™¨è¦å…¬é–‹çš„ port</li></ul><h2 id="å°‡æ‡‰ç”¨å…¬é–‹ç™¼ä½ˆåˆ°ç¶²éš›ç¶²è·¯"><a class="header-anchor" href="#å°‡æ‡‰ç”¨å…¬é–‹ç™¼ä½ˆåˆ°ç¶²éš›ç¶²è·¯"></a>å°‡æ‡‰ç”¨å…¬é–‹ç™¼ä½ˆåˆ°ç¶²éš›ç¶²è·¯</h2><p>æ ¹æ“šé è¨­ï¼Œåœ¨ GKE ä¸ŠåŸ·è¡Œçš„å®¹å™¨ç„¡æ³•å¾ç¶²éš›ç¶²è·¯å­˜å–ï¼Œå› ç‚ºé€™äº›å®¹å™¨æ²’æœ‰å¤–éƒ¨ IP ä½å€ã€‚æ‰€ä»¥ä½ å¿…é ˆåŸ·è¡Œ <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#expose" target="_blank" rel="noopener"><code>kubectl expose</code></a> é€™å€‹æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl expose deployment hello-server --<span class="hljs-built_in">type</span>=<span class="hljs-string">"LoadBalancer"</span></span><br>service/hello-server exposed<br></code></pre></td></tr></table></figure><p>æ­¤æŒ‡ä»¤æœƒå»ºç«‹ä¸€å€‹ Kubernetes Serviceï¼Œå®ƒæ˜¯ä¸€å€‹ Kubernetes è³‡æºã€‚GKE æœƒç‚ºæ‡‰ç”¨ç¨‹å¼å»ºç«‹å¤–éƒ¨ IPï¼Œæ˜ç¢ºåœ°å°‡æ‡‰ç”¨ç¨‹åºå…¬é–‹çµ¦ä¾†è‡ªç¶²éš›ç¶²è·¯çš„æµé‡ (å¤–éƒ¨æµé‡)ã€‚åŠ ä¸Š <code>type=&quot;LoadBalancer&quot;</code> åƒæ•¸æœƒç‚ºå®¹å™¨å»ºç«‹ä¸€å€‹ GCE çš„ Load Balancer (åœ¨è‡ªå·±çš„å°ˆæ¡ˆä¸Šä½¿ç”¨<a href="https://cloud.google.com/compute/pricing#lb" target="_blank" rel="noopener">éœ€è¦è¨ˆè²»</a>)ã€‚</p><p>GKE æœƒå°‡å¤–éƒ¨ IP ä½å€æŒ‡æ´¾çµ¦ Service è³‡æºï¼Œè€Œä¸æ˜¯æŒ‡æ´¾çµ¦ Deploymentã€‚å¦‚æœä½ æƒ³è¦æ‰¾å‡º GKE ç‚ºæ‡‰ç”¨ç¨‹å¼ä½ˆå»º (provisioned) çš„å¤–éƒ¨ IPï¼Œå¯åŸ·è¡Œ <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#get" target="_blank" rel="noopener"><code>kubectl get service</code></a> ä¾†æª¢æŸ¥ <code>hello-server</code> Serviceï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl get service hello-server</span><br></code></pre></td></tr></table></figure><div class="info"><p>ç”¢ç”Ÿå¤–éƒ¨ IP ä½å€å¯èƒ½éœ€è¦ä¸€åˆ†é˜ã€‚å¦‚æœ <code>EXTERNAL-IP</code> æ¬„ä½é¡¯ç¤ºç‚º <code>pending</code> ç‹€æ…‹æ™‚ (å¦‚ä¸‹)ï¼Œè«‹ç­‰å¾…ä¸€æ®µæ™‚é–“å¾Œï¼Œå†æ¬¡åŸ·è¡Œä¸Šé¢çš„æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME           TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE<br>hello-server   LoadBalancer   10.39.249.21   &lt;pending&gt;     8080:31693/TCP   51s<br></code></pre></td></tr></table></figure></div><p>ç¢ºèªæ‡‰ç”¨ç¨‹å¼çš„å¤–éƒ¨ IP ä½å€å¾Œ ( <code>EXTERNAL-IP</code> æ¬„ä½æä¾›çš„ IP)ï¼Œè«‹è¤‡è£½æ­¤ IP ä½å€ï¼Œä»¥ä¸‹é¢çš„è¼¸å‡ºç¯„ä¾‹ä¾†èªªï¼Œè¦è¤‡è£½çš„ Service å¤–éƒ¨ IP ä½å€å°±æ˜¯ <code>35.222.35.96</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">NAME           TYPE           CLUSTER-IP     EXTERNAL-IP    PORT(S)          AGE<br>hello-server   LoadBalancer   10.39.249.21   35.222.35.96   8080:31693/TCP   1m<br></code></pre></td></tr></table></figure><p>æ¥è‘—å°‡å‰›å‰›è¤‡è£½çš„å¤–éƒ¨ IP ä½å€ï¼ŒåŠ ä¸Šå…¬é–‹çš„ portï¼Œç¶²å€æ ¼å¼å°±æœƒåƒä¸‹é¢é€™æ¨£ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">http:&#x2F;&#x2F;[EXTERNAL-IP]:8080<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ç€è¦½å™¨é–‹å•Ÿæ­¤ç¶²å€ï¼ŒæŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ˜¯å¦èƒ½å­˜å–ã€‚</p><p>çœ‹åˆ°çš„é é¢æ‡‰è©²æœƒåƒä¸‹åœ–é€™æ¨£ï¼š</p><p><img src="../images/getting-started-with-google-k8s-engine/2019-04-18-23-26-18.png" alt=""></p><h2 id="æ¸…é™¤"><a class="header-anchor" href="#æ¸…é™¤"></a>æ¸…é™¤</h2><p>åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¾†åˆªé™¤ Serviceï¼Œæ­¤æ­¥é©Ÿå°‡å–æ¶ˆåˆ†é…ç‚ºä½ çš„ Service æ‰€å»ºç«‹çš„ Cloud Load Balancerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl delete service hello-server</span><br></code></pre></td></tr></table></figure><p>åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¾†åˆªé™¤å®¹å™¨å¢é›†ï¼Œæ­¤æ­¥é©Ÿæœƒä¸€ä½µåˆªé™¤å®¹å™¨å¢é›†çš„çµ„æˆè³‡æºï¼Œä¾‹å¦‚ï¼šé‹ç®—åŸ·è¡Œå€‹é«”ã€ç£ç¢Ÿå’Œç¶²è·¯è³‡æºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud container clusters delete [CLUSTER-NAME]</span><br>The following clusters will be deleted.<br> - [my-cluster] in [us-central1-a]<br><br>Do you want to continue (Y/n)?<br></code></pre></td></tr></table></figure><p>ç•¶å‡ºç¾æç¤ºæ™‚ï¼Œè¼¸å…¥ <code>Y</code> é€²è¡Œç¢ºèªã€‚åˆªé™¤å¢é›†å¯èƒ½éœ€è¦ä¸€äº›æ™‚é–“ã€‚åˆªé™¤å¢é›†å¾Œçš„è¼¸å‡ºæœƒåƒä¸‹é¢é€™æ¨£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">The following clusters will be deleted.<br> - [my-cluster] in [us-central1-a]<br><br>Do you want to continue (Y/n)?  y<br><br>Deleting cluster my-cluster...done.<br>Deleted [https://container.googleapis.com/v1/projects/qwiklabs-gcp-deb218c6553ee39c/zones/us-central1-a/clusters/my-cluster].<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯æŸ¥çœ‹å®˜æ–¹çš„ <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/deleting-a-cluster" target="_blank" rel="noopener">Deleting a cluster |Â Google Kubernetes Engine</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/878?parent=catalog" target="_blank" rel="noopener">Kubernetes Engine: Qwik Start | Qwiklabs</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Container </tag>
            
            <tag> GCP </tag>
            
            <tag> Load Balancer </tag>
            
            <tag> Kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Cloud Shell å…¥é–€ï¼šgcloud &amp; gsutil</title>
      <link href="/article/getting-started-with-cloud-shell-gcloud-and-gsutil.html"/>
      <url>/article/getting-started-with-cloud-shell-gcloud-and-gsutil.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gcp.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/563?parent=catalog" target="_blank" rel="noopener">Getting Started with Cloud Shell &amp; gcloud</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ <code>gcloud</code> æŒ‡ä»¤ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ <code>gsutil</code> å·¥å…·ä¾†ç®¡ç† Cloud Storage è³‡æºï¼Œå°‡æª”æ¡ˆä¸Šå‚³è‡³æŒ‡å®šçš„ bucketã€‚</p><a id="more"></a><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-01-56-04.png" alt=""></p><p>Google Cloud Shell ç‚ºä½ æä¾› <code>gcloud</code> command-line å­˜å– GCP ä¸Šè¨—ç®¡çš„é‹ç®—è³‡æºã€‚Cloud Shell æ˜¯åŸºæ–¼ Debian çš„ VMï¼Œå…·æœ‰ 5 GB persistent disk çš„ home ç›®éŒ„ï¼Œè®“ä½ å¯ä»¥è¼•é¬†ç®¡ç† GCP å°ˆæ¡ˆå’Œè³‡æºã€‚ä½ éœ€è¦çš„ Cloud SDK <code>gcloud</code> å’Œå…¶ä»–å·¥å…·éƒ½å·²é è£åœ¨ Cloud Shell ä¸­ï¼Œè®“ä½ å¯ä»¥å¿«é€Ÿå•Ÿå‹•å’ŒåŸ·è¡Œã€‚</p><blockquote><p>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-nignx-web-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ NIGNX Web server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚<br>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-windows-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ Windows Server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚</p></blockquote><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>åœ¨é»æ“Šã€ŒStart Labã€ä¹‹å‰ï¼Œæº–å‚™å¥½ç¶²è·¯ç€è¦½å™¨ (æ¨è–¦ç”¨ Google Chrome)ï¼Œä¸¦ä¸”è‡³å°‘ 40 åˆ†é˜å¯ä»¥å°ˆæ³¨çš„æ™‚é–“ï¼Œå› ç‚º lab æ˜¯æœ‰æ™‚é–“é™åˆ¶ï¼Œç•¶ä½ æŒ‰ä¸‹ã€ŒStart Labã€é–‹å§‹å­¸ç¿’æ™‚ï¼Œç„¡æ³•æš«åœå€’æ•¸è¨ˆæ™‚ï¼Œä½ åªèƒ½åœ¨é€™æ®µæ™‚é–“å…§ä½¿ç”¨ lab æä¾›çµ¦ä½ çš„å…¨æ–°æš«æ™‚ GCP Console å¯ç”¨å¸³è™Ÿï¼Œæ™‚é–“åˆ°ä¹‹å¾Œçš„å¹¾åˆ†é˜å°±æœƒè‡ªå‹•ç™»å‡ºã€‚</p><div class="warning"><p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰è‡ªå·±çš„å€‹äºº GCP å¸³è™Ÿæˆ–å°ˆæ¡ˆï¼Œè«‹ä¸è¦åœ¨æ­¤ lab ä½¿ç”¨</p></div><h2 id="é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"><a class="header-anchor" href="#é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"></a>é–‹å§‹ä½ çš„ Labï¼Œç„¶å¾Œç™»å…¥ GCP Console</h2><ol><li>å¦‚æœæº–å‚™è¦é–‹å§‹ï¼Œå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼š</li></ol><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-00-25-52.png" alt=""></p><ol start="2"><li>æ¥è‘—æœƒå‡ºç¾é€™å€‹ç•«é¢ï¼Œå› ç‚ºæˆ‘åƒåŠ  <a href="https://www.facebook.com/events/2005848903055499/" target="_blank" rel="noopener">GDG Tainan</a> çš„æ´»å‹•ï¼Œæ´»å‹•æœ‰æä¾› Qwiklabs ä¸€å€‹æœˆçš„å…è²»é¡åº¦ï¼Œæ‰€ä»¥æˆ‘é»é¸ä¸‹åœ–å·¦é‚Šçš„ã€ŒUse Subscriptionã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-21-15.png" alt=""></p><ol start="3"><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><ol start="4"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="5"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="6"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="7"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="å•Ÿå‹•-Google-Cloud-Shell"><a class="header-anchor" href="#å•Ÿå‹•-Google-Cloud-Shell"></a>å•Ÿå‹• Google Cloud Shell</h2><p>Google Cloud Shell æ˜¯è¼‰å…¥äº†é–‹ç™¼å·¥å…·çš„ VMï¼Œå®ƒæä¾› 5GB çš„ home ç›®éŒ„ï¼Œä¸¦åœ¨ Google Cloud ä¸ŠåŸ·è¡Œã€‚å¯ç”¨ Google Cloud Shell æä¾›çš„ command-line ä¾†å­˜å– GCP çš„è³‡æºã€‚</p><ol><li>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><ol start="2"><li>åœ¨æ‰“é–‹çš„å°è©±æ¡†å…§ï¼Œé»æ“Šã€ŒSTART CLOUD SHELLã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-25-23.png" alt=""></p><ol start="3"><li>é€£æ¥å’Œæä¾›ç’°å¢ƒéœ€è¦ä¸€äº›æ™‚é–“ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-05.png" alt=""></p><ol start="4"><li>é€£æ¥å¾Œï¼Œå°±ä»£è¡¨ä½ å·²ç¶“éèº«ä»½é©—è­‰ï¼Œå°ˆæ¡ˆå·²è¨­ç½®ç‚º <code>PROJECT_ID</code>ï¼Œä»¥ä¸‹åœ–çš„ç‚ºä¾‹ï¼Œæ­¤å°ˆæ¡ˆçš„ ID ç‚º <code>qwiklabs-gcp-f9d61ede8167e6b0</code>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-34.png" alt=""></p><p><code>gcloud</code> æ˜¯ GCP çš„ command-line å·¥å…·ï¼Œä»–å·²é å…ˆå®‰è£åœ¨ Cloud Shell ä¸Šï¼Œä¸¦ä¸”æ”¯æ´ tab è‡ªå‹•è£œé½Š (tab-completion)ã€‚</p><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯åˆ—å‡ºæœ‰æ•ˆå¸³è™Ÿåç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>          Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ—å‡ºå°ˆæ¡ˆ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list project</span><br>[core]<br>project = qwiklabs-gcp-f9d61ede8167e6b0<br><br>Your active configuration is: [cloudshell-9292]<br></code></pre></td></tr></table></figure><h2 id="ç†è§£-Regions-å’Œ-Zones"><a class="header-anchor" href="#ç†è§£-Regions-å’Œ-Zones"></a>ç†è§£ Regions å’Œ Zones</h2><p>Compute Engine è³‡æºä½æ–¼ä¸åŒçš„ regions (åœ°å€) æˆ– zones (å€åŸŸ)ã€‚region æ˜¯ä½ å¯ä»¥åŸ·è¡Œè³‡æºçš„æ‰€åœ¨ç‰¹å®šåœ°ç†ä½ç½®ã€‚æ¯å€‹ region éƒ½æœ‰ä¸€å€‹æˆ–å¤šå€‹ zonesã€‚ä¾‹å¦‚ï¼Œ<code>us-central1</code> region ä»£è¡¨ç¾åœ‹ä¸­éƒ¨åœ°å€ï¼Œå…¶ä¸­åŒ…å«çš„ Zones æœ‰ <code>us-central1-a</code>ã€<code>us-central1-b</code>ã€<code>us-central1-c</code> èˆ‡ <code>us-central1-f</code>ã€‚</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-17-58-23.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><p>ä½æ–¼ zone ä¸­çš„è³‡æºéƒ½ç¨±ç‚º zonel (å€åŸŸ) è³‡æºï¼ŒVM instance (å¯¦ä¾‹) å’Œ persistent disk (æ°¸ä¹…ç£ç¢Ÿ) éƒ½ä½æ–¼ zone ä¸­ï¼Œå¦‚æœè¦å°‡ persistent disk é™„åŠ åˆ° VM instanceï¼Œé€™å…©å€‹è³‡æºéƒ½å¿…é ˆä½æ–¼åŒä¸€å€‹ zone ä¸­ã€‚åŒæ¨£ï¼Œå¦‚æœè¦å°‡éœæ…‹ IP ä½å€åˆ†é…åˆ° instanceï¼Œæ­¤ instance å°±å¿…é ˆèˆ‡éœæ…‹ IP ä½æ–¼åŒä¸€å€‹ region ä¸­ã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒ GCP å®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank" rel="noopener">Regions &amp; Zones</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="ä½¿ç”¨-command-line"><a class="header-anchor" href="#ä½¿ç”¨-command-line"></a>ä½¿ç”¨ command line</h2><p>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•é–‹å•Ÿæ–°çš„ Cloud Shell sessionï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><p>å•Ÿç”¨ Cloud Shell å¾Œï¼Œä½ å¯ä»¥ä½¿ç”¨ command line invoke Cloud SDK <code>gcloud</code> æŒ‡ä»¤æˆ– VM instance ä¸Šå¯ç”¨çš„å…¶ä»–å·¥å…·ï¼Œé‚„å¯ä»¥åœ¨ä¸åŒå°ˆæ¡ˆå’Œ Cloud Shell session ä¹‹é–“ï¼Œå°‡è¦å­˜å–çš„æª”æ¡ˆå„²å­˜åœ¨ persistent disk storage çš„ <code>$HOME</code> ç›®éŒ„å…§ã€‚<code>$HOME</code> ç›®éŒ„æ˜¯ç§æœ‰çš„ï¼Œå…¶ä»–ä½¿ç”¨è€…ç„¡æ³•å­˜å–ã€‚</p><p>å¯ä»¥åœ¨ä»»ä½• <code>gcloud</code> æŒ‡ä»¤çš„æœ«ç«¯åŠ ä¸Š <code>-h</code> åƒæ•¸ä¾†æŸ¥çœ‹ä½¿ç”¨æŒ‡å—ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud -h</span><br></code></pre></td></tr></table></figure><p>åŠ ä¸Š <code>--help</code> åƒæ•¸æˆ–åŸ·è¡Œ <code>gcloud help</code> å¯ä»¥æŸ¥çœ‹æ›´è©³ç´°çš„ help å…§å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config --<span class="hljs-built_in">help</span></span><br></code></pre></td></tr></table></figure><p>é€éæŒ‰ <code>Enter</code> æˆ–ç©ºç™½å»ºä¾†æ²å‹•ç€è¦½ help å…§å®¹ï¼ŒæŒ‰ <code>q</code> æŒ‰éµæœƒé€€å‡ºå…§å®¹ã€‚</p><p>ä¸‹é¢å…©å€‹æŒ‡ä»¤æ˜¯ä¸€æ¨£çš„æ„æ€ï¼Œéƒ½æ˜¯ç”¨ä¾†æŸ¥çœ‹è©³ç´°çš„ help å…§å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config --<span class="hljs-built_in">help</span></span><br><span class="hljs-meta">$</span><span class="bash"> gcloud <span class="hljs-built_in">help</span> config</span><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä½ çš„-home-ç›®éŒ„"><a class="header-anchor" href="#ä½¿ç”¨ä½ çš„-home-ç›®éŒ„"></a>ä½¿ç”¨ä½ çš„ home ç›®éŒ„</h2><p>ç¾åœ¨è®“æˆ‘å€‘è©¦è©¦ä½ çš„ <code>HOME</code> ç›®éŒ„ã€‚å°±ç®—å»çµ‚æ­¢å’Œé‡å•Ÿ VMï¼ŒCloud Shell <code>HOME</code> éŒ„çš„å…§å®¹éƒ½æœƒåœ¨æ‰€æœ‰ Cloud Shell session ä¹‹é–“çš„å°ˆæ¡ˆä¸­ä¿ç•™ã€‚</p><p>è®Šæ›´ç›®å‰çš„å·¥ä½œç›®éŒ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> <span class="hljs-variable">$HOME</span></span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>vi</code> æ‰“é–‹ <code>.bashrc</code> è¨­å®šæª”ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> vi ./.bashrc</span><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-gcloud-æŒ‡ä»¤"><a class="header-anchor" href="#ä½¿ç”¨-gcloud-æŒ‡ä»¤"></a>ä½¿ç”¨ gcloud æŒ‡ä»¤</h2><p>æª¢è¦–ç’°å¢ƒå…§çš„è¨­å®šåˆ—è¡¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list</span><br></code></pre></td></tr></table></figure><p>å¦‚æœè¦æª¢æŸ¥å…¶ä»–å±¬æ€§çš„è¨­å®šï¼Œè«‹åœ¨æŒ‡ä»¤å¾Œé¢åŠ ä¸Š <code>--all</code> åƒæ•¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list --all</span><br></code></pre></td></tr></table></figure><h2 id="ç®¡ç†-Cloud-Storage-è³‡æ–™"><a class="header-anchor" href="#ç®¡ç†-Cloud-Storage-è³‡æ–™"></a>ç®¡ç† Cloud Storage è³‡æ–™</h2><p>å¯ä»¥ä½¿ç”¨ Cloud Shell ä¸­çš„ <code>gsutil</code> å·¥å…·ä¾†ç®¡ç† Cloud Storage è³‡æºï¼ŒåŒ…æ‹¬å»ºç«‹å’Œåˆªé™¤ bucket å’Œç‰©ä»¶ã€è¤‡è£½å’Œç§»å‹•å„²å­˜è³‡æ–™ä»¥åŠç®¡ç† bucket å’Œç‰©ä»¶ ACLs (Access Control List)ã€‚<code>gsutil</code> é‚„èƒ½å°‡è³‡æ–™å‚³å…¥å’Œå‚³å‡º Cloud Shell instanceã€‚</p><p>bucket æ˜¯ç”¨æ–¼å„²å­˜è³‡æ–™çš„åŸºæœ¬å®¹å™¨ï¼Œå„²å­˜åœ¨ Cloud Storage çš„æ‰€æœ‰è³‡æ–™éƒ½å¿…é ˆæ”¾åœ¨ bucket ä¸­ã€‚ä½ å¯ä»¥ç”¨ bucket ä¾†æ•´ç†è³‡æ–™ã€æ§åˆ¶è³‡æ–™çš„å­˜å–æ¬Šï¼Œä½† bucket ä¸èƒ½åƒç›®éŒ„å’Œè³‡æ–™å¤¾å¯ä»¥å·¢ç‹€å„²å­˜ã€‚ç”±æ–¼<a href="https://cloud.google.com/storage/quotas" target="_blank" rel="noopener">å»ºç«‹å’Œåˆªé™¤ bucket æœ‰ä¸€äº›é™åˆ¶</a>ï¼Œæ‰€ä»¥ä½ è¨­è¨ˆçš„å„²å­˜æ‡‰ç”¨ç¨‹å¼æ‡‰å„˜é‡åŸ·è¡Œå¯†é›†çš„ç‰©ä»¶ä½œæ¥­å’Œç›¸å°è¼ƒå°‘çš„ bucket ä½œæ¥­ã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/storage/docs/key-terms#buckets" target="_blank" rel="noopener">Buckets</a>ã€<a href="https://cloud.google.com/storage/docs/creating-buckets#storage-create-bucket-gsutil" target="_blank" rel="noopener">Creating Storage Buckets</a> å’Œ <a href="https://cloud.google.com/storage/docs/access-control/lists?hl=zh-tw" target="_blank" rel="noopener">Access Control List (ACL)</a> æ–‡ä»¶ã€‚</p></blockquote><p>å˜—è©¦å»ºç«‹ Cloud Storage bucketï¼Œbucket åç¨±ä¸èƒ½é‡è¤‡ï¼Œå› æ­¤è«‹å°‡ <code>unique-name</code> æ›¿æ›ç‚ºå…¶ä»–åç¨±ï¼Œæˆ–è€… append åç¨±è®“å®ƒä¸é‡è¤‡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil mb gs://unique-name</span><br></code></pre></td></tr></table></figure><p>åƒæˆ‘æ˜¯ä½¿ç”¨åç‚º <code>unique-name-titan</code> çš„ bucketï¼Œå‰›å¥½æ²’æœ‰é‡è¤‡ï¼Œæ‰€ä»¥æˆåŠŸå»ºç«‹äº† bucketï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil mb gs://unique-name-titan</span><br>Creating gs://unique-name-titan/...<br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨é‡è¤‡çš„ bucket åç¨±å°±æœƒå‡ºç¾é¡ä¼¼ä¸‹é¢çš„è¨Šæ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil mb gs://unique-name</span><br>Creating gs://unique-name/...<br>ServiceException: 409 Bucket unique-name already exists.<br></code></pre></td></tr></table></figure><p>ç¾åœ¨ä¾†å»ºç«‹ä¸€äº›è³‡æ–™ï¼Œä¸Šå‚³åˆ°ä½ çš„ bucketã€‚é¦–å…ˆï¼Œå»ºç«‹ä¸€å€‹æ¸¬è©¦æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> vi test.dat</span><br></code></pre></td></tr></table></figure><p>åŠ ä¸€äº›è³‡æ–™é€²å»ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Welcome to gcloud!<br></code></pre></td></tr></table></figure><p>å­˜å„²æª”æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">:wq<br></code></pre></td></tr></table></figure><p>ç¾åœ¨ï¼Œä¸Šå‚³ä¸€äº›æª”æ¡ˆåˆ°ä½ å»ºç«‹çš„ bucketï¼Œè«‹å°‡ <code>unique-name</code> å–ä»£æˆä½ çš„ storage bucketï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil cp test.dat gs://unique-name</span><br></code></pre></td></tr></table></figure><p>å‰›å‰›æˆ‘æ˜¯ä½¿ç”¨ <code>unique-name-titan</code> çš„ bucketï¼Œæ‰€ä»¥ä¸Šå‚³æŒ‡ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å·²æˆåŠŸä¸Šå‚³ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil cp test.dat gs://unique-name-titan</span><br>Copying file://test.dat [Content-Type=application/octet-stream]...<br>- [1 files][   19.0 B/   19.0 B]<br>Operation completed over 1 objects/19.0 B.<br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ä½¿ç”¨é‡è¤‡çš„ bucket åç¨±ä¸Šå‚³ï¼Œå°±æœƒå‡ºç¾é¡ä¼¼ä¸‹é¢çš„è¨Šæ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gsutil cp test.dat gs://unique-name</span><br>Copying file://test.dat [Content-Type=application/octet-stream]...<br>BadRequestException: 400 Project does not exist: 666160882299<br></code></pre></td></tr></table></figure><p>è‹¥è¦æŸ¥çœ‹ä½ çš„ bucket å’Œæª”æ¡ˆï¼Œè«‹é–‹å•Ÿå°èˆªé¸å–®ï¼Œç„¶å¾Œé¸æ“‡ã€ŒStorage &gt; Browserã€ï¼š</p><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-01-52-25.png" alt=""></p><p>ç„¶å¾Œé»æ“Šä½ çš„ bucketï¼š</p><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-01-53-17.png" alt=""></p><p>ä½ æ‡‰è©²æœƒçœ‹åˆ° <code>test.dat</code> é€™å€‹æª”æ¡ˆï¼š</p><p><img src="../images/getting-started-with-cloud-shell-gcloud-and-gsutil/2019-04-16-01-53-59.png" alt=""></p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/563?parent=catalog" target="_blank" rel="noopener">Getting Started with Cloud Shell &amp; gcloud | Qwiklabs</a> (æœ¬ç¯‡å¤§å¤šæ•¸çš„åœ–ç‰‡ä¾†æº)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GCP </tag>
            
            <tag> VM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ Windows Server</title>
      <link href="/article/gcp-vm-windows-server.html"/>
      <url>/article/gcp-vm-windows-server.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gcp.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/560?parent=catalog" target="_blank" rel="noopener">Compute Engine: Qwik Start - Windows</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•é€é GCP Console åœ¨ GCP å»ºç«‹ instance æ¶è¨­ Windows Serverï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ <a href="https://chrome.google.com/webstore/detail/chrome-rdp-for-google-clo/mpbbnannobiobpnfblimoapbephgifkm" target="_blank" rel="noopener">Chrome RDP for GCP</a> æ“´å……åŠŸèƒ½ç›´æ¥å¾ç€è¦½å™¨é€²è¡Œ RDP é€£æ¥è‡³ Windows Serverã€‚</p><a id="more"></a><p><img src="../images/gcp-vm-windows-server/2019-04-16-00-21-39.png" alt=""></p><p>Google Compute Engine å¯è®“ä½ åœ¨ Google åŸºç¤æ¶æ§‹ä¸Šå»ºç«‹å’ŒåŸ·è¡Œ VMã€‚ Compute Engine æä¾›æ“´å±•ã€æ•ˆèƒ½å’Œåƒ¹å€¼ï¼Œè®“ä½ å¯ä»¥è¼•é¬†åœ°åœ¨ Google åŸºç¤æ¶æ§‹ä¸Šå•Ÿå‹•å¤§å‹é‹ç®—ç¾¤é›†ã€‚</p><p>ä½ å¯ä»¥åœ¨ Google Compute Engine ä¸ŠåŸ·è¡Œ Windows æ‡‰ç”¨ç¨‹å¼ï¼Œä¸¦åˆ©ç”¨ VM instance å¯ç”¨çš„è¨±å¤šå„ªå‹¢ï¼Œä¾‹å¦‚ï¼šå¯é çš„<a href="https://cloud.google.com/compute/docs/disks/" target="_blank" rel="noopener">å„²å­˜é¸é …</a>ã€<a href="https://cloud.google.com/compute/docs/vpc" target="_blank" rel="noopener">Google ç¶²è·¯</a>çš„é€Ÿåº¦å’Œ<a href="https://cloud.google.com/compute/docs/autoscaler/" target="_blank" rel="noopener">è‡ªå‹•æ“´å±• (Autoscaling)</a>ã€‚</p><p>åœ¨æ­¤ lab ä¸­ï¼Œä½ å°‡å­¸ç¿’å¦‚ä½•åœ¨ Google Compute Engine ä¸­å•Ÿå‹• Windows Server instanceï¼Œä¸¦ä½¿ç”¨é ç«¯æ¡Œé¢å”å®šé€£æ¥åˆ°è©² instanceã€‚</p><blockquote><p>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-nignx-web-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ NIGNX Web server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚</p></blockquote><p>å¦‚æœä½ æœªåœ¨ local ä¸»æ©Ÿä¸Šä½¿ç”¨ Windowsï¼Œè«‹å®‰è£ç¬¬ä¸‰æ–¹çš„ RDP clientï¼Œä¾‹å¦‚ï¼šFusionLabs çš„ <a href="https://chrome.google.com/webstore/detail/chrome-rdp/cbkkbcmdlboombapidmoeolnmdacpkch" target="_blank" rel="noopener">Chrome RDP</a>ã€‚</p><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>åœ¨é»æ“Šã€ŒStart Labã€ä¹‹å‰ï¼Œæº–å‚™å¥½ç¶²è·¯ç€è¦½å™¨ (æ¨è–¦ç”¨ Google Chrome)ï¼Œä¸¦ä¸”è‡³å°‘ 40 åˆ†é˜å¯ä»¥å°ˆæ³¨çš„æ™‚é–“ï¼Œå› ç‚º lab æ˜¯æœ‰æ™‚é–“é™åˆ¶ï¼Œç•¶ä½ æŒ‰ä¸‹ã€ŒStart Labã€é–‹å§‹å­¸ç¿’æ™‚ï¼Œç„¡æ³•æš«åœå€’æ•¸è¨ˆæ™‚ï¼Œä½ åªèƒ½åœ¨é€™æ®µæ™‚é–“å…§ä½¿ç”¨ lab æä¾›çµ¦ä½ çš„å…¨æ–°æš«æ™‚ GCP Console å¯ç”¨å¸³è™Ÿï¼Œæ™‚é–“åˆ°ä¹‹å¾Œçš„å¹¾åˆ†é˜å°±æœƒè‡ªå‹•ç™»å‡ºã€‚</p><div class="warning"><p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰è‡ªå·±çš„å€‹äºº GCP å¸³è™Ÿæˆ–å°ˆæ¡ˆï¼Œè«‹ä¸è¦åœ¨æ­¤ lab ä½¿ç”¨</p></div><h2 id="é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"><a class="header-anchor" href="#é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"></a>é–‹å§‹ä½ çš„ Labï¼Œç„¶å¾Œç™»å…¥ GCP Console</h2><ol><li>å¦‚æœæº–å‚™è¦é–‹å§‹ï¼Œå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼š</li></ol><p><img src="../images/gcp-vm-windows-server/2019-04-16-00-56-15.png" alt=""></p><ol start="2"><li>æ¥è‘—æœƒå‡ºç¾é€™å€‹ç•«é¢ï¼Œå› ç‚ºæˆ‘åƒåŠ  <a href="https://www.facebook.com/events/2005848903055499/" target="_blank" rel="noopener">GDG Tainan</a> çš„æ´»å‹•ï¼Œæ´»å‹•æœ‰æä¾› Qwiklabs ä¸€å€‹æœˆçš„å…è²»é¡åº¦ï¼Œæ‰€ä»¥æˆ‘é»é¸ä¸‹åœ–å·¦é‚Šçš„ã€ŒUse Subscriptionã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-21-15.png" alt=""></p><ol start="3"><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><ol start="4"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="5"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="6"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="7"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="å»ºç«‹-VM-instance"><a class="header-anchor" href="#å»ºç«‹-VM-instance"></a>å»ºç«‹ VM instance</h2><p>åœ¨ GCP Console çš„å·¦ä¸Šè§’ï¼Œé»é¸ã€ŒNavigation menu &gt; Compute Engine &gt; VM Instancesã€ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-18-16-42.png" alt=""></p><p>æ¥è‘—é»æ“Šã€ŒCreateã€æŒ‰éˆ•å»ºç«‹æ–°çš„ instanceï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-31-03.png" alt=""></p><p>åœ¨ã€ŒBoot diskã€éƒ¨åˆ†ä¸­ï¼Œé»æ“Šã€ŒChangeã€æŒ‰éˆ•ä»¥é–‹å§‹é…ç½® boot diskï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-10-06.png" alt=""></p><p>é¸æ“‡ã€ŒWindows Server 2012 R2 Datacenterã€ï¼Œç„¶å¾Œé»æ“Šã€ŒSelectã€æŒ‰éˆ•ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-38-30.png" alt=""></p><p>å°‡æ‰€æœ‰å…¶ä»–è¨­å®šéƒ½ä¿ç•™ç‚ºé è¨­å€¼ã€‚è¨­å®šå¥½ä¹‹å¾Œï¼Œé»æ“Šã€ŒCreateã€æŒ‰éˆ•å»ºç«‹ instanceï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-09-42.png" alt=""></p><h2 id="å•Ÿå‹•-Google-Cloud-Shell"><a class="header-anchor" href="#å•Ÿå‹•-Google-Cloud-Shell"></a>å•Ÿå‹• Google Cloud Shell</h2><p>Google Cloud Shell æ˜¯è¼‰å…¥äº†é–‹ç™¼å·¥å…·çš„ VMï¼Œå®ƒæä¾› 5GB çš„ home ç›®éŒ„ï¼Œä¸¦åœ¨ Google Cloud ä¸ŠåŸ·è¡Œã€‚å¯ç”¨ Google Cloud Shell æä¾›çš„ command-line ä¾†å­˜å– GCP çš„è³‡æºã€‚</p><ol><li>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><ol start="2"><li>åœ¨æ‰“é–‹çš„å°è©±æ¡†å…§ï¼Œé»æ“Šã€ŒSTART CLOUD SHELLã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-25-23.png" alt=""></p><ol start="3"><li>é€£æ¥å’Œæä¾›ç’°å¢ƒéœ€è¦ä¸€äº›æ™‚é–“ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-05.png" alt=""></p><ol start="4"><li>é€£æ¥å¾Œï¼Œå°±ä»£è¡¨ä½ å·²ç¶“éèº«ä»½é©—è­‰ï¼Œå°ˆæ¡ˆå·²è¨­ç½®ç‚º <code>PROJECT_ID</code>ï¼Œä»¥ä¸‹åœ–çš„ç‚ºä¾‹ï¼Œæ­¤å°ˆæ¡ˆçš„ ID ç‚º <code>qwiklabs-gcp-f9d61ede8167e6b0</code>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-34.png" alt=""></p><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯åˆ—å‡ºæœ‰æ•ˆå¸³è™Ÿåç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>          Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ—å‡ºå°ˆæ¡ˆ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list project</span><br>[core]<br>project = qwiklabs-gcp-f9d61ede8167e6b0<br><br>Your active configuration is: [cloudshell-9292]<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/sdk/gcloud" target="_blank" rel="noopener">Google Cloud gcloud Overview</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="æ¸¬è©¦-Windows-Startup-çš„ç‹€æ…‹"><a class="header-anchor" href="#æ¸¬è©¦-Windows-Startup-çš„ç‹€æ…‹"></a>æ¸¬è©¦ Windows Startup çš„ç‹€æ…‹</h2><p>åœ¨ã€ŒVM Instancesã€é é¢ä¸Šçœ‹åˆ°å¸¶æœ‰ç¶ è‰²ç‹€æ…‹çš„ icon å°±ä»£è¡¨è©² instance å·²å»ºç«‹å®Œæˆï¼Œå¦‚ä¸‹åœ–ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-40-28.png" alt=""></p><p>ä½†æ˜¯ï¼Œå®ƒå¯èƒ½å°šæœªæº–å‚™å¥½æ¥å— RDP é€£æ¥ï¼Œå› ç‚ºæ‰€æœ‰ OS å…ƒä»¶åˆå§‹åŒ–éƒ½éœ€è¦ä¸€æ®µæ™‚é–“ã€‚</p><p>è¦æŸ¥çœ‹ server æ˜¯å¦å·²æº–å‚™å¥½é€²è¡Œ RDP é€£æ¥ï¼Œè«‹åœ¨ Cloud Shell terminal command-line ä¸­åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œå…¶ä¸­çš„ <code>instance-1</code> æ˜¯å‰›å‰›å»ºç«‹çš„ instance åç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances get-serial-port-output instance-1 --zone us-central1<span class="hljs-_">-a</span></span><br></code></pre></td></tr></table></figure><p>é‡è¤‡é€™å€‹æŒ‡ä»¤ï¼Œç›´åˆ°æŒ‡ä»¤è¼¸å‡ºä»¥ä¸‹å…§å®¹ç‚ºæ­¢ã€‚é€™å€‹æŒ‡ä»¤çš„è¼¸å‡ºæœƒå‘Šè¨´ä½  OS å…ƒä»¶å·²åˆå§‹åŒ–ï¼Œä¸¦ä¸” Windows Server å·²æº–å‚™å¥½æ¥å— RDP é€£æ¥ (å˜—è©¦ä¸‹ä¸€æ­¥)ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Finished running startup scripts.<br></code></pre></td></tr></table></figure><p>é€™å€‹æŒ‡ä»¤å®Œæ•´çš„è¼¸å‡ºè¨Šæ¯æœƒé¡ä¼¼ä¸‹é¢é€™æ¨£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances get-serial-port-output instance-1 --zone us-central1<span class="hljs-_">-a</span></span><br>SeaBIOS (version 1.8.2-20190322_093631-google)<br>Total RAM Size = 0x00000000f0000000 = 3840 MiB<br>CPUs found: 1     Max CPUs supported: 1<br>found virtio-scsi at 0:3<br>virtio-scsi vendor='Google' product='PersistentDisk' rev='1' type=0 removable=0<br>virtio-scsi blksize=512 sectors=104857600 = 51200 MiB<br>drive 0x000f29f0: PCHS=0/0/0 translation=lba LCHS=1024/255/63 s=104857600<br>Booting from Hard Disk 0...<br>2019/04/15 15:39:21 GCEWindowsAgent: GCE Agent Started (version 4.6.0@1)<br>2019/04/15 15:39:56 GCEInstanceSetup: Starting sysprep specialize phase.<br>2019/04/15 15:39:57 GCEInstanceSetup: All networks set to DHCP.<br>2019/04/15 15:39:57 GCEInstanceSetup: Running 'netsh' with arguments 'interface ipv4 set interface Ethernet mtu=1460'<br>2019/04/15 15:39:57 GCEInstanceSetup: --&gt; Ok.<br>2019/04/15 15:39:58 GCEInstanceSetup: MTU set to 1460.<br>2019/04/15 15:39:58 GCEInstanceSetup: Running 'route' with arguments '/p add 169.254.169.254 mask 255.255.255.255 0.0.0.0 if 12 metric 1'<br>2019/04/15 15:39:58 GCEInstanceSetup: --&gt; OK!<br>2019/04/15 15:39:58 GCEInstanceSetup: Added persistent route to metadata netblock via first netkvm adapter.<br>2019/04/15 15:39:58 GCEInstanceSetup: Getting hostname from metadata server.<br>2019/04/15 15:39:58 GCEInstanceSetup: Changing hostname from WIN-MQ2QFF14J03 to instance-1.<br>2019/04/15 15:39:58 GCEInstanceSetup: Renamed from WIN-MQ2QFF14J03 to instance-1.<br>2019/04/15 15:39:58 GCEMetadataScripts: Starting specialize scripts (version 4.2.1@1).<br>2019/04/15 15:39:58 GCEMetadataScripts: No specialize scripts to run.<br>2019/04/15 15:39:58 GCEMetadataScripts: Finished running specialize scripts.<br>2019/04/15 15:39:58 GCEInstanceSetup: Finished with sysprep specialize phase, restarting...<br>2019/04/15 15:39:59 GCEWindowsAgent: GCE Agent Stopped<br>SeaBIOS (version 1.8.2-20190322_093631-google)<br>Total RAM Size = 0x00000000f0000000 = 3840 MiB<br>CPUs found: 1     Max CPUs supported: 1<br>found virtio-scsi at 0:3<br>virtio-scsi vendor='Google' product='PersistentDisk' rev='1' type=0 removable=0<br>virtio-scsi blksize=512 sectors=104857600 = 51200 MiB<br>drive 0x000f29f0: PCHS=0/0/0 translation=lba LCHS=1024/255/63 s=104857600<br>Booting from Hard Disk 0...<br>2019/04/15 15:40:36 GCEWindowsAgent: GCE Agent Started (version 4.6.0@1)<br>2019/04/15 15:40:43 GCEInstanceSetup: Disabled Ctrl + Alt + Del.<br>2019/04/15 15:40:43 GCEInstanceSetup: Enable RDP firewall rules.<br>2019/04/15 15:40:43 GCEInstanceSetup: Running 'netsh' with arguments 'advfirewall firewall set rule group=remote desktop new enable=Yes'<br>2019/04/15 15:40:43 GCEInstanceSetup: --&gt; Updated 3 rule(s).<br>2019/04/15 15:40:43 GCEInstanceSetup: --&gt; Ok.<br>2019/04/15 15:40:43 GCEInstanceSetup: Restarting Terminal Service services, to enable RDP.<br>2019/04/15 15:40:44 GCEInstanceSetup: Enabled Remote Desktop.<br>2019/04/15 15:40:44 GCEInstanceSetup: Configuring WinRM...<br>2019/04/15 15:40:47 GCEInstanceSetup: Running 'netsh' with arguments 'advfirewall firewall add rule profile=any name=Windows Remote Management (HTTPS-In) dir=in localport=5986 protocol=TCP action=allow'<br>2019/04/15 15:40:47 GCEInstanceSetup: --&gt; Ok.<br>2019/04/15 15:40:48 GCEInstanceSetup: Setup of WinRM complete.<br>2019/04/15 15:40:48 GCEInstanceSetup: Running startup scripts from metadata server.<br>2019/04/15 15:40:48 GCEInstanceSetup: Running 'schtasks' with arguments '/run /tn GCEStartup'<br>2019/04/15 15:40:48 GCEInstanceSetup: --&gt; SUCCESS: Attempted to run the scheduled task "GCEStartup".<br>2019/04/15 15:40:48 GCEInstanceSetup: ------------------------------------------------------------<br>2019/04/15 15:40:48 GCEInstanceSetup: Instance setup finished. instance-1 is ready to use.<br>2019/04/15 15:40:48 GCEInstanceSetup: ------------------------------------------------------------<br>2019/04/15 15:40:51 GCEInstanceSetup: Checking instance license activation status.<br>2019/04/15 15:40:51 GCEInstanceSetup: instance-1 needs to be activated by a KMS Server.<br>2019/04/15 15:40:51 GCEInstanceSetup: Key Management Service machine name set to kms.windows.googlecloud.com successfully.<br>2019/04/15 15:40:51 GCEInstanceSetup: Installed product key W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9 successfully.<br>2019/04/15 15:40:51 GCEInstanceSetup: Activating instance...<br>2019/04/15 15:40:52 GCEInstanceSetup: Activating Windows(R), ServerDatacenter edition (00091344-1ea4-4f37-b789-01750ba6988c) ...<br>2019/04/15 15:40:52 GCEInstanceSetup: Product activated successfully.<br>2019/04/15 15:40:52 GCEInstanceSetup: Activation successful.<br>2019/04/15 15:40:53 GCEMetadataScripts: Starting startup scripts (version 4.2.1@1).<br>2019/04/15 15:40:53 GCEMetadataScripts: No startup scripts to run.<br>2019/04/15 15:40:53 GCEMetadataScripts: Finished running startup scripts.<br><br><br>Specify --start=4643 in the next get-serial-port-output invocation to get only the new output starting from here.<br></code></pre></td></tr></table></figure><h2 id="é€£æ¥-instance"><a class="header-anchor" href="#é€£æ¥-instance"></a>é€£æ¥ instance</h2><p>é»æ“Š VM çš„åç¨±ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-09-15.png" alt=""></p><p>åœ¨ã€ŒRemote Accessã€éƒ¨åˆ†é»æ“Šã€ŒSet Windows Passwordã€æŒ‰éˆ•ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-11-50.png" alt=""></p><p>è¼¸å…¥ username å¾Œï¼Œé»æ“Šã€ŒSetã€æŒ‰éˆ•ä¾†ç”¢ç”Ÿæ­¤ Windows instance çš„å¯†ç¢¼ã€‚å¦‚æœæ²’æœ‰æ­¤ username çš„ Windows å¸³è™Ÿï¼Œå°±æœƒå»ºç«‹è©²å¸³è™Ÿä¸¦ä½¿ç”¨æ–°å¯†ç¢¼ï¼Œå¦‚æœå·²æœ‰æ­¤å¸³è™Ÿï¼Œå¯†ç¢¼å‰‡æœƒè¢«é‡è¨­ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-50-21.png" alt=""></p><p>è¤‡è£½å¯†ç¢¼ä¸¦å„²å­˜ï¼Œç¨å¾Œç™»å…¥ instance æ™‚æœƒç”¨åˆ°ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-14-07.png" alt=""></p><h2 id="ä½¿ç”¨é ç«¯æ¡Œé¢-RDP-é€²å…¥-Windows-Server"><a class="header-anchor" href="#ä½¿ç”¨é ç«¯æ¡Œé¢-RDP-é€²å…¥-Windows-Server"></a>ä½¿ç”¨é ç«¯æ¡Œé¢ (RDP) é€²å…¥ Windows Server</h2><p>å¯ä»¥ä½¿ç”¨ <a href="https://chrome.google.com/webstore/detail/chrome-rdp-for-google-clo/mpbbnannobiobpnfblimoapbephgifkm" target="_blank" rel="noopener">Chrome RDP for Google Cloud Platform</a> æ“´å……åŠŸèƒ½ç›´æ¥å¾ç€è¦½å™¨é€²è¡Œ RDP é€£æ¥ï¼Œé»æ“Šã€ŒRDPã€æŒ‰éˆ•é€²è¡Œé€£æ¥ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-16-16.png" alt=""></p><div class="info"><p>å¦‚æœå‰›å‰›æ˜¯ç”¨ Chrome çš„ç„¡ç—•æ¨¡å¼ç™»å…¥å¸³è™Ÿï¼Œå°±æœƒç™¼ç”Ÿé»æ“Šã€ŒRDPã€æŒ‰éˆ•æ²’æœ‰åæ‡‰çš„ç‹€æ³ï¼Œæ›æˆåŸæœ¬çš„æ¨¡å¼å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p></div><p>å®ƒæœƒæç¤ºä½ å®‰è£ RDP æ“´å……åŠŸèƒ½ã€‚å®‰è£å®Œæˆå¾Œï¼ŒGCP æœƒæ‰“é–‹åƒä¸‹åœ–çš„ç™»å…¥ç•«é¢ï¼Œè«‹ä½¿ç”¨ Windows ä½¿ç”¨è€…å’Œå¯†ç¢¼ç™»å…¥ (è²¼ä¸Šä¹‹å‰å„²å­˜çš„å¯†ç¢¼)ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-17-26.png" alt=""></p><p>é»æ“Šã€ŒContinueã€æŒ‰éˆ•ä»¥ç¢ºèªä½ è¦é€£æ¥ï¼š</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-17-54.png" alt=""></p><p>æ‰“é–‹ Server Manager æ™‚ï¼Œå°±æœƒé€£æ¥åˆ° Windows Server ä¸Šçš„ VM instanceã€‚</p><p><img src="../images/gcp-vm-windows-server/2019-04-15-23-59-49.png" alt=""></p><h2 id="ä½¿ç”¨-RDP-client-è¤‡è£½å’Œè²¼ä¸Š"><a class="header-anchor" href="#ä½¿ç”¨-RDP-client-è¤‡è£½å’Œè²¼ä¸Š"></a>ä½¿ç”¨ RDP client è¤‡è£½å’Œè²¼ä¸Š</h2><p>ç™»å…¥åˆ° instance å¾Œï¼Œå¯ä»¥æŒ‰ <code>Ctrl + V</code> è²¼ä¸Šè³‡æ–™ (å¦‚æœæ˜¯ Mac çš„ä½¿ç”¨è€…ï¼ŒæŒ‰ <code>Cmd + V</code> æœƒç„¡æ³•è²¼ä¸Šï¼‰ã€‚å¦‚æœè¦è²¼è‡³ PuTTY å’Œ Powershellï¼Œè«‹æŒ‰æ»‘é¼ å³éµå°±å¯ä»¥è²¼ä¸Šã€‚å¦‚æœåœ¨ Powershell è¦–çª—ä¸­ï¼Œè«‹ç¢ºä¿å·²é»æ“Šè©²è¦–çª—ï¼Œå¦å‰‡æœƒç„¡æ³•è²¼ä¸Šã€‚</p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/560?parent=catalog" target="_blank" rel="noopener">Compute Engine: Qwik Start - Windows</a> (æœ¬ç¯‡å¤§å¤šæ•¸çš„åœ–ç‰‡ä¾†æº)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Windows Server </category>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GCP </tag>
            
            <tag> VM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GCP (Google Cloud Platform) å…¥é–€</title>
      <link href="/article/getting-started-with-gcp.html"/>
      <url>/article/getting-started-with-gcp.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gcp.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/2794?parent=catalog" target="_blank" rel="noopener">A Tour of Qwiklabs and the Google Cloud Platform</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ä»¥åŠèªè­˜ Qwiklab å’Œ GCPã€‚</p><a id="more"></a><p><img src="../images/getting-started-with-gcp/2019-04-15-21-49-27.png" alt=""></p><p><a href="https://cloud.google.com/" target="_blank" rel="noopener">Google Cloud Platform</a> (GCP) æ˜¯è¨—ç®¡åœ¨ Google åŸºç¤æ¶æ§‹ä¸Šçš„ä¸€å¥—é›²ç«¯æœå‹™ï¼Œå¾è¨ˆç®—å’Œå„²å­˜ï¼Œåˆ°è³‡æ–™åˆ†æã€æ©Ÿå™¨å­¸ç¿’ã€ç¶²è·¯ã€GCP æä¾›å„ç¨®æœå‹™å’Œ APIï¼Œå¯ä»¥èˆ‡ä»»ä½•é›²ç«¯è¨ˆç®—æ‡‰ç”¨ç¨‹å¼æˆ–å°ˆæ¡ˆæ•´åˆ - ç„¡è«–æ˜¯å€‹äººé‚„æ˜¯ä¼æ¥­ã€‚</p><p>åœ¨é€™å€‹å…¥é–€ç­‰ç´šçš„ lab ä¸­ï¼Œå¯é€éä½¿ç”¨ <a href="https://cloud.google.com/cloud-console/" target="_blank" rel="noopener">GCP console</a> (ç€è¦½å™¨å…§çš„ UIï¼Œå¯è®“æ‚¨å­˜å–å’Œç®¡ç† Google Cloud æœå‹™) ä¾†ç·´ç¿’ä½¿ç”¨ GCPï¼Œäº†è§£ GCP çš„ä¸»è¦åŠŸèƒ½ï¼Œå¿…äº†è§£ Qwiklabs çš„ç’°å¢ƒã€‚</p><h2 id="ä½ æœƒå­¸åˆ°ä»€éº¼"><a class="header-anchor" href="#ä½ æœƒå­¸åˆ°ä»€éº¼"></a>ä½ æœƒå­¸åˆ°ä»€éº¼</h2><ul><li>äº†è§£å¦‚ä½•ä½¿ç”¨ç‰¹å®šæ†‘è­‰å­˜å– GCP console</li><li>èªè­˜ GCP å°ˆæ¡ˆ</li><li>äº†è§£å¦‚ä½•ä½¿ç”¨ GCP çš„å°èˆªé¸å–®ä¾†è­˜åˆ¥ GCP æœå‹™çš„é¡å‹</li><li>äº†è§£ primitive roles ä¸¦ä½¿ç”¨ Cloud IAM æœå‹™æª¢æŸ¥ç‰¹å®šä½¿ç”¨è€…çš„å¯ç”¨æ“ä½œ</li><li>äº†è§£ Cloud Shell ä¸¦ä½¿ç”¨ <code>gcloud</code> toolkit ä¾†åŸ·è¡ŒæŒ‡ä»¤</li><li>äº†è§£ API library ä¸¦æŸ¥çœ‹å…¶ä¸»è¦åŠŸèƒ½</li></ul><blockquote><p>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-nignx-web-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ NIGNX Web server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚<br>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-windows-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ Windows Server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚</p></blockquote><blockquote><p>å…¶ä»–é—œæ–¼ Qwiklab çš„ä»‹ç´¹ï¼Œå¯è‡³åŸæ–‡ <a href="https://www.qwiklabs.com/focuses/2794?parent=catalog" target="_blank" rel="noopener">A Tour of Qwiklabs and the Google Cloud Platform</a> æŸ¥çœ‹ã€‚</p></blockquote><h2 id="å­˜å–-GCP-Console"><a class="header-anchor" href="#å­˜å–-GCP-Console"></a>å­˜å– GCP Console</h2><p>å¦‚æœå·²ç¶“é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼Œæ‡‰è©²æœƒçœ‹åˆ°å·¦å´çš„ã€ŒOpen Google Consoleã€æŒ‰éˆ•è®Šæˆå¯ä»¥è¢«é»æ“Šï¼Œè€Œä¸”å¯ä»¥çœ‹åˆ°æœ‰å¸³è™Ÿã€å¯†ç¢¼ä»¥åŠ GCP å°ˆæ¡ˆ IDï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><h3 id="GCP-å°ˆæ¡ˆ-ID"><a class="header-anchor" href="#GCP-å°ˆæ¡ˆ-ID"></a>GCP å°ˆæ¡ˆ ID</h3><p><a href="https://cloud.google.com/docs/overview/#projects" target="_blank" rel="noopener">GCP å°ˆæ¡ˆ</a>æ˜¯ä½ çš„ Google é›²ç«¯è³‡æºçš„çµ„ç¹”å¯¦é«”ï¼ŒåŒ…å«è³‡æºå’Œæœå‹™ï¼Œä¾‹å¦‚ï¼šå¯ä»¥åŒ…å«ä¸€å€‹ VM çš„ poolï¼Œä¸€çµ„è³‡æ–™åº«ä»¥åŠå°‡å®ƒå€‘å½¼æ­¤é€£æ¥çš„ç¶²è·¯ï¼Œå°ˆæ¡ˆé‚„åŒ…å«è¨­å®šå’Œæ¬Šé™ï¼Œé€™äº›è¨­å®šå’Œæ¬Šé™å¯ä»¥æŒ‡å®šå®‰å…¨è¦å‰‡ä»¥åŠè¨­å®šèª°æœ‰æ¬Šå­˜å–å“ªäº›è³‡æºã€‚è€Œ GCP Project ID ä¸æœƒé‡è¤‡ï¼Œç”¨æ–¼å°‡ GCP è³‡æºå’Œ API é€£æ¥åˆ°ä½ çš„ç‰¹å®šå°ˆæ¡ˆã€‚</p><h3 id="å¸³è™Ÿå’Œå¯†ç¢¼"><a class="header-anchor" href="#å¸³è™Ÿå’Œå¯†ç¢¼"></a>å¸³è™Ÿå’Œå¯†ç¢¼</h3><p>å¸³è™Ÿå’Œå¯†ç¢¼æ˜¯è¡¨ç¤ºåœ¨ GCP èº«ä»½å’Œå­˜å–ç®¡ç† (Identity and Access Managementï¼ŒIAM) æœå‹™ä¸­ï¼Œå…·æœ‰å­˜å–æ¬Šé™èº«ä»½ (ä¸€å€‹æˆ–å¤šå€‹è§’è‰²) çš„æ†‘è­‰ï¼Œå…è¨±ä½ åœ¨å·²åˆ†é…çš„å°ˆæ¡ˆä¸­ä½¿ç”¨ GCP è³‡æºã€‚é€™äº›æ†‘è­‰æ˜¯è‡¨æ™‚çš„ï¼Œåªèƒ½åœ¨ lab é™åˆ¶çš„å­˜å–æ™‚é–“å…§ä½¿ç”¨ï¼Œæ‰€ä»¥åªè¦è¨ˆæ™‚å™¨å€’æ•¸åˆ° 0 ä¹‹å¾Œï¼Œä½ å°±ç„¡æ³•å†ä½¿ç”¨é€™äº›æ†‘è­‰å­˜å–é€™å€‹çš„ GCP å°ˆæ¡ˆã€‚</p><h2 id="ç™»å…¥-GCP"><a class="header-anchor" href="#ç™»å…¥-GCP"></a>ç™»å…¥ GCP</h2><ol><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><ol start="2"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="3"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="4"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="5"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="GCP-Console-ä¸­çš„å°ˆæ¡ˆ"><a class="header-anchor" href="#GCP-Console-ä¸­çš„å°ˆæ¡ˆ"></a>GCP Console ä¸­çš„å°ˆæ¡ˆ</h2><p>GCP Console çš„å·¦ä¸Šè§’ï¼Œæœƒçœ‹åˆ°ä¸€å€‹åç‚º Project info çš„é¢æ¿ï¼Œç•«é¢å¦‚ä¸‹ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-14-23-05.png" alt=""></p><p>ä¸€å€‹å°ˆæ¡ˆæœƒæœ‰åç¨±ã€IDã€ç·¨è™Ÿï¼Œåœ¨ä½¿ç”¨ GCP æœå‹™æ™‚æœƒç¶“å¸¸ä½¿ç”¨é€™äº›æ±è¥¿ã€‚ä¸éä½ å¯ä»¥å­˜å–å¤šå€‹ GCP å°ˆæ¡ˆã€‚åœ¨æŸäº› lab ä¸­ï¼Œå¯èƒ½æœƒä½¿ç”¨å¤šå€‹å°ˆæ¡ˆä¾†å®Œæˆåˆ†é…çš„ä»»å‹™ã€‚å¦‚æœé»æ“Šå¸¶æœ‰å°ˆæ¡ˆåç¨±çš„ä¸‹æ‹‰å¼é¸å–®ä¸¦é¸æ“‡ã€ŒALLã€ï¼Œå°±æœƒçœ‹åˆ°ã€ŒQwiklabs Resourcesã€å°ˆæ¡ˆä¹Ÿå¯è¦‹ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-14-31-05.gif" alt=""></p><div class="info"><p>ç›®å‰ä¸è¦åˆ‡æ›åˆ° Qwiklabs è³‡æºå°ˆæ¡ˆï¼ä½†æ˜¯ï¼Œä½ å¯ä»¥ç¨å¾Œåœ¨å…¶ä»– lab ä¸­ä½¿ç”¨å®ƒã€‚</p></div><p>GCP çš„å¤§å‹ä¼æ¥­æˆ–æœ‰ç¶“é©—çš„ä½¿ç”¨è€…æ“æœ‰æ•¸ååˆ°æ•¸åƒå€‹ GCP å°ˆæ¡ˆçš„æƒ…æ³é‚„è »å¸¸è¦‹çš„ï¼Œçµ„ç¹”æœƒä»¥ä¸åŒçš„æ–¹å¼ä½¿ç”¨ GCPï¼Œå› æ­¤å°ˆæ¡ˆåˆ†é›¢åœ¨é›²ç«¯é‹ç®—æœå‹™ (ä»¥åœ˜éšŠæˆ–ç”¢å“ç‚ºä¾‹) æ˜¯å€‹å¥½æ–¹æ³•ã€‚</p><p>â€œQwiklabs Resourcesâ€ æ˜¯ä¸€å€‹åŒ…å«æŸäº› lab çš„æª”æ¡ˆï¼Œè³‡æ–™é›†å’Œæ©Ÿå™¨ image çš„å°ˆæ¡ˆï¼Œå¯ä»¥å¾æ¯å€‹ GCP lab ç’°å¢ƒå­˜å–ã€‚è¦æ³¨æ„æ˜¯ â€œQwiklabs Resourcesâ€ èˆ‡æ‰€æœ‰ Qwiklabs ä½¿ç”¨è€…å…±äº«è³‡æº (read only)ï¼Œä¹Ÿå°±ä»£è¡¨ä½ ç„¡æ³•åˆªé™¤æˆ–ä¿®æ”¹å®ƒã€‚</p><p>ä½ æ­£åœ¨ä½¿ç”¨åç‚ºé¡ä¼¼æ–¼ <code>qwiklabs-gcp-xxx</code> çš„ GCP å°ˆæ¡ˆæ˜¯è‡¨æ™‚çš„ï¼Œä¹Ÿå°±ä»£è¡¨å°ˆæ¡ˆåŠå…¶åŒ…å«çš„æ‰€æœ‰å…§å®¹æœƒåœ¨ lab çµæŸå¾Œåˆªé™¤ã€‚æ¯æ¬¡ä½¿ç”¨çš„ lab éƒ½å¯ä»¥å­˜å–ä¸€å€‹æˆ–å¤šå€‹æ–°çš„ GCP å°ˆæ¡ˆï¼Œä¸¦ä¸”åœ¨é‚£è£¡ (ä¸æ˜¯ â€œQwiklabs Resourcesâ€ ) åŸ·è¡Œæ‰€æœ‰ lab çš„æ­¥é©Ÿã€‚</p><h2 id="å°èˆªé¸å–®å’Œæœå‹™"><a class="header-anchor" href="#å°èˆªé¸å–®å’Œæœå‹™"></a>å°èˆªé¸å–®å’Œæœå‹™</h2><p>åœ¨ç•«é¢çš„å·¦ä¸Šè§’æœ‰ä¸€å€‹é¡ä¼¼ã€Œä¸‰ã€çš„ iconï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-15-46-30.png" alt=""></p><p>é»æ“Šæ­¤æŒ‰éˆ•æœƒé¡¯ç¤º (æˆ–éš±è—) GCP æ ¸å¿ƒæœå‹™çš„å°èˆªé¸å–®ï¼Œå¦‚æœé¸å–®æ²’æœ‰æ‰“é–‹ï¼Œè«‹é»æ“Šæ­¤ icon ä¸¦æ²å‹•æŸ¥çœ‹æ‰€æœ‰æä¾›çš„æœå‹™é¡å‹ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-14-32-42.gif" alt=""></p><p>åœ¨å°èˆªé¸å–®å¯ä»¥å¿«é€Ÿå­˜å–å¹³å°çš„æœå‹™ï¼Œå¯çœ‹åˆ°å…±æœ‰ 7 é¡ GCP çš„æœå‹™ï¼š</p><ul><li>Computeï¼šåŒ…å«æ”¯æ´ä»»ä½•é¡å‹çš„å·¥ä½œè² è¼‰çš„å„ç¨®æ©Ÿå‹ã€‚é€šéä¸åŒçš„é‹ç®—é¸é …ï¼Œå¯ä»¥æ±ºå®šä½ å¸Œæœ›å¦‚ä½•åƒèˆ‡ operational details å’ŒåŸºç¤æ¶æ§‹ç­‰</li><li>Storageï¼šçµæ§‹åŒ–æˆ–éçµæ§‹åŒ–ã€é—œä¿‚è³‡æ–™æˆ–éé—œä¿‚è³‡æ–™çš„è³‡æ–™å„²å­˜å’Œè³‡æ–™åº«é¸é …</li><li>Networkingï¼šå¹³è¡¡æ‡‰ç”¨ç¨‹å¼æµé‡å’Œæä¾›å®‰å…¨è¦å‰‡çš„æœå‹™</li><li>Stackdriverï¼šä¸€å¥—è·¨é›²ç«¯æ—¥èªŒè¨˜éŒ„ (cross-cloud logging)ã€ç›£æ§ã€è¿½è¹¤å’Œå…¶ä»–æœå‹™çš„å¯é æ€§å·¥å…·</li><li>Toolsï¼šç®¡ç†éƒ¨ç½²å’Œæ‡‰ç”¨ç¨‹å¼å»ºç½® pipeline çš„é–‹ç™¼äººå“¡çš„æœå‹™</li><li>Big Dataï¼šç”¨æ–¼è™•ç†å’Œåˆ†æå¤§é‡è³‡æ–™é›†çš„æœå‹™</li><li>Artificial Intelligence (AI)ï¼šå¯åœ¨ GCP ä¸ŠåŸ·è¡Œç‰¹å®šçš„ AI å’Œæ©Ÿå™¨å­¸ç¿’ (MLï¼Œmachine learning) ä»»å‹™çš„ä¸€å¥— API</li></ul><blockquote><p>è©³æƒ…å¯æŸ¥çœ‹å®˜æ–¹çš„ <a href="https://cloud.google.com/docs/overview/cloud-platform-services" target="_blank" rel="noopener">About the GCP Services |Â Google Cloud</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="è§’è‰²å’Œæ¬Šé™"><a class="header-anchor" href="#è§’è‰²å’Œæ¬Šé™"></a>è§’è‰²å’Œæ¬Šé™</h2><p>é™¤äº†é›²ç«¯é‹ç®—æœå‹™ä¹‹å¤–ï¼ŒGCP é‚„åŒ…å«ä¸€çµ„æ¬Šé™å’Œè§’è‰²ï¼Œç”¨æ–¼å®šç¾©èª°å¯ä»¥å­˜å–å“ªäº›è³‡æºï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨é›²ç«¯èº«ä»½å’Œå­˜å–ç®¡ç† (<a href="https://cloud.google.com/iam/" target="_blank" rel="noopener">Cloud Identity and Access Managementï¼ŒIAM</a>) æœå‹™ä¾†æª¢æŸ¥å’Œä¿®æ”¹è§’è‰²å’Œæ¬Šé™ã€‚</p><p>è«‹æ‰“é–‹å°èˆªé¸å–®ï¼Œç„¶å¾Œé»æ“Šã€ŒIAM &amp; adminã€ï¼Œç•«é¢æœƒè·³è‡³åŒ…å«ä½¿ç”¨è€…åˆ—è¡¨çš„é é¢ï¼Œè©²é é¢æŒ‡å®šçµ¦äºˆç‰¹å®šå¸³è™Ÿçš„æ¬Šé™å’Œè§’è‰²ã€‚å˜—è©¦ç¯©é¸é€™äº›ä¸¦æ‰¾åˆ°ä½ ç™»å…¥çš„ â€œ@qwiklabsâ€ æ­¤ä½¿ç”¨è€…åç¨±ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-15-48-30.gif" alt=""></p><p>é¡ä¼¼ä¸‹åœ–ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-16-27-50.png" alt=""></p><p>member æ¬„ä½è¢«è¨­ç‚º <code>google23396_student@qwiklabs.net</code>ï¼ˆèˆ‡ä½ ç™»å…¥çš„å¸³è™Ÿä¸€æ¨£ï¼‰ï¼Œname æ¬„ä½è¢«è¨­ç‚º <code>google23396_student@qwiklabs.net student</code>ã€‚æœƒçœ‹åˆ° Role æ¬„ä½è¢«è¨­ç‚º <code>Editor</code>ï¼Œé€™æ˜¯ GCP æä¾›çš„ä¸‰ç¨® primitive roles çš„å…¶ä¸­ä¹‹ä¸€ã€‚é™¤éå¦æœ‰æŒ‡å®šï¼Œå¦å‰‡ primitive roles æ˜¯è¨­å®šå°ˆæ¡ˆç­‰ç´šçš„æ¬Šé™ï¼Œå®ƒå€‘æ§åˆ¶å°æ‰€æœ‰ GCP æœå‹™çš„å­˜å–å’Œç®¡ç†ã€‚</p><p>ä¸‹è¡¨æ˜¯å¾<a href="https://cloud.google.com/iam/docs/understanding-roles#primitive_roles" target="_blank" rel="noopener">è§’è‰²æ–‡ä»¶</a>ä¸­æå–çš„å®šç¾©ï¼Œå…¶ä¸­æä¾›äº† viewerã€editor å’Œ owner è§’è‰²æ¬Šé™çš„ overviewï¼š</p><table><thead><tr><th>è§’è‰²åç¨±</th><th>æ¬Šé™</th></tr></thead><tbody><tr><td>roles/viewer</td><td>ä¸å½±éŸ¿ç‹€æ…‹çš„ read-only æ“ä½œçš„æ¬Šé™ï¼Œä¾‹å¦‚ï¼šæŸ¥çœ‹ (ä½†ä¸èƒ½ä¿®æ”¹) ç¾æœ‰çš„è³‡æºæˆ–è³‡æ–™</td></tr><tr><td>roles/editor</td><td>æ‰€æœ‰ viewer çš„æ¬Šé™ï¼Œä»¥åŠä¿®æ”¹ç‹€æ…‹çš„æ“ä½œçš„æ¬Šé™ï¼Œä¾‹å¦‚ï¼šä¿®æ”¹ç¾æœ‰è³‡æº</td></tr><tr><td>roles/owner</td><td>æ‰€æœ‰ editor æ¬Šé™å’Œä»¥ä¸‹æ“ä½œçš„æ¬Šé™ï¼š<br>- ç®¡ç†å°ˆæ¡ˆçš„è§’è‰²å’Œæ¬Šé™ä»¥åŠå°ˆæ¡ˆä¸­çš„æ‰€æœ‰è³‡æº<br>- è¨­å®šå°ˆæ¡ˆçš„è¨ˆè²»æ–¹å¼</td></tr></tbody></table><p>å› æ­¤ editor èƒ½å¤ å»ºç«‹ã€ä¿®æ”¹å’Œåˆªé™¤ GCP è³‡æºã€‚ä½†æ˜¯ç„¡æ³•åœ¨ GCP å°ˆæ¡ˆä¸­æ–°å¢æˆ–åˆªé™¤ memberã€‚</p><h2 id="API-å’Œæœå‹™"><a class="header-anchor" href="#API-å’Œæœå‹™"></a>API å’Œæœå‹™</h2><p>Google Cloud API æ˜¯ GCP ä¸­é‡è¦çš„éƒ¨åˆ†ã€‚èˆ‡æœå‹™é¡ä¼¼ï¼Œå¾ä¼æ¥­ç®¡ç†åˆ°æ©Ÿå™¨å­¸ç¿’ç­‰é ˜åŸŸçš„ 200 å¤šå€‹ API éƒ½å¯ä»¥è¼•é¬†åœ°èˆ‡ GCP å°ˆæ¡ˆå’Œæ‡‰ç”¨ç¨‹å¼æ•´åˆã€‚</p><p>API æ˜¯ â€œApplication Programming Interfacesâ€ï¼Œå¯ä»¥ç›´æ¥æˆ–é€šé Google Cloud client library å‘¼å« (call) å®ƒå€‘ã€‚ Cloud API ä½¿ç”¨å®˜æ–¹çš„ <a href="https://cloud.google.com/apis/design/" target="_blank" rel="noopener">Google API Design Guide</a> ä¸­æè¿°çš„è³‡æºå°å‘çš„è¨­è¨ˆåŸå‰‡ã€‚</p><p>ç•¶ Qwiklabs ç‚º lab instance æä¾›æ–°çš„ GCP å°ˆæ¡ˆæ™‚ï¼Œå®ƒå¯ä»¥åœ¨èƒŒå¾Œå•Ÿç”¨å¤§å¤šæ•¸çš„ APIï¼Œä»¥ä¾¿ä½ å¯ä»¥ç«‹å³è™•ç† lab çš„ä»»å‹™ã€‚ä½†è¦æ³¨æ„çš„äº‹ï¼Œç•¶ä½ åœ¨ Qwiklabs ä¹‹å¤–å»ºç«‹è‡ªå·±çš„ GCP å°ˆæ¡ˆæ™‚ï¼Œå¿…é ˆè‡ªå·±å•Ÿç”¨æŸäº› APIã€‚</p><p>å¤§å¤šæ•¸é›²ç«¯ API æœƒç‚ºä½ æä¾›æœ‰é—œå°ˆæ¡ˆä½¿ç”¨è©² API çš„è©³ç´°è³‡è¨Š (åŒ…æ‹¬æµé‡ã€éŒ¯èª¤ç‡ã€å»¶é²æ™‚é–“)ï¼Œå¹«åŠ©ä½ å¿«é€Ÿæ‰¾åˆ°ä½¿ç”¨ Googleæœå‹™çš„æ‡‰ç”¨ç¨‹åºå•é¡Œã€‚ä½ å¯ä»¥é€šéæ‰“é–‹å°èˆªé¸å–®ä¸¦é»æ“Šã€ŒAPIs &amp; Services &gt; Libraryã€ä¾†æŸ¥çœ‹æ­¤è³‡è¨Šï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-14-17-53-30.gif" alt=""></p><p>åœ¨ API æœå°‹æ¬„ä¸­ï¼Œè¼¸å…¥ â€œDialogflowâ€ ä¸¦é¸æ“‡ Dialogflow API å¾Œï¼Œå°±æœƒçœ‹åˆ°ä¸‹åœ–çš„é é¢ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-15-17-55-00.png" alt=""></p><p>Dialogflow API å¯è®“ä½ å»ºç½®å°è©±å¼ (conversational) æ‡‰ç”¨ç¨‹å¼ (ä¾‹å¦‚ï¼Œfor Google Assistant)ï¼Œè€Œç„¡éœ€æ“”å¿ƒåº•å±¤æ©Ÿå™¨å­¸ç¿’å’Œè‡ªç„¶èªè¨€ç†è§£ (Natural Language Understanding) schemaã€‚</p><p>é»æ“Šã€ŒENABLEã€æŒ‰éˆ•å¾Œæœƒè·³è‡³æ–°é é¢ï¼Œæ¥è‘—é»æ“Šç€è¦½å™¨çš„è¿”å›æŒ‰éˆ•å°±å¯çœ‹åˆ°ã€ŒAPI enabledã€ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-15-18-08-40.png" alt=""></p><p>é»æ“Šã€ŒTry this APIã€æŒ‰éˆ•æœƒä»¥æ–°åˆ†é çš„æ–¹å¼é–‹å•Ÿ Dialogflow API çš„æ–‡ä»¶ï¼Œä¸¦ä¸”å¯ä»¥æŒ‡å®šå¯ç”¨çš„ API æ–¹æ³•ã€‚</p><p><img src="../images/getting-started-with-gcp/2019-04-15-22-01-55.png" alt=""></p><blockquote><p>è©³æƒ…å¯æŸ¥çœ‹ Google Cloud ä¸­åç‚º <a href="https://developers.google.com/apis-explorer/#p/" target="_blank" rel="noopener">APIs Explorer</a> çš„ hands-on å·¥å…·ã€‚</p></blockquote><h2 id="Cloud-Shell"><a class="header-anchor" href="#Cloud-Shell"></a>Cloud Shell</h2><p><a href="https://cloud.google.com/shell/docs/features" target="_blank" rel="noopener">Cloud Shell</a> æ˜¯åœ¨ç€è¦½å™¨å…§çš„æŒ‡ä»¤æç¤º (command prompt) åŸ·è¡Œç’°å¢ƒï¼Œå…è¨±ä½ åœ¨çµ‚ç«¯æç¤º (terminal prompt) ä¸‹è¼¸å…¥æŒ‡ä»¤ä¾†ç®¡ç† GCP å°ˆæ¡ˆä¸­çš„è³‡æºå’Œæœå‹™ã€‚Cloud Shell èƒ½è®“ä½ åœ¨ä¸é›¢é–‹ console çš„æƒ…æ³ä¸‹åŸ·è¡Œæ‰€æœ‰ shell æŒ‡ä»¤ï¼Œä¸¦æœ‰é è£çš„ command-line å·¥å…·ã€‚</p><p>åœ¨ console çš„å³ä¸Šè§’é»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼Œç„¶å¾Œåœ¨å‡ºç¾æç¤ºæ™‚é»æ“Šã€ŒSTART CLOUD SHELLã€æŒ‰éˆ•ï¼š</p><p><img src="../images/getting-started-with-gcp/2019-04-15-19-08-40.gif" alt=""></p><p>æ¥è‘—æœƒåœ¨ console åº•éƒ¨å‡ºç¾ä¸€å€‹æ–°çš„é»‘è‰²è¦–çª—ï¼Œè¦–çª—å…§æœƒå‡ºç¾é¡ä¼¼ä»¥ä¸‹å…§å®¹çš„è¨Šæ¯å’Œæç¤ºï¼Œé€™ä»£è¡¨ä½ å·²å•Ÿå‹•ä¸¦åŸ·è¡Œ Cloud Shell sessionï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">Welcome to Cloud Shell! Type "help" to get started.<br>Your Cloud Platform project in this session is set to qwiklabs-gcp-76ad0f1342e20013.<br>Use "gcloud config set project [PROJECT_ID]" to change to a different project.<br>gcpstaging23396_student@cloudshell:~ (qwiklabs-gcp-76ad0f1342e20013)$<br></code></pre></td></tr></table></figure><p>æ¥è‘—å°‡ä¸‹é¢æŒ‡ä»¤è¤‡è£½ä¸¦è²¼ (æˆ–è¼¸å…¥) è‡³ Cloud Shell ä¸Šï¼Œç„¶å¾ŒæŒ‰ Enter éµåŸ·è¡Œï¼Œæ‡‰è©²æœƒçœ‹åˆ°é¡ä¼¼ä¸‹é¢çš„è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       gcpstaging23396_student@qwiklabs.net<br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ <code>ACTIVE ACCOUNT</code> æ˜¯è¨­ç‚ºä½ çš„ GCP IAM èº«ä»½ (ä¹Ÿå°±æ˜¯ <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œ<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list" target="_blank" rel="noopener"><code>gcloudauth list</code></a> æŒ‡ä»¤æœƒåˆ—å‡º GCP å°ˆæ¡ˆä¸­æœ‰æ†‘è­‰çš„å¸³è™Ÿã€‚æ­¤å¸³è™Ÿåç¨±èˆ‡ä¹‹å‰ç™»å…¥åˆ° console çš„ Qwiklabs å¸³è™Ÿç›¸åŒã€‚ï¼š</p><p>å¦‚ä¹‹å‰æ‰€èªªçš„ï¼ŒCloud Shell é è£äº†ç‰¹å®šçš„ command-line å·¥å…·ï¼Œä¸»è¦çš„ GCP toolkit æ˜¯ <a href="https://cloud.google.com/sdk/gcloud/" target="_blank" rel="noopener"><code>gcloud</code></a>ï¼Œæ˜¯ç”¨æ–¼å¹³å°ä¸Šçš„è¨±å¤šä»»å‹™ï¼Œä¾‹å¦‚ï¼šè³‡æºç®¡ç†å’Œä½¿ç”¨è€…èº«ä»½é©—è­‰ã€‚é™¤äº†é è£çš„ toolkitï¼ŒCloud Shell é‚„é™„å¸¶æ¨™æº–çš„ unix CLI å·¥å…·å’Œ <a href="https://www.nano-editor.org/" target="_blank" rel="noopener">nano</a> ç­‰æ–‡å­—ç·¨è¼¯å™¨ï¼Œåœ¨ Cloud Shell ä¸­å¯ä»¥åˆ©ç”¨å®ƒå€‘ä¾†å»ºç«‹å’Œç·¨è¼¯æª”æ¡ˆã€‚</p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/2794?parent=catalog" target="_blank" rel="noopener">A Tour of Qwiklabs and the Google Cloud Platform</a> (æœ¬ç¯‡å¤§å¤šæ•¸çš„åœ–ç‰‡ä¾†æº)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ NIGNX Web server</title>
      <link href="/article/gcp-vm-nignx-web-server.html"/>
      <url>/article/gcp-vm-nignx-web-server.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/gcp.jpg" alt=""></p><p>æœ¬ç¯‡æ˜¯ç´€éŒ„åœ¨ Google çš„ Qwiklab å¹³å°å…§ï¼Œå®Œæˆã€Œ<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine</a>ã€é€™å€‹ quest æ‰€å­¸åˆ°çš„å…§å®¹ï¼ŒåŒ…æ‹¬å¦‚ä½•é€é GCP Console å’Œ command-line å·¥å…· <code>gcloud</code> åœ¨ GCP å»ºç«‹ instanceï¼Œå¦‚ä½•ä½¿ç”¨ <code>gcloud</code> é€é SSH é€£æ¥åˆ°ä½ çš„ instanceï¼Œä»¥åŠå¦‚ä½•åœ¨ VM ä¸Šéƒ¨ç½² NIGNX web serverã€‚</p><a id="more"></a><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-13-47-05.png" alt=""></p><p>é€é Google Compute Engineï¼Œå¯åœ¨ Google åŸºç¤æ¶æ§‹ä¸Šï¼Œå»ºç«‹åŸ·è¡Œä¸åŒä½œæ¥­ç³»çµ±çš„ VM (virtual machineï¼Œè™›æ“¬æ©Ÿ)ï¼ŒåŒ…æ‹¬å¤šç¨® Linux (Debianã€Ubuntuã€Suseã€Red Hatã€CoreOS) å’Œ Windows Serverã€‚</p><p>å¯ä»¥å­¸åˆ°å¦‚ä½•ä½¿ç”¨ Google Cloud Platform (GCP) Console å’Œ <code>gcloud</code> command-line å»ºç«‹å„ç¨®æ©Ÿå™¨é¡å‹çš„è™›æ“¬æ©Ÿ instance (å¯¦ä¾‹)ï¼Œé‚„èƒ½å­¸ç¿’å¦‚ä½•å°‡ NGINX web server é€£æ¥åˆ° VMã€‚</p><blockquote><p>è‹¥æƒ³äº†è§£å¦‚ä½• <a href="./gcp-vm-windows-server.html">åœ¨ GCP ä¸Šå»ºç«‹ VM æ¶è¨­ Windows Server</a> å¯åƒè€ƒæ­¤ç¯‡ã€‚</p></blockquote><h2 id="æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ"><a class="header-anchor" href="#æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ"></a>æœ¬ç¯‡å°‡æœƒåšä»€éº¼ï¼Ÿ</h2><ul><li>ä½¿ç”¨ GCP Console å»ºç«‹ VM</li><li>ä½¿ç”¨ <code>gcloud</code> command-line å»ºç«‹ VM</li><li>åœ¨ VM ä¸Šéƒ¨ç½² web server</li></ul><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><p>åœ¨é»æ“Šã€ŒStart Labã€ä¹‹å‰ï¼Œæº–å‚™å¥½ç¶²è·¯ç€è¦½å™¨ (æ¨è–¦ç”¨ Google Chrome)ï¼Œä¸¦ä¸”è‡³å°‘ 40 åˆ†é˜å¯ä»¥å°ˆæ³¨çš„æ™‚é–“ï¼Œå› ç‚º lab æ˜¯æœ‰æ™‚é–“é™åˆ¶ï¼Œç•¶ä½ æŒ‰ä¸‹ã€ŒStart Labã€é–‹å§‹å­¸ç¿’æ™‚ï¼Œç„¡æ³•æš«åœå€’æ•¸è¨ˆæ™‚ï¼Œä½ åªèƒ½åœ¨é€™æ®µæ™‚é–“å…§ä½¿ç”¨ lab æä¾›çµ¦ä½ çš„å…¨æ–°æš«æ™‚ GCP Console å¯ç”¨å¸³è™Ÿï¼Œæ™‚é–“åˆ°ä¹‹å¾Œçš„å¹¾åˆ†é˜å°±æœƒè‡ªå‹•ç™»å‡ºã€‚</p><div class="warning"><p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰è‡ªå·±çš„å€‹äºº GCP å¸³è™Ÿæˆ–å°ˆæ¡ˆï¼Œè«‹ä¸è¦åœ¨æ­¤ lab ä½¿ç”¨</p></div><h2 id="é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"><a class="header-anchor" href="#é–‹å§‹ä½ çš„-Labï¼Œç„¶å¾Œç™»å…¥-GCP-Console"></a>é–‹å§‹ä½ çš„ Labï¼Œç„¶å¾Œç™»å…¥ GCP Console</h2><ol><li>å¦‚æœæº–å‚™è¦é–‹å§‹ï¼Œå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ã€ŒStart Labã€é–‹å§‹ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-13-47-32.png" alt=""></p><ol start="2"><li>æ¥è‘—æœƒå‡ºç¾é€™å€‹ç•«é¢ï¼Œå› ç‚ºæˆ‘åƒåŠ  <a href="https://www.facebook.com/events/2005848903055499/" target="_blank" rel="noopener">GDG Tainan</a> çš„æ´»å‹•ï¼Œæ´»å‹•æœ‰æä¾› Qwiklabs ä¸€å€‹æœˆçš„å…è²»é¡åº¦ï¼Œæ‰€ä»¥æˆ‘é»é¸ä¸‹åœ–å·¦é‚Šçš„ã€ŒUse Subscriptionã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-21-15.png" alt=""></p><ol start="3"><li>Lab æœƒæä¾›çµ¦ä½ å…è²»æš«æ™‚çš„ GCP å¸³è™Ÿï¼Œè¤‡è£½å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œç„¶å¾Œé»æ“Šã€ŒOpen Google Consoleã€é–‹å•Ÿ <a href="https://cloud.google.com/storage/docs/cloud-console" target="_blank" rel="noopener">GCP Console</a>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-33-31.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><ol start="4"><li>æ¥è‘—å°±æœƒé–‹å•Ÿç™»å…¥é é¢ï¼Œå»ºè­°å¦å¤–é–‹ Chrome ç„¡ç—•æ¨¡å¼ä¾†ç™»å…¥ lab æä¾›çš„å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œå› ç‚º Chrome æœƒç´€éŒ„å¸³å¯†ï¼Œç¾åœ¨ç™»å…¥çš„åªæ˜¯æš«æ™‚å¸³è™Ÿï¼Œæœªä¾†ä¸éœ€è¦ç”¨åˆ°ï¼š</li></ol><div class="warning"><p>æ³¨æ„ï¼šé€™é‚Šæ˜¯ç™»å…¥ lab æä¾›çš„å¸³è™Ÿ (ä¹Ÿå°±æ˜¯ email å¿…é ˆç‚º <code>googlexxxxxx_student@qwiklabs.net</code> )ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„ GCP å¸³è™Ÿï¼Œè«‹ä¸è¦ç”¨æ–¼æ­¤ labï¼Œé¿å…ç”¢ç”Ÿè²»ç”¨</p><blockquote><p>é¡ä¼¼æ–¼ <code>googlexxxxxx_student@qwiklabs.net</code> çš„å¸³è™Ÿæ˜¯ä¸€å€‹ Google å¸³è™Ÿï¼Œå°ˆç‚º Qwiklabs å­¸ç”Ÿä½¿ç”¨è€Œå»ºç«‹çš„ã€‚å®ƒå…·æœ‰ç‰¹å®šçš„åŸŸå (ä¹Ÿå°±æ˜¯ <code>qwiklabs.net</code> )ï¼Œä¸¦ä¸”å·²åˆ†é…äº† IAM è§’è‰²ï¼Œå…è¨±ä½ å»å­˜å–è©² GCP å°ˆæ¡ˆã€‚</p></blockquote></div><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-30.png" alt=""></p><ol start="5"><li>æ¥å— terms å’Œ conditionsï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-22-59.png" alt=""></p><ol start="6"><li>ä¸è¦æ–°å¢ recovery options æˆ– two-factor authentication (å› ç‚ºé€™æ˜¯ä¸€å€‹è‡¨æ™‚å¸³è™Ÿ)</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-23-18.png" alt=""></p><ol start="7"><li>å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-15.png" alt=""></p><p>ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä½¿ç”¨ GCP Console å›‰ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-14-14-23-55.png" alt=""></p><h2 id="å•Ÿå‹•-Google-Cloud-Shell"><a class="header-anchor" href="#å•Ÿå‹•-Google-Cloud-Shell"></a>å•Ÿå‹• Google Cloud Shell</h2><p>Google Cloud Shell æ˜¯è¼‰å…¥äº†é–‹ç™¼å·¥å…·çš„ VMï¼Œå®ƒæä¾› 5GB çš„ home ç›®éŒ„ï¼Œä¸¦åœ¨ Google Cloud ä¸ŠåŸ·è¡Œã€‚å¯ç”¨ Google Cloud Shell æä¾›çš„ command-line ä¾†å­˜å– GCP çš„è³‡æºã€‚</p><ol><li>åœ¨ GCP console çš„å³ä¸Šæ–¹å·¥å…·åˆ—ä¸­ï¼Œé»æ“Šã€ŒActivate Cloud Shellã€æŒ‰éˆ•ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-24-42.png" alt=""></p><ol start="2"><li>åœ¨æ‰“é–‹çš„å°è©±æ¡†å…§ï¼Œé»æ“Šã€ŒSTART CLOUD SHELLã€ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-25-23.png" alt=""></p><ol start="3"><li>é€£æ¥å’Œæä¾›ç’°å¢ƒéœ€è¦ä¸€äº›æ™‚é–“ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-05.png" alt=""></p><ol start="4"><li>é€£æ¥å¾Œï¼Œå°±ä»£è¡¨ä½ å·²ç¶“éèº«ä»½é©—è­‰ï¼Œå°ˆæ¡ˆå·²è¨­ç½®ç‚º <code>PROJECT_ID</code>ï¼Œä»¥ä¸‹åœ–çš„ç‚ºä¾‹ï¼Œæ­¤å°ˆæ¡ˆçš„ ID ç‚º <code>qwiklabs-gcp-f9d61ede8167e6b0</code>ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-26-34.png" alt=""></p><p><code>gcloud</code> æ˜¯ GCP çš„ command-line å·¥å…·ï¼Œä»–å·²é å…ˆå®‰è£åœ¨ Cloud Shell ä¸Šï¼Œä¸¦ä¸”æ”¯æ´ tab è‡ªå‹•è£œé½Š (tab-completion)ã€‚</p><p>æœªä¾†å¯ä½¿ç”¨ <code>gcloud</code> çš„ä¸‹é¢æŒ‡ä»¤ä¸¦é€é <code>PROJECT_ID</code> ä¾†æ›´æ›æˆå…¶ä»–å°ˆæ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> project [PROJECT_ID]</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯åˆ—å‡ºæœ‰æ•ˆå¸³è™Ÿåç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>          Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ—å‡ºå°ˆæ¡ˆ IDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config list project</span><br>[core]<br>project = qwiklabs-gcp-f9d61ede8167e6b0<br><br>Your active configuration is: [cloudshell-9292]<br></code></pre></td></tr></table></figure><h2 id="ç†è§£-Regions-å’Œ-Zones"><a class="header-anchor" href="#ç†è§£-Regions-å’Œ-Zones"></a>ç†è§£ Regions å’Œ Zones</h2><p>Compute Engine è³‡æºä½æ–¼ä¸åŒçš„ regions (åœ°å€) æˆ– zones (å€åŸŸ)ã€‚region æ˜¯ä½ å¯ä»¥åŸ·è¡Œè³‡æºçš„æ‰€åœ¨ç‰¹å®šåœ°ç†ä½ç½®ã€‚æ¯å€‹ region éƒ½æœ‰ä¸€å€‹æˆ–å¤šå€‹ zonesã€‚ä¾‹å¦‚ï¼Œ<code>us-central1</code> region ä»£è¡¨ç¾åœ‹ä¸­éƒ¨åœ°å€ï¼Œå…¶ä¸­åŒ…å«çš„ Zones æœ‰ <code>us-central1-a</code>ã€<code>us-central1-b</code>ã€<code>us-central1-c</code> èˆ‡ <code>us-central1-f</code>ã€‚</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-17-58-23.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></p><p>ä½æ–¼ zone ä¸­çš„è³‡æºéƒ½ç¨±ç‚º zonel (å€åŸŸ) è³‡æºï¼ŒVM instance (å¯¦ä¾‹) å’Œ persistent disk (æ°¸ä¹…ç£ç¢Ÿ) éƒ½ä½æ–¼ zone ä¸­ï¼Œå¦‚æœè¦å°‡ persistent disk é™„åŠ åˆ° VM instanceï¼Œé€™å…©å€‹è³‡æºéƒ½å¿…é ˆä½æ–¼åŒä¸€å€‹ zone ä¸­ã€‚åŒæ¨£ï¼Œå¦‚æœè¦å°‡éœæ…‹ IP ä½å€åˆ†é…åˆ° instanceï¼Œæ­¤ instance å°±å¿…é ˆèˆ‡éœæ…‹ IP ä½æ–¼åŒä¸€å€‹ region ä¸­ã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒ GCP å®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank" rel="noopener">Regions &amp; Zones</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å¾-Cloud-Console-å»ºç«‹æ–°çš„-instance"><a class="header-anchor" href="#å¾-Cloud-Console-å»ºç«‹æ–°çš„-instance"></a>å¾ Cloud Console å»ºç«‹æ–°çš„ instance</h2><p>åœ¨ GCP Console çš„å³ä¸Šè§’ï¼Œé»é¸ã€ŒNavigation menu &gt; Compute Engine &gt; VM Instancesã€ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-18-16-42.png" alt=""></p><p>æ¥è‘—é»æ“Šã€ŒCreateã€å»ºç«‹æ–°çš„ instanceï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-31-03.png" alt=""></p><p>å»ºç«‹æ–°çš„ instance æ™‚å¯ä»¥è¨­å®šå¾ˆå¤šåƒæ•¸ã€‚åœ¨æ­¤ lab ä¸­æœƒä½¿ç”¨ä»¥ä¸‹è¨­å®šï¼š</p><table><thead><tr><th>æ¬„ä½</th><th>å€¼</th><th>é¡å¤–è³‡è¨Š</th></tr></thead><tbody><tr><td>name</td><td><code>gcelab</code></td><td></td></tr><tr><td>region</td><td><code>us-central1 (Iowa)</code><br>æˆ–<br><code>asia-south1 (Mumbai)</code></td><td><a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank" rel="noopener">æ›´å¤šé—œæ–¼ regions çš„è³‡è¨Š</a></td></tr><tr><td>zone</td><td><code>us-central1-c</code><br>æˆ–<br><code>asia-south1-c</code><br>æ³¨æ„ï¼šè¨˜ä½ä½ é¸æ“‡çš„ zoneï¼Œä¹‹å¾Œæœƒç”¨åˆ°</td><td><a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank" rel="noopener">æ›´å¤šé—œæ–¼ zones çš„è³‡è¨Š</a></td></tr><tr><td>Machine Type</td><td><code>2 vCPU</code><br>é€™æ˜¯ä¸€å€‹ ( <code>n1-standard-2</code> )<br>2-CPU, 7.5 GB RAM instance<br><br>æœ‰å¾ˆå¤šæ©Ÿå‹å¯ä»¥é¸æ“‡ï¼Œå¾ micro instance é¡å‹çš„åˆ° 32-core/208 GB RAM çš„éƒ½æœ‰ï¼Œè©³æƒ…å¯åƒè€ƒ<a href="https://cloud.google.com/compute/docs/machine-types" target="_blank" rel="noopener">æ©Ÿå‹ç¨®é¡</a>æ–‡ä»¶</td><td>æ³¨æ„ï¼šæ–°å°ˆæ¡ˆå…·æœ‰é è¨­çš„<a href="https://cloud.google.com/compute/quotas" target="_blank" rel="noopener">è³‡æºé…é¡</a>ï¼Œå¯èƒ½æœƒé™åˆ¶ CPU æ ¸å¿ƒæ•¸ã€‚å¯åœ¨æ­¤ lab ä¹‹å¤–çš„å°ˆæ¡ˆä¸Šç”³è«‹åˆ°æ›´é«˜çš„è¦æ ¼</td></tr><tr><td>Boot Disk</td><td><code>New 10 GB standard persistent disk</code><br><code>OS Image: Debian GNU/Linux 9 (Stretch)</code></td><td>æœ‰å¾ˆå¤š images å¯ä»¥é¸æ“‡ï¼ŒåŒ…æ‹¬ï¼šDebianã€Ubuntuã€CoreOSï¼Œä»¥åŠ premium imagesï¼Œåƒæ˜¯ RedHat Enterprise Linux å’Œ Windows Serverï¼Œè©³æƒ…å¯åƒè€ƒ <a href="https://cloud.google.com/compute/docs/images" target="_blank" rel="noopener">OS</a> æ–‡ä»¶</td></tr><tr><td>Firewall</td><td>å‹¾é¸ <code>Allow HTTP traffic</code>ï¼Œå‹¾é¸æ­¤é¸é …æ‰èƒ½å­˜å–ä¹‹å¾Œå®‰è£çš„ web server</td><td>æ³¨æ„ï¼šé€™æœƒè‡ªå‹•å»ºç«‹é˜²ç«ç‰†è¦å‰‡ï¼Œå…è¨± 80 port çš„ HTTP æµé‡</td></tr></tbody></table><p>è¨­å®šå¥½ä¹‹å¾Œï¼Œé»æ“Šã€ŒCreateã€ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-32-27.png" alt=""></p><p>ç­‰å¾… instance å»ºç«‹ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-34-20.png" alt=""></p><p>çœ‹åˆ°ä¸‹é¢ç•«é¢å°±ä»£è¡¨ instance å·²å»ºç«‹å®Œæˆï¼Œæ¥è‘—é»æ“Šå³é‚Šçš„ã€ŒSSHã€æŒ‰éˆ•ï¼Œæœƒé–‹å•Ÿæ–°çš„ç€è¦½å™¨é é¢ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-18-44-40.png" alt=""></p><p>æ­¤é é¢æ˜¯ç›´æ¥å¾ç€è¦½å™¨å•Ÿå‹• SSH client é€£æ¥åˆ° VMï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-35-45.png" alt=""></p><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/instances/connecting-to-instance" target="_blank" rel="noopener">Connect to an instance using ssh</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å®‰è£-NGINX-web-server"><a class="header-anchor" href="#å®‰è£-NGINX-web-server"></a>å®‰è£ NGINX web server</h2><ol><li>é€é SSH é€£æ¥ VM ä¹‹å¾Œï¼Œè«‹ä½¿ç”¨ <code>sudo</code> å–å¾— <code>root</code> çš„å­˜å–æ¬Šé™ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo su -</span><br></code></pre></td></tr></table></figure><ol start="2"><li>æ›´æ–° OSï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> apt-get update</span><br>Get:1 http://security.debian.org stretch/updates InRelease [94.3 kB]<br>Ign:2 http://deb.debian.org/debian stretch InRelease      <br>Get:3 http://deb.debian.org/debian stretch-updates InRelease [91.0 kB]     <br>...<br></code></pre></td></tr></table></figure><ol start="3"><li>å®‰è£ NGINXï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> apt-get install nginx -y</span><br></code></pre></td></tr></table></figure><ol start="4"><li>æª¢æŸ¥ NGINX æ˜¯å¦æ­£åœ¨åŸ·è¡Œï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ps auwx | grep nginx</span><br>root      2339  0.0  0.0 159532  1628 ?        Ss   06:37   0:00 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;<br>www-data  2340  0.0  0.0 159864  3200 ?        S    06:37   0:00 nginx: worker process<br>www-data  2341  0.0  0.0 159864  3200 ?        S    06:37   0:00 nginx: worker process<br>root      2350  0.0  0.0  12780   952 pts/0    S+   06:37   0:00 grep nginx<br></code></pre></td></tr></table></figure><div class="info"><p>è¨»ï¼šå¦‚æœé—œæ‰ NGINX å°±ä¸æœƒå‡ºç¾é—œæ–¼ NGINX çš„ processï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ service nginx stop<br><br>$ ps auwx | grep nginx<br>root      2359  0.0  0.0  12780  1012 pts&#x2F;0    S+   14:23   0:00 grep nginx<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤å¯ä»¥å•Ÿå‹• NGINXï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> service nginx start</span><br></code></pre></td></tr></table></figure></div><ol start="5"><li>å›åˆ° Cloud Consoleï¼Œä¸¦é»æ“Š VM instance çš„ External IP é€£çµï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-38-31.png" alt=""></p><ol start="6"><li>å°±æœƒé–‹å•Ÿæ–°åˆ†é ï¼Œå¯ä»¥çœ‹åˆ° NGINX web server çš„é è¨­ç¶²é ï¼š</li></ol><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-41-35.png" alt=""></p><h2 id="ä½¿ç”¨-gcloud-å»ºç«‹æ–°çš„-instance"><a class="header-anchor" href="#ä½¿ç”¨-gcloud-å»ºç«‹æ–°çš„-instance"></a>ä½¿ç”¨ gcloud å»ºç«‹æ–°çš„ instance</h2><p>å‰é¢ä»‹ç´¹çš„æ˜¯åˆ©ç”¨ GCP Console ä¾†å»ºç«‹ VM instanceï¼Œé€™é‚Šè¦ä»‹ç´¹çš„æ˜¯å¯ä»¥ä½¿ç”¨é è£åœ¨ <a href="https://cloud.google.com/shell/#how_do_i_get_started" target="_blank" rel="noopener">Google Cloud Shell</a> ä¸­çš„ command-line å·¥å…· <code>gcloud</code> ä¾†å®Œæˆä¸€æ¨£çš„äº‹ã€‚Cloud Shell æ˜¯åŸºæ–¼ Debian çš„ VMï¼Œé è¼‰ä½ æ‰€éœ€çš„æ‰€æœ‰é–‹ç™¼å·¥å…· (<code>gcloud</code>ã€<code>git</code> â€¦ ç­‰å…¶ä»–)ï¼Œä¸¦æä¾› 5 GB persistent disk çš„ home ç›®éŒ„ã€‚</p><blockquote><p>è©³æƒ…å¯åƒè€ƒ <a href="https://cloud.google.com/sdk/gcloud/" target="_blank" rel="noopener">gcloud command line tool guide</a>ã€‚</p></blockquote><p>åœ¨ Cloud Shell ä½¿ç”¨ command-line å·¥å…· <code>gcloud</code> å»ºç«‹ä¸€å°æ–°çš„ VM instanceï¼Œå°‡ <code>[YOUR_ZONE]</code> æ›¿æ›æˆå‰é¢ä½¿ç”¨çš„ zoneï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances create gcelab2 --machine-type n1-standard-2 --zone [your_zone]</span><br></code></pre></td></tr></table></figure><p>åƒæˆ‘å‰é¢çš„ zone æ˜¯ç”¨ <code>asia-south1-c</code>ï¼Œæ‰€ä»¥æŒ‡ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances create gcelab2 --machine-type n1-standard-2 --zone asia-south1-c</span><br>Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-f9d61ede8167e6b0/zones/asia-south1-c/instances/gcelab2].<br>NAME     ZONE           MACHINE_TYPE   PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP   STATUS<br>gcelab2  asia-south1-c  n1-standard-2               10.160.0.3   35.244.6.170  RUNNING<br></code></pre></td></tr></table></figure><p>å»ºç«‹çš„ instance å…·æœ‰ä»¥ä¸‹é è¨­å€¼ï¼š</p><ul><li>æœ€æ–°çš„ <a href="https://cloud.google.com/compute/docs/images#debian" target="_blank" rel="noopener">Debian 9 (stretch)</a> image</li><li>é è¨­æ©Ÿå‹ (machine type) ç‚º <code>n1-standard-2</code>ï¼Œåœ¨æ­¤ lab ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>n1-highmem-4</code> æˆ– <code>n1-highcpu-4</code> å…¶ä»–<a href="https://cloud.google.com/compute/docs/machine-types" target="_blank" rel="noopener">æ©Ÿå‹</a>ã€‚åœ¨ lab ä¹‹å¤–çš„å°ˆæ¡ˆå¯ä»¥æŒ‡å®š<a href="https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type" target="_blank" rel="noopener">è‡ªè¨‚çš„æ©Ÿå‹</a></li><li>root persistent disk é è¨­èˆ‡ instance çš„åç¨±ä¸€æ¨£ï¼Œdisk æœƒè‡ªå‹•é™„åŠ åˆ° instance</li></ul><p>åŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰é è¨­å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute instances create --<span class="hljs-built_in">help</span></span><br></code></pre></td></tr></table></figure><div class="info"><p>Noteï¼šå¦‚æœä½ ç¸½æ˜¯ä½¿ç”¨åŒä¸€å€‹ region/zoneï¼Œä¸¦ä¸”ä¸å¸Œæœ›æ¯æ¬¡éƒ½ä½¿ç”¨ <code>--zone</code> åƒæ•¸ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ï¼Œå°‡æŒ‡å®šçš„ region å’Œ zones è¨­ç‚ºé è¨­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> compute/zone ...</span><br><span class="hljs-meta">$</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> compute/region ...</span><br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://cloud.google.com/compute/docs/gcloud-compute/#default-properties" target="_blank" rel="noopener">gcloud compute | Compute Engine Documentation</a> æ–‡ä»¶ã€‚</p></blockquote></div><p>è‹¥è¦æŸ¥çœ‹å‰›å‰›å»ºç«‹çš„ instance æ˜¯å¦æˆåŠŸå»ºç«‹ï¼Œå°±è¦å›åˆ°ã€ŒNavigation menu &gt; Compute Engine &gt; VM Instancesã€é é¢ï¼Œå¦‚æœé‚„æ˜¯æ²’æœ‰çœ‹åˆ°ï¼Œå°±å¯ä»¥é»æ“Šã€ŒREFRESHã€æŒ‰éˆ•é‡æ–°æ•´ç†æ­¤é é¢ï¼Œæ‡‰è©²å°±æœƒçœ‹åˆ°å‰›å‰›å»ºç«‹åç‚º <code>gcelab2</code> çš„ instanceï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-45-59.png" alt=""></p><p>æ¥è‘—ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>gcloud</code> é€é SSH é€£æ¥åˆ°ä½ çš„ instanceï¼Œé€£ç·šæ™‚ï¼Œè«‹ç¢ºèªæŒ‡ä»¤å¾Œé¢ <code>--zone</code> åƒæ•¸çš„ <code>[YOUR_ZONE]</code> æ˜¯å¦å’Œç•¶åˆå»ºç«‹çš„ä¸€æ¨£ï¼Œæˆ–æ˜¯å¦‚æœä½ å·²åœ¨å…¨åŸŸè¨­å®šé è¨­ (ä¸Šé¢ Note æåˆ°çš„éƒ¨åˆ†)ï¼Œå°±å¯ä»¥çœç•¥ <code>--zone</code> åƒæ•¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute ssh gcelab2 --zone [YOUR_ZONE]</span><br></code></pre></td></tr></table></figure><p>åƒæˆ‘æ²’æœ‰åœ¨å…¨åŸŸè¨­å®šé è¨­ï¼Œæ‰€ä»¥éœ€è¦åœ¨æŒ‡ä»¤å¾Œé¢åŠ ä¸Š <code>--zone</code> åƒæ•¸ï¼Œ<code>[YOUR_ZONE]</code> å‰‡æ˜¯ç•¶åˆå»ºç«‹çš„ <code>asia-south1-c</code>ï¼ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute ssh gcelab2 --zone asia-south1-c</span><br>WARNING: The public SSH key file for gcloud does not exist.<br>WARNING: The private SSH key file for gcloud does not exist.<br>WARNING: You do not have an SSH key for gcloud.<br>WARNING: SSH keygen will be executed to generate a key.<br>This tool needs to create the directory<br>[/home/google3043863_student/.ssh] before being able to generate SSH<br>keys.<br><br>Do you want to continue (Y/n)?<br></code></pre></td></tr></table></figure><p>æ¥è‘—æœƒå‡ºç¾ä¸‹é¢ç•«é¢ï¼Œè«‹è¼¸å…¥ <code>Y</code> ç¹¼çºŒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Do you want to continue (Y/n)?  y<br></code></pre></td></tr></table></figure><p>æ­¤æ™‚æœƒç”¢ç”Ÿä¸€å°å…¬é‘° (public key) å’Œç§é‘° (private key)ï¼Œæ¥è‘—æŒ‰ <code>Enter</code> éµï¼Œä¸è¼¸å…¥ä¹Ÿä¸è¨­å®š passphrase (å¦‚æœæ˜¯åœ¨çœŸæ­£çš„å°ˆæ¡ˆå°±å»ºè­°è¼¸å…¥ passphraseï¼Œå› ç‚ºç•¶åˆ¥äººæ‹¿èµ°ä½ çš„ç§é‘°æ™‚ï¼Œå°±ç„¡æ³•ç›´æ¥ç™»å…¥ä¸»æ©Ÿï¼Œé‚„è¦è¼¸å…¥ passphraseï¼Œå®‰å…¨æ€§æœƒæ¯”è¼ƒé«˜)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs plain">Generating public&#x2F;private rsa key pair.<br>Enter passphrase (empty for no passphrase):<br>Enter same passphrase again:<br>Your identification has been saved in &#x2F;home&#x2F;google3043863_student&#x2F;.ssh&#x2F;google_compute_engine.<br>Your public key has been saved in &#x2F;home&#x2F;google3043863_student&#x2F;.ssh&#x2F;google_compute_engine.pub.<br>The key fingerprint is:<br>SHA256:LJMylIaZY1aNf2v0uP&#x2F;a83TSVw506GazmtvrTyPCxqU google3043863_student@cs-6000-devshell-vm-8e6e4e18-0f7e-4771-ac48-22ab57ceb161<br>The key&#39;s randomart image is:<br>+---[RSA 2048]----+<br>|    .o           |<br>|   &#x3D;...        . |<br>|  B +.        o .|<br>| o +  .oo    o . |<br>|    o +oS+   .* .|<br>|     o o+ + oo *.|<br>|       . . E .+.*|<br>|        . ..o&#x3D;.+o|<br>|         .oo*&#x3D;&#x3D;o.|<br>+----[SHA256]-----+<br>Warning: Permanently added &#39;compute.3226821850929314737&#39; (ECDSA) to the list of known hosts.<br>Linux gcelab2 4.9.0-8-amd64 #1 SMP Debian 4.9.144-3.1 (2019-02-19) x86_64<br><br>The programs included with the Debian GNU&#x2F;Linux system are free software;<br>the exact distribution terms for each program are described in the<br>individual files in &#x2F;usr&#x2F;share&#x2F;doc&#x2F;*&#x2F;copyright.<br><br>Debian GNU&#x2F;Linux comes with ABSOLUTELY NO WARRANTY, to the extent<br>permitted by applicable law.<br>Creating directory &#39;&#x2F;home&#x2F;google3043863_student&#39;.<br></code></pre></td></tr></table></figure><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-48-46.png" alt=""></p><h2 id="ä½¿ç”¨-gcloud-è¨­å®šé˜²ç«ç‰†"><a class="header-anchor" href="#ä½¿ç”¨-gcloud-è¨­å®šé˜²ç«ç‰†"></a>ä½¿ç”¨ gcloud è¨­å®šé˜²ç«ç‰†</h2><p>å¦‚æœæˆ‘å·²ç¶“è·Ÿè‘—ä¹‹å‰çš„æ­¥é©Ÿå®‰è£å®Œ NGINX äº†ï¼Œå°±æœƒç™¼ç¾å‰›å‰›å»ºç«‹çš„ instance æ²’æœ‰åšé˜²ç«ç‰†è¨­å®šï¼Œä¹Ÿå°±æ˜¯ä¸å…è¨± 80 port çš„ HTTP æµé‡ï¼Œæ‰€ä»¥å°±å¯ä»¥æ˜¯ç”¨ä¸‹é¢æŒ‡ä»¤ä¾†è¨­å®šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud compute firewall-rules create nginx --allow tcp:80</span><br></code></pre></td></tr></table></figure><p>åŸ·è¡ŒæŒ‡ä»¤å¾Œæœƒçœ‹åˆ°ä¸‹é¢è¨Šæ¯ï¼Œè¨Šæ¯å…§å®¹æ˜¯ç„¡æ³•å»ºç«‹é˜²ç«ç‰†ï¼Œé€™æ˜¯å› ç‚ºè«‹æ±‚çš„èº«åˆ†æ¬Šé™ä¸è¶³ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">Creating firewall...failed.<br>ERROR: (gcloud.compute.firewall-rules.create) Could not fetch resource:<br> - Insufficient Permission: Request had insufficient authentication scopes.<br></code></pre></td></tr></table></figure><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-55-44.png" alt=""></p><p>é‚£å¦‚ä½•çŸ¥é“ç›®å‰çš„æœ‰æ•ˆå¸³è™Ÿåç¨±ï¼Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ä¾†æŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰çš„å¸³è™Ÿä¸æ˜¯ä¹‹å‰ lab æš«æ™‚çµ¦æˆ‘å€‘ç”¨çš„å¸³è™Ÿï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>                  Credentialed Accounts<br>ACTIVE  ACCOUNT<br>*       721269751803-compute@developer.gserviceaccount.com<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å¿…é ˆç™»å…¥ä¹‹å‰çš„å¸³è™Ÿï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth login</span><br>You are running on a Google Compute Engine virtual machine.<br>It is recommended that you use service accounts for authentication.<br><br>You can run:<br><br><span class="hljs-meta">  $</span><span class="bash"> gcloud config <span class="hljs-built_in">set</span> account `ACCOUNT`</span><br><br>to switch accounts if necessary.<br><br>Your credentials may be visible to others with access to this<br>virtual machine. Are you sure you want to authenticate with<br>your personal account?<br><br>Do you want to continue (Y/n)?<br></code></pre></td></tr></table></figure><p>æ¥è‘—æœƒå‡ºç¾ä¸‹é¢ç•«é¢ï¼Œè«‹è¼¸å…¥ <code>Y</code> ç¹¼çºŒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Do you want to continue (Y/n)?<br></code></pre></td></tr></table></figure><p>æ¥è‘—æœƒå‡ºç¾ä¸€é•·ä¸²çš„é€£çµï¼Œé»æ“Šé€™å€‹é€£çµï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">Do you want to continue (Y/n)?  y<br><br>Go to the following link in your browser:<br><br>    https://accounts.google.com/o/oauth2/auth?redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob&amp;prompt=select_account&amp;response_type=code&amp;client_id=32555940559.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloud-platform+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fappengine.admin+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcompute+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Faccounts.reauth&amp;access_type=offline<br><br><br>Enter verification code:<br></code></pre></td></tr></table></figure><p>è©²é€£çµå°±æ˜¯è¦ä½ ç”¨ lab æä¾›çš„å¸³è™Ÿç™»å…¥ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-56-52.png" alt=""></p><p>æ¥è‘—è¦åŒæ„ Google Cloud SDK å­˜å–æ­¤å¸³è™Ÿï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-14-57-02.png" alt=""></p><p>æ¥è‘—è¤‡è£½æ­¤æˆæ¬Šç¢¼ï¼Œå°‡æˆæ¬Šç¢¼è²¼è‡³å‰›å‰›çš„ shellï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-20-16-05.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plain">Enter verification code: 4&#x2F;KwEnGIyzJ0P_ZvFeKt5264lP_3CdzZhUb-ZXoEJ0TbVFQVUQyYSBF58<br>WARNING: &#96;gcloud auth login&#96; no longer writes application default credentials.<br>If you need to use ADC, see:<br>  gcloud auth application-default --help<br><br>You are now logged in as [google3043863_student@qwiklabs.net].<br>Your current project is [qwiklabs-gcp-f9d61ede8167e6b0].  You can change this setting by running:<br>  $ gcloud config set project PROJECT_ID<br></code></pre></td></tr></table></figure><p>ç™»å…¥æˆåŠŸå¾Œï¼Œå¯ä»¥å†æ¬¡åŸ·è¡Œä¸‹é¢æŒ‡ä»¤çœ‹ä¸€ä¸‹ç›®å‰æœ‰æ•ˆå¸³è™Ÿçš„åç¨±ï¼Œè®Šæˆ lab æš«æ™‚çµ¦æˆ‘å€‘ç”¨çš„å¸³è™Ÿå›‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcloud auth list</span><br>                  Credentialed Accounts<br>ACTIVE  ACCOUNT<br>        721269751803-compute@developer.gserviceaccount.com<br>*       google3043863_student@qwiklabs.net<br><br>To set the active account, run:<br>    $ gcloud config set account `ACCOUNT`<br></code></pre></td></tr></table></figure><p>æ¥è‘—å†æ¬¡åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œå°±å¯ä»¥æˆåŠŸè¨­å®šé˜²ç«ç‰†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ gcloud compute firewall-rules create nginx --allow tcp:80<br>Creating firewall...â ¶Created [https:&#x2F;&#x2F;www.googleapis.com&#x2F;compute&#x2F;v1&#x2F;projects&#x2F;qwiklabs-gcp-f9d61ede8167e6b0&#x2F;global&#x2F;firewalls&#x2F;nginx].<br>Creating firewall...done.<br>NAME   NETWORK  DIRECTION  PRIORITY  ALLOW   DENY  DISABLED<br>nginx  default  INGRESS    1000      tcp:80        False<br></code></pre></td></tr></table></figure><p>é›–ç„¶ GCP Console ä»‹é¢ä¸Š VM instance çš„ External IP æ²’æœ‰è®Šæˆå¯ä»¥é»æ“Šçš„é€£çµï¼Œä½†å¯ä»¥å°‡ External IP è¤‡è£½åˆ°æ–°çš„ç€è¦½å™¨åˆ†é ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-00-02.png" alt=""></p><p>å°±èƒ½æˆåŠŸçœ‹åˆ° NGINX web server çš„é è¨­ç¶²é ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-21-04-14.png" alt=""></p><p>ä¸‹åœ–å°±æ˜¯æˆ‘æˆåŠŸå®Œæˆæ­¤ quest çš„ç•«é¢ï¼š</p><p><img src="../images/gcp-vm-nignx-web-server/2019-04-13-15-01-08.png" alt=""></p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://www.qwiklabs.com/focuses/3563?parent=catalog" target="_blank" rel="noopener">Creating a Virtual Machine | Qwiklabs</a></li><li><a href="https://google.qwiklabs.com/focuses/2794?parent=catalog" target="_blank" rel="noopener">A Tour of Qwiklabs and the Google Cloud Platform | Qwiklabs</a></li><li><a href="https://tn710617.github.io/zh-tw/createAVirtualMachineInGCP/" target="_blank" rel="noopener">åœ¨ GCP ä¸Šé–‹ç«‹ä¸€å°è™›æ“¬æ©Ÿ | Rayâ€™s Coding Journey</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GCP </tag>
            
            <tag> VM </tag>
            
            <tag> NIGNX </tag>
            
            <tag> Web Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python çˆ¬èŸ²å¸¸ç”¨æŠ€å·§ (æŒçºŒæ›´æ–°)</title>
      <link href="/article/python-crawler-note.html"/>
      <url>/article/python-crawler-note.html</url>
      
        <content type="html"><![CDATA[<p>ç´€éŒ„å€‹äººå¸¸ç”¨çš„ Python çˆ¬èŸ²æŠ€å·§ï¼Œæœªä¾†é‚„æœƒæŒçºŒæ›´æ–°å…¶ä»–æŠ€å·§ã€‚</p><a id="more"></a><h2 id="è¼‰å…¥å¸¸ç”¨å¥—ä»¶"><a class="header-anchor" href="#è¼‰å…¥å¸¸ç”¨å¥—ä»¶"></a>è¼‰å…¥å¸¸ç”¨å¥—ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> shutil<br><span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET<br><span class="hljs-keyword">from</span> urllib.parse <span class="hljs-keyword">import</span> urlparse, parse_qs, urlunparse<br><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">from</span> user_agent <span class="hljs-keyword">import</span> generate_user_agent<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br></code></pre></td></tr></table></figure><h2 id="è§£æ-HTML"><a class="header-anchor" href="#è§£æ-HTML"></a>è§£æ HTML</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>response = requests.get(url)<br>soup = BeautifulSoup(response.text, <span class="hljs-string">'lxml'</span>)<br>html = soup.find(id=<span class="hljs-string">'some_id'</span>)<br></code></pre></td></tr></table></figure><h2 id="è§£æç¶²å€"><a class="header-anchor" href="#è§£æç¶²å€"></a>è§£æç¶²å€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> urllib.parse <span class="hljs-keyword">import</span> urlparse, parse_qs, urlunparse<br><br>url = <span class="hljs-string">'http://xxx.com/api/data?id=123&amp;sub_code=06A1297'</span><br>link_parse = urlparse(url)<br>print(link_parse)<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">ParseResult(scheme&#x3D;&#39;http&#39;, netloc&#x3D;&#39;xxx.com&#39;, path&#x3D;&#39;&#x2F;api&#x2F;data&#39;, params&#x3D;&#39;&#39;, query&#x3D;&#39;id&#x3D;123&amp;sub_code&#x3D;06A1297&#39;, fragment&#x3D;&#39;&#39;)<br></code></pre></td></tr></table></figure><h3 id="å°‡-ParseResult-ç‰©ä»¶è½‰æˆç¶²å€å­—ä¸²"><a class="header-anchor" href="#å°‡-ParseResult-ç‰©ä»¶è½‰æˆç¶²å€å­—ä¸²"></a>å°‡ <code>ParseResult</code> ç‰©ä»¶è½‰æˆç¶²å€å­—ä¸²</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">url = urlunparse(link_parse)<br>print(url)<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">&#39;http:&#x2F;&#x2F;xxx.com&#x2F;api&#x2F;data?id&#x3D;123&amp;sub_code&#x3D;06A1297&#39;<br></code></pre></td></tr></table></figure><h3 id="è§£æç¶²å€-query"><a class="header-anchor" href="#è§£æç¶²å€-query"></a>è§£æç¶²å€ query</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">link_query = parse_qs(link_parse.query)<br>print(link_query)<br><br>id = link_query[<span class="hljs-string">'id'</span>][<span class="hljs-number">0</span>]<br>sub_code = link_query[<span class="hljs-string">'sub_code'</span>][<span class="hljs-number">0</span>]<br>print(id, sub_code)<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">&#123;&#39;id&#39;: [&#39;123&#39;], &#39;sub_code&#39;: [&#39;06A1297&#39;]&#125;<br>123 06A1297<br></code></pre></td></tr></table></figure><h2 id="éš¨æ©Ÿç”Ÿæˆ-user-agent"><a class="header-anchor" href="#éš¨æ©Ÿç”Ÿæˆ-user-agent"></a>éš¨æ©Ÿç”Ÿæˆ user-agent</h2><h3 id="fake-useragent-å¥—ä»¶"><a class="header-anchor" href="#fake-useragent-å¥—ä»¶"></a>fake_useragent å¥—ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> fake_useragent <span class="hljs-keyword">import</span> UserAgent<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_header_user_agent</span><span class="hljs-params">()</span>:</span><br>    user_agent = UserAgent()<br>    <span class="hljs-keyword">return</span> user_agent.random<br><br>user_agent = set_header_user_agent()<br>response = requests.get(url, headers=&#123; <span class="hljs-string">'user-agent'</span>: user_agent &#125;)<br></code></pre></td></tr></table></figure><h3 id="user-agent-å¥—ä»¶"><a class="header-anchor" href="#user-agent-å¥—ä»¶"></a>user_agent å¥—ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> user_agent <span class="hljs-keyword">import</span> generate_user_agent<br><br>user_agent = generate_user_agent()<br>response = requests.get(url, headers=&#123; <span class="hljs-string">'user-agent'</span>: user_agent &#125;)<br></code></pre></td></tr></table></figure><h2 id="è®€å–è¡¨æ ¼è³‡æ–™"><a class="header-anchor" href="#è®€å–è¡¨æ ¼è³‡æ–™"></a>è®€å–è¡¨æ ¼è³‡æ–™</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>response = requests.get(url)<br>soup = BeautifulSoup(response.text, <span class="hljs-string">'lxml'</span>)<br>html = soup.find(id=<span class="hljs-string">'table_id'</span>)<br>df = pd.read_html(str(html), header=<span class="hljs-number">0</span>)[<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><h2 id="è®€å–-è§£æ-JSON"><a class="header-anchor" href="#è®€å–-è§£æ-JSON"></a>è®€å–/è§£æ JSON</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># è®€å–</span><br><span class="hljs-keyword">with</span> open(<span class="hljs-string">'data.json'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:<br>    datas = json.load(file)<br><br><span class="hljs-comment"># è§£æ</span><br><span class="hljs-keyword">with</span> open(<span class="hljs-string">'data.json'</span>, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:<br>    json.dump(datas, file, ensure_ascii=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><h2 id="è®€å–-è§£æ-XML"><a class="header-anchor" href="#è®€å–-è§£æ-XML"></a>è®€å–/è§£æ XML</h2><h3 id="è®€å–-XML-æª”"><a class="header-anchor" href="#è®€å–-XML-æª”"></a>è®€å– XML æª”</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET<br><br>tree = ET.parse(<span class="hljs-string">'data.xml'</span>)<br>root = tree.getroot()<br></code></pre></td></tr></table></figure><h3 id="è®€å–-XML-å­—ä¸²"><a class="header-anchor" href="#è®€å–-XML-å­—ä¸²"></a>è®€å– XML å­—ä¸²</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET<br><br>root = ET.fromstring(some_xml_strings)<br></code></pre></td></tr></table></figure><p>ä»¥ä¸‹é¢çš„ XML ç‚ºç¯„ä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bookstore</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">ISBN</span>=<span class="hljs-string">"10-000000-001"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Book 1<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>300<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">comments</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">userComment</span> <span class="hljs-attr">rating</span>=<span class="hljs-string">"4"</span>&gt;</span>xxx...<span class="hljs-tag">&lt;/<span class="hljs-name">userComment</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">userComment</span> <span class="hljs-attr">rating</span>=<span class="hljs-string">"2"</span>&gt;</span>yyy...<span class="hljs-tag">&lt;/<span class="hljs-name">userComment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">comments</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">ISBN</span>=<span class="hljs-string">"10-000000-999"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Book 2<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>500<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">comments</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">userComment</span> <span class="hljs-attr">rating</span>=<span class="hljs-string">"3"</span>&gt;</span>zzz...<span class="hljs-tag">&lt;/<span class="hljs-name">userComment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">comments</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bookstore</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="è¿´åœˆå–å¾—å­å…ƒç´ "><a class="header-anchor" href="#è¿´åœˆå–å¾—å­å…ƒç´ "></a>è¿´åœˆå–å¾—å­å…ƒç´ </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> root:<br>    print(child.tag, child.attrib)<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">book &#123;&#39;ISBN&#39;: &#39;10-000000-001&#39;&#125;<br>book &#123;&#39;ISBN&#39;: &#39;10-000000-999&#39;&#125;<br></code></pre></td></tr></table></figure><h3 id="ç”¨-index-å–å¾—æŸå…ƒç´ "><a class="header-anchor" href="#ç”¨-index-å–å¾—æŸå…ƒç´ "></a>ç”¨ index å–å¾—æŸå…ƒç´ </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">root[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].tag<br>root[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].text<br>root[<span class="hljs-number">0</span>].attrib<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">&#39;price&#39;<br>&#39;300&#39;<br>&#123;&#39;ISBN&#39;: &#39;10-000000-001&#39;&#125;<br></code></pre></td></tr></table></figure><h3 id="æœå°‹æŒ‡å®šå…ƒç´ "><a class="header-anchor" href="#æœå°‹æŒ‡å®šå…ƒç´ "></a>æœå°‹æŒ‡å®šå…ƒç´ </h3><p>ä½¿ç”¨ <code>root.iter()</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> root.iter(<span class="hljs-string">'userComment'</span>):<br>    print(comment.attrib)<br>    print(<span class="hljs-string">'comment: &#123;&#125;'</span>.format(comment.text))<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plain">&#123;&#39;rating&#39;: &#39;4&#39;&#125;<br>comment: xxx...<br>&#123;&#39;rating&#39;: &#39;2&#39;&#125;<br>comment: yyy...<br>&#123;&#39;rating&#39;: &#39;3&#39;&#125;<br>comment: zzz...<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>root.findall()</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> book <span class="hljs-keyword">in</span> root.findall(<span class="hljs-string">'book'</span>):<br>    ISBN = book.get(<span class="hljs-string">'ISBN'</span>)<br>    title = book.find(<span class="hljs-string">'title'</span>).text<br>    print(ISBN, title)<br></code></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">10-000000-001 Book 1<br>10-000000-999 Book 2<br></code></pre></td></tr></table></figure><h2 id="ä¸‹è¼‰åœ–ç‰‡"><a class="header-anchor" href="#ä¸‹è¼‰åœ–ç‰‡"></a>ä¸‹è¼‰åœ–ç‰‡</h2><p><code>response.raw</code> æ˜¯ file-like ç‰©ä»¶ï¼Œé è¨­ä¸æœƒè§£å£“ç¸® response (ä½¿ç”¨ gzip æˆ– deflateï¼Œåƒè€ƒè‡³ <a href="https://github.com/kennethreitz/requests/blob/master/requests/utils.py#L808" target="_blank" rel="noopener">Requests åŸå§‹ç¢¼</a>)ï¼Œå¯ä»¥é€éåœ¨ <code>requests.get()</code> æ–¹æ³•ä¸­ï¼Œæ–°å¢åƒæ•¸ <code>stream=True</code> ä¾†å¼·åˆ¶è§£å£“ç¸®ï¼Œä¸¦ä¸”å¯ä»¥é¿å…ç«‹å³å°‡å¤§çš„ response å…§å®¹è®€å…¥è¨˜æ†¶é«”å…§ï¼Œæ¥è‘—ä½¿ç”¨ <code>shutil.copyfileobj()</code> è®“ Python å°‡ ä¸²æµè³‡æ–™è½‰æˆæª”æ¡ˆç‰©ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> shutil<br><br>url = <span class="hljs-string">"http://www.xxx.com/xxx.png"</span><br>response = requests.get(url, stream=<span class="hljs-literal">True</span>)<br>file_name = url.split(<span class="hljs-string">'/'</span>)[<span class="hljs-number">-1</span>]<br><span class="hljs-keyword">with</span> open(file_name, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> file:<br>    shutil.copyfileobj(response.raw, file)<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦ä¸‹è¼‰æª”æ¡ˆå¤§çš„åœ–ç‰‡ï¼Œå¯åƒè€ƒä¸‹å€‹æ®µè½ã€Œ<a href="#%E4%B8%8B%E8%BC%89%E5%A4%A7%E6%AA%94%E6%A1%88">ä¸‹è¼‰å¤§æª”æ¡ˆ</a>ã€ã€‚</p><div class="info"><p><code>shutil.copyfileobj(fsrc, fdst[, length])</code>ï¼šå°‡ file-like ç‰©ä»¶ <code>fsrc</code> çš„å…§å®¹è¤‡è£½åˆ° file-like ç‰©ä»¶ <code>fdst</code>ã€‚<code>length</code> åƒæ•¸ (int) æ˜¯ buffer çš„å¤§å°ã€‚å¦‚æœ <code>length</code> ç‚ºè² æ•¸å‰‡ä»£è¡¨æ˜¯è¤‡è£½è³‡æ–™ï¼Œè€Œä¸ä»¥ chunk çš„å½¢å¼å¾ªç’°åŸå§‹è³‡æ–™ï¼›é è¨­æ˜¯è³‡æ–™ä»¥ chunk çš„å½¢å¼è®€å–ï¼Œä»¥é¿å…ä¸å—æ§åˆ¶çš„è¨˜æ†¶é«”æ¶ˆè€—ã€‚è«‹æ³¨æ„ï¼Œå¦‚æœ <code>fsrc</code> ç‰©ä»¶çš„ç•¶å‰æª”æ¡ˆä½ç½®ä¸ç‚º 0ï¼Œå‰‡åªè¤‡è£½å¾ç•¶å‰æª”æ¡ˆä½ç½®åˆ°æª”æ¡ˆæœ«ç«¯çš„å…§å®¹ã€‚</p><blockquote><p>åƒè€ƒè‡³ <a href="https://docs.python.org/3/library/shutil.html#shutil.copyfileobj" target="_blank" rel="noopener">shutil - High-level file operations - Python 3.7.3 documentation</a> å®˜æ–¹æ–‡ä»¶ã€‚</p></blockquote></div><blockquote><p>åƒè€ƒä¾†æºï¼š<a href="https://stackoverflow.com/questions/13137817/how-to-download-image-using-requests" target="_blank" rel="noopener">python - How to download image using requests - Stack Overflow</a></p></blockquote><h2 id="ä¸‹è¼‰å¤§æª”æ¡ˆ"><a class="header-anchor" href="#ä¸‹è¼‰å¤§æª”æ¡ˆ"></a>ä¸‹è¼‰å¤§æª”æ¡ˆ</h2><p>ä»¥è¿­ä»£çš„æ–¹å¼å–å¾—ï¼Œé è¨­æœƒä»¥æ¯ 128 byte ç‚ºä¸€å€‹ chunk ä¾†è®€å–è³‡æ–™ (åƒè€ƒè‡³ <a href="https://github.com/kennethreitz/requests/blob/master/requests/models.py#L688" target="_blank" rel="noopener">Requests åŸå§‹ç¢¼</a>)ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>response = requests.get(url, stream=<span class="hljs-literal">True</span>)<br>file_name = url.split(<span class="hljs-string">'/'</span>)[<span class="hljs-number">-1</span>]<br><span class="hljs-keyword">with</span> open(file_name, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> file:<br>    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:<br>        file.write(chunk)<br></code></pre></td></tr></table></figure><p>è‹¥è¦è‡ªè¨‚ chunk å¤§å°ï¼Œå¯ä½¿ç”¨ <a href="https://github.com/kennethreitz/requests/blob/master/requests/models.py#L729" target="_blank" rel="noopener"><code>Response.iter_content()</code></a> æ–¹æ³•è‡ªè¨‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>file_name = url.split(<span class="hljs-string">'/'</span>)[<span class="hljs-number">-1</span>]<br><span class="hljs-keyword">with</span> requests.get(url, stream=<span class="hljs-literal">True</span>) <span class="hljs-keyword">as</span> response:<br>    response.raise_for_status()<br>    <span class="hljs-keyword">with</span> open(file_name, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> file:<br>        <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response.iter_content(chunk_size=<span class="hljs-number">8192</span>):<br>            <span class="hljs-keyword">if</span> chunk: <span class="hljs-comment"># filter out keep-alive new chunks</span><br>                file.write(chunk)<br>                <span class="hljs-comment"># file.flush()</span><br></code></pre></td></tr></table></figure><blockquote><p>åƒè€ƒä¾†æºï¼š<a href="https://stackoverflow.com/questions/16694907/download-large-file-in-python-with-requests" target="_blank" rel="noopener">Download large file in python with requests - Stack Overflow</a></p></blockquote><p>è‹¥æƒ³è¦ä»¥ä¸€æ¬¡ä¸€è¡Œçš„æ–¹å¼è¿­ä»£ response è³‡æ–™ï¼Œå¯ä½¿ç”¨ <a href="https://github.com/kennethreitz/requests/blob/master/requests/models.py#L784" target="_blank" rel="noopener"><code>Response.iter_lines()</code></a> æ–¹æ³•ï¼Œæ­¤æ–¹æ³•é è¨­ä¸€å€‹ chunk çš„å¤§å°ç‚º 512 byteï¼Œè‹¥è¦è¨­å®šåˆ†éš”ç¬¦è™Ÿï¼Œå¯åŠ ä¸Š <code>delimiter</code> åƒæ•¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> requests<br><br>r = requests.get(url, stream=<span class="hljs-literal">True</span>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> r.iter_lines():<br>    <span class="hljs-comment"># filter out keep-alive new lines</span><br>    <span class="hljs-keyword">if</span> line:<br>        print(json.loads(line))<br></code></pre></td></tr></table></figure><blockquote><p>åƒè€ƒä¾†æºï¼š<a href="https://www.cnblogs.com/linxiyue/p/3980003.html" target="_blank" rel="noopener">Python Requests åº«ï¼šHTTP for Humans - å†è¦‹ç´«ç¾…è˜­ - åšå®¢åœ’</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> Crawler </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python Requests </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ Hexo ä¸»é¡Œå…§æ–°å¢ç¨‹å¼ç¢¼ç‰‡æ®µè¤‡è£½åŠŸèƒ½</title>
      <link href="/article/hexo-copy-code-snippet-to-clipboard.html"/>
      <url>/article/hexo-copy-code-snippet-to-clipboard.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/hexo-copy-code-snippet-to-clipboard.jpg" alt=""></p><p>ç‚ºäº†æé«˜ blog çš„ä½¿ç”¨é«”é©—ï¼Œæœ¬æ–‡å°‡èªªæ˜å¦‚ä½•åœ¨ Hexo ä¸»é¡Œå…§ï¼Œæä¾›ç¨‹å¼ç¢¼ç‰‡æ®µè¤‡è£½è‡³å‰ªè²¼ç°¿çš„åŠŸèƒ½ã€‚</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// copy to clipboard</span><br><span class="hljs-keyword">var</span> clipboard = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'pre'</span>);<br></code></pre></td></tr></table></figure><h2 id="è¼‰å…¥-clipboard-js"><a class="header-anchor" href="#è¼‰å…¥-clipboard-js"></a>è¼‰å…¥ clipboard.js</h2><p>åœ¨ <code>themes\material-flow\layout\_partial\scripts.ejs</code> æª”æ¡ˆå…§çš„è¼‰å…¥ clipboard.jsï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ–°å¢ç¨‹å¼ç¢¼ç‰‡æ®µè¤‡è£½åŠŸèƒ½"><a class="header-anchor" href="#æ–°å¢ç¨‹å¼ç¢¼ç‰‡æ®µè¤‡è£½åŠŸèƒ½"></a>æ–°å¢ç¨‹å¼ç¢¼ç‰‡æ®µè¤‡è£½åŠŸèƒ½</h2><p>æ¯å€‹ç¨‹å¼ç¢¼ç‰‡æ®µå…§éƒ½è¦æ–°å¢è¤‡è£½åŠŸèƒ½æŒ‰éˆ•ï¼Œä¸‹é¢èªªæ˜æ–°å¢è¤‡è£½æŒ‰éˆ•çš„è™•ç†é‚è¼¯ï¼š</p><ol><li>é¦–å…ˆè¦æ‰¾åˆ°æ‰€æœ‰ç¨‹å¼ç¢¼å€å¡Šï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> snippets = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'figure.highlight'</span>);<br></code></pre></td></tr></table></figure><ol start="2"><li>æº–å‚™è¦æ–°å¢çš„æŒ‰éˆ•çµæ§‹ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> htmlCopyButton = <span class="hljs-string">`</span><br><span class="hljs-string">  &lt;button class="codecopy-btn tooltipped tooltipped-sw" aria-label="Copy to clipboard"&gt;</span><br><span class="hljs-string">    &lt;i class="far fa-copy" aria-hidden="true"&gt;&lt;/i&gt;</span><br><span class="hljs-string">  &lt;/button&gt;`</span>;<br></code></pre></td></tr></table></figure><ol start="3"><li>åœ¨åŸæœ¬çš„ç¨‹å¼ç¢¼å€å¡Šçš„ <code>&lt;figure&gt;</code> æ¨™ç±¤å¤–å¤šåŒ…äº†ä¸€å±¤ <code>&lt;div&gt;</code> æ¨™ç±¤</li><li>åœ¨ <code>&lt;div&gt;</code> æ¨™ç±¤ä¸Šæ–°å¢ <code>.code-highlight</code> class æ¨£å¼</li><li>åœ¨ <code>&lt;div&gt;</code> æ¨™ç±¤ä¸Šæ–°å¢ <code>data-lang</code> å±¬æ€§ç”¨æ–¼è¨˜éŒ„æ­¤ç¨‹å¼ç¢¼å€å¡Šå…§çš„ç¨‹å¼ç¢¼æ˜¯å“ªç¨®ç¨‹å¼èªè¨€</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">snippets.forEach(<span class="hljs-function"><span class="hljs-params">snippet</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">var</span> parent = snippet.parentNode;<br>  <span class="hljs-keyword">var</span> wrapper = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);<br><br>  parent.replaceChild(wrapper, snippet);<br>  wrapper.appendChild(snippet);<br><br>  wrapper.classList.add(<span class="hljs-string">'code-highlight'</span>);<br>  wrapper.firstChild.insertAdjacentHTML(<span class="hljs-string">'beforebegin'</span>, htmlCopyButton);<br><br>  <span class="hljs-keyword">var</span> lang = (snippet.classList[<span class="hljs-number">1</span>] || <span class="hljs-string">'code'</span>).toUpperCase();<br>  wrapper.setAttribute(<span class="hljs-string">'data-lang'</span>, lang);<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="6"><li>æ¥è‘—å°‡åç‚º <code>.codecopy-btn</code> çš„ element ä¸Šæ–°å¢è¤‡è£½åŠŸèƒ½ï¼Œè¤‡è£½çš„å…§å®¹æ˜¯ <code>&lt;figure&gt;</code> æ¨™ç±¤å…§çš„ç¨‹å¼ç¢¼ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> clipboard = <span class="hljs-keyword">new</span> ClipboardJS(<span class="hljs-string">'.codecopy-btn'</span>, &#123;<br>  target: <span class="hljs-function"><span class="hljs-params">trigger</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> trigger.nextSibling;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="7"><li>åªè¦æŒ‰è¤‡è£½æŒ‰éˆ•ä¸”è¤‡è£½æˆåŠŸï¼Œå°±æœƒé¡¯ç¤º <code>Copied!</code> æç¤ºå·²æˆåŠŸè¤‡è£½ç¨‹å¼ç¢¼ç‰‡æ®µï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">clipboard.on(<span class="hljs-string">'success'</span>, e =&gt; &#123;<br>  e.trigger.setAttribute(<span class="hljs-string">'aria-label'</span>, <span class="hljs-string">'Copied!'</span>);<br>  e.clearSelection();<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="8"><li>å°‡æ¯å€‹è¤‡è£½æŒ‰éˆ•æ–°å¢å…©å€‹ç›£è½äº‹ä»¶ï¼Œåˆ†åˆ¥æ˜¯ <code>mouseleave</code> å’Œ <code>click</code>ï¼š<ul><li><code>mouseleave</code>ï¼šæ»‘é¼ é›¢é–‹æŒ‰éˆ•å°±å°‡æç¤ºæ–‡å­—è®Šæˆ <code>Copy to clipboard</code></li><li><code>click</code>ï¼šå–æ¶ˆäº‹ä»¶çš„é è¨­è¡Œç‚º</li></ul></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> btns = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.codecopy-btn'</span>);<br><br>btns.forEach(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> &#123;<br>  btn.addEventListener(<span class="hljs-string">'mouseleave'</span>, e =&gt; &#123;<br>    e.target.setAttribute(<span class="hljs-string">'aria-label'</span>, <span class="hljs-string">'Copy to clipboard'</span>);<br>    e.target.blur();<br>  &#125;);<br><br>  btn.addEventListener(<span class="hljs-string">'click'</span>, e =&gt; &#123;<br>    e.preventDefault();<br>  &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="å®Œæ•´ç¨‹å¼ç¢¼"><a class="header-anchor" href="#å®Œæ•´ç¨‹å¼ç¢¼"></a>å®Œæ•´ç¨‹å¼ç¢¼</h3><p>åœ¨ <code>themes\material-flow\source\js</code> ç›®éŒ„å…§å»ºç«‹ <code>clipboard-use.js</code>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// ref: https://github.com/zenorocha/codecopy/blob/master/src/scripts/main.js</span><br>  <span class="hljs-keyword">var</span> snippets = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'figure.highlight'</span>);<br>  <span class="hljs-keyword">var</span> htmlCopyButton = <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;button class="codecopy-btn tooltipped tooltipped-sw" aria-label="Copy to clipboard"&gt;</span><br><span class="hljs-string">      &lt;i class="far fa-copy" aria-hidden="true"&gt;&lt;/i&gt;</span><br><span class="hljs-string">    &lt;/button&gt;`</span>;<br><br>  snippets.forEach(<span class="hljs-function"><span class="hljs-params">snippet</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">var</span> parent = snippet.parentNode;<br>    <span class="hljs-keyword">var</span> wrapper = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);<br><br>    parent.replaceChild(wrapper, snippet);<br>    wrapper.appendChild(snippet);<br><br>    wrapper.classList.add(<span class="hljs-string">'code-highlight'</span>);<br>    wrapper.firstChild.insertAdjacentHTML(<span class="hljs-string">'beforebegin'</span>, htmlCopyButton);<br><br>    <span class="hljs-keyword">var</span> lang = (snippet.classList[<span class="hljs-number">1</span>] || <span class="hljs-string">'code'</span>).toUpperCase();<br>    wrapper.setAttribute(<span class="hljs-string">'data-lang'</span>, lang);<br>  &#125;);<br><br>  <span class="hljs-comment">// Add copy to clipboard functionality and user feedback</span><br>  <span class="hljs-keyword">var</span> clipboard = <span class="hljs-keyword">new</span> ClipboardJS(<span class="hljs-string">'.codecopy-btn'</span>, &#123;<br>    target: <span class="hljs-function"><span class="hljs-params">trigger</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> trigger.nextSibling;<br>    &#125;,<br>  &#125;);<br><br>  clipboard.on(<span class="hljs-string">'success'</span>, e =&gt; &#123;<br>    e.trigger.setAttribute(<span class="hljs-string">'aria-label'</span>, <span class="hljs-string">'Copied!'</span>);<br>    e.clearSelection();<br>  &#125;);<br><br>  <span class="hljs-comment">// Replace tooltip message when mouse leaves button</span><br>  <span class="hljs-comment">// and prevent page refresh after click button</span><br>  <span class="hljs-keyword">var</span> btns = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.codecopy-btn'</span>);<br><br>  btns.forEach(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> &#123;<br>    btn.addEventListener(<span class="hljs-string">'mouseleave'</span>, e =&gt; &#123;<br>      e.target.setAttribute(<span class="hljs-string">'aria-label'</span>, <span class="hljs-string">'Copy to clipboard'</span>);<br>      e.target.blur();<br>    &#125;);<br><br>    btn.addEventListener(<span class="hljs-string">'click'</span>, e =&gt; &#123;<br>      e.preventDefault();<br>    &#125;);<br>  &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ¥è‘—åœ¨ <code>themes\material-flow\layout\_partial\scripts.ejs</code> æª”æ¡ˆå…§çš„è¼‰å…¥ <code>clipboard-use.js</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%-</span> <span class="hljs-attr">js</span>('<span class="hljs-attr">js</span>/<span class="hljs-attr">clipboard-use.js</span>') %&gt;</span><br></code></pre></td></tr></table></figure><h2 id="CSS-æ¨£å¼"><a class="header-anchor" href="#CSS-æ¨£å¼"></a>CSS æ¨£å¼</h2><h3 id="æç¤ºæ–‡å­—æ¨£å¼"><a class="header-anchor" href="#æç¤ºæ–‡å­—æ¨£å¼"></a>æç¤ºæ–‡å­—æ¨£å¼</h3><p>åœ¨ <code>themes\material-flow\source\less</code> ç›®éŒ„å…§å»ºç«‹ <code>_tooltipped.less</code>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-comment">// ref: https://github.com/primer/primer/blob/master/modules/primer-tooltips/lib/tooltips.scss</span><br><span class="hljs-selector-class">.tooltipped</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><br><span class="hljs-comment">// This is the tooltip bubble</span><br><span class="hljs-selector-class">.tooltipped</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1000000</span>;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span> <span class="hljs-number">0.75em</span>;<br>  <span class="hljs-attribute">-webkit-font-smoothing</span>: subpixel-antialiased;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">text-decoration</span>: none;<br>  <span class="hljs-attribute">text-shadow</span>: none;<br>  <span class="hljs-attribute">text-transform</span>: none;<br>  <span class="hljs-attribute">letter-spacing</span>: normal;<br>  <span class="hljs-attribute">word-wrap</span>: break-word;<br>  <span class="hljs-attribute">white-space</span>: pre;<br>  <span class="hljs-attribute">pointer-events</span>: none;<br>  <span class="hljs-attribute">content</span>: attr(aria-label);<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#616161</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// This is the tooltip arrow</span><br><span class="hljs-selector-class">.tooltipped</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1000001</span>;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#616161</span>;<br>  <span class="hljs-attribute">pointer-events</span>: none;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">6px</span> solid transparent;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// delay animation for tooltip</span><br><span class="hljs-keyword">@keyframes</span> tooltip-appear &#123;<br>  <span class="hljs-selector-tag">from</span> &#123;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>  &#125;<br><br>  <span class="hljs-selector-tag">to</span> &#123;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// This will indicate when we'll activate the tooltip</span><br><span class="hljs-selector-class">.tooltipped</span><span class="hljs-selector-pseudo">:hover</span>,<br><span class="hljs-selector-class">.tooltipped</span><span class="hljs-selector-pseudo">:active</span>,<br><span class="hljs-selector-class">.tooltipped</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::before</span>,<br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">text-decoration</span>: none;<br>    <span class="hljs-attribute">animation-name</span>: tooltip-appear;<br>    <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">0.1s</span>;<br>    <span class="hljs-attribute">animation-fill-mode</span>: forwards;<br>    <span class="hljs-attribute">animation-timing-function</span>: ease-in;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// Tooltipped south</span><br><span class="hljs-selector-class">.tooltipped-s</span>,<br><span class="hljs-selector-class">.tooltipped-sw</span> &#123;<br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">right</span>: <span class="hljs-number">50%</span>;<br>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">6px</span>;<br>  &#125;<br><br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>    <span class="hljs-attribute">top</span>: auto;<br>    <span class="hljs-attribute">right</span>: <span class="hljs-number">50%</span>;<br>    <span class="hljs-attribute">bottom</span>: -<span class="hljs-number">7px</span>;<br>    <span class="hljs-attribute">margin-right</span>: -<span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">border-bottom-color</span>: <span class="hljs-number">#616161</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.tooltipped-sw</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">margin-right</span>: -<span class="hljs-number">16px</span>;<br>&#125;<br><br><span class="hljs-comment">// Move the tooltip body to the center of the object.</span><br><span class="hljs-selector-class">.tooltipped-s</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">transform</span>: translateX(<span class="hljs-number">50%</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥è‘—åœ¨ <code>themes\material-flow\source\style.less</code> æª”æ¡ˆå…§çš„è¼‰å…¥ <code>_tooltipped.less</code>ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-keyword">@import</span> <span class="hljs-string">'less/_tooltipped.less'</span>;<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–æ¨£å¼"><a class="header-anchor" href="#å…¶ä»–æ¨£å¼"></a>å…¶ä»–æ¨£å¼</h3><p>å¯åƒè€ƒæœ¬ç«™çš„å®Œæ•´æ¨£å¼ï¼š<a href="https://github.com/titangene/hexo-blog/blob/master/themes/material-flow/source/less/_article.less" target="_blank" rel="noopener">åŸå§‹ç¢¼</a></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">figure</span> &#123;<br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-class">.highlight</span> &#123;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">22px</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.code-highlight</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br><br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>    <span class="hljs-attribute">content</span>: attr(data-lang);<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Roboto Mono'</span>, Consolas, monospace, sans-serif;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.6em</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#b1b1b1</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">18px</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">4px</span>;<br>    <span class="hljs-attribute">right</span>: <span class="hljs-number">7px</span>;<br>    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.codecopy-btn</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">24px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">26px</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">right</span>: -<span class="hljs-number">24px</span>;<br>  <span class="hljs-attribute">border</span>: none;<br>  <span class="hljs-attribute">box-shadow</span>: none;<br>  <span class="hljs-attribute">background</span>: none;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">transition</span>: color <span class="hljs-number">0.2s</span>;<br><br>  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#7bf</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Demo"><a class="header-anchor" href="#Demo"></a>Demo</h2><p>ä¸‹é¢æ˜¯åŸæœ¬çš„ HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">figure</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight javascript"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gutter"</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"code"</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hljs javascript"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨å¾Œçš„ HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"code-highlight"</span> <span class="hljs-attr">data-lang</span>=<span class="hljs-string">"JAVASCRIPT"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codecopy-btn tooltipped tooltipped-sw"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Copy to clipboard"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"far fa-copy"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">figure</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight javascript"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gutter"</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"code"</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hljs javascript"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç•«é¢ï¼š</p><p><img src="../images/hexo-copy-code-snippet-to-clipboard/copy-to-clipboard.gif" alt=""></p><h2 id="åƒè€ƒé€£çµ"><a class="header-anchor" href="#åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ul><li><a href="https://clipboardjs.com/" target="_blank" rel="noopener">clipboard.js â€” Copy to clipboard without Flash</a></li><li><a href="https://github.com/primer/primer/tree/master/modules/primer-tooltips" target="_blank" rel="noopener">GitHubâ€™s Primer Tooltips</a></li><li><a href="https://github.com/zenorocha/codecopy" target="_blank" rel="noopener">zenorocha/codecopy: A browser extension that adds copy to clipboard buttons on every code block</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Code Snippet </tag>
            
            <tag> Clipboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ Docker ä¸‹å»ºç«‹ä¸¦ä½¿ç”¨ MSSQL Server for Linux</title>
      <link href="/article/docker-mssql-server-for-linux.html"/>
      <url>/article/docker-mssql-server-for-linux.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/docker-mssql-server-for-linux.jpg" alt=""></p><p>åœ¨ SQL Server 2017 æ™‚ï¼Œå¾®è»Ÿæ¨å‡ºäº† Linux ç‰ˆï¼ŒåŒæ™‚ä¹Ÿåœ¨ Docker Hub ä¸Šæä¾›äº† <a href="https://hub.docker.com/r/microsoft/mssql-server-linux/" target="_blank" rel="noopener">microsoft/mssql-server-linux</a> çš„ Docker imageã€‚æœ¬ç¯‡æœƒä»‹ç´¹å¦‚ä½•åœ¨ Docker ä¸‹ï¼Œé€éæ­¤ image ä¾†å»ºç«‹ä¸¦ä½¿ç”¨ MSSQL Server for Linuxã€‚</p><a id="more"></a><h2 id="MSSQL-Server-for-Linux-è¦æ±‚"><a class="header-anchor" href="#MSSQL-Server-for-Linux-è¦æ±‚"></a>MSSQL Server for Linux è¦æ±‚</h2><ul><li>å¿…é ˆ Docker Engine 1.8+ï¼Œæ”¯æ´ä»»ä½•å¹³å° (Windows/Mac/Linux)</li><li>ç¡¬ç¢Ÿç©ºé–“è‡³å°‘ 2 GB</li><li>RAM è‡³å°‘ 2 GB</li><li>image å¿…è¦çš„ç’°å¢ƒè®Šæ•¸ï¼š<ul><li><code>ACCEPT_EULA=Y</code>ï¼šç¢ºèªåŒæ„æˆæ¬Šåˆç´„</li><li><code>MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;</code>ï¼šè¨­å®š SA å¯†ç¢¼</li></ul></li><li>A strong system administrator (SA) å¯†ç¢¼å¿…é ˆç¬¦åˆä»¥ä¸‹è¦å‰‡ï¼š<ul><li>è‡³å°‘ 8 å€‹å­—å…ƒ</li><li>å¿…éœ€åŒ…å«è‹±æ–‡å¤§å¯«ã€è‹±æ–‡å°å¯«ã€æ•¸å­—ã€éå­—æ¯æ•¸å­—ç¬¦è™Ÿå››è€…ä¸­çš„å…¶ä¸­ä¸‰ç¨®å³å¯</li></ul></li></ul><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.microsoft.com/zh-tw/sql/linux/sql-server-linux-setup?view=sql-server-2017#system" target="_blank" rel="noopener">SQL Server on Liunx çš„ç³»çµ±éœ€æ±‚</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="å»ºç«‹-Container"><a class="header-anchor" href="#å»ºç«‹-Container"></a>å»ºç«‹ Container</h2><p>Docker Hubï¼š<a href="https://hub.docker.com/r/microsoft/mssql-server-linux/" target="_blank" rel="noopener">microsoft/mssql-server-linux</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å¾ Docker Hub æå– SQL Server 2017 Linux container image</span><br><span class="hljs-meta">$</span><span class="bash"> docker pull microsoft/mssql-server-linux:2017-latest</span><br><br><span class="hljs-meta">#</span><span class="bash"> å»ºç«‹ä¸¦åŸ·è¡Œ Docker container</span><br><span class="hljs-meta">$</span><span class="bash"> docker run -e <span class="hljs-string">'ACCEPT_EULA=Y'</span> -e <span class="hljs-string">'MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;'</span> \</span><br>  -p 1401:1433 --name sql1 \<br>  -d microsoft/mssql-server-linux:2017-latest<br></code></pre></td></tr></table></figure><ul><li><code>-e 'ACCEPT_EULA=Y'</code>ï¼šç¢ºèªåŒæ„æˆæ¬Šåˆç´„</li><li><code>-e 'MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;'</code>ï¼šå¿…éœ€æ˜¯å¼·å¯†ç¢¼ä¸¦è‡³å°‘ 8 å€‹å­—å…ƒã€‚å¼·å¯†ç¢¼è‹±æ–‡å¤§å¯«ã€è‹±æ–‡å°å¯«ã€æ•¸å­—ã€éå­—æ¯æ•¸å­—ç¬¦è™Ÿå››è€…ä¸­çš„å…¶ä¸­ä¸‰ç¨®å³å¯ã€‚</li><li><code>-p hostPort:containerPort</code>ï¼šhost å°å¤–é–‹ 1401 portï¼Œcontainer å…§é–‹ 1433 port</li><li><code>--name</code>ï¼šæŒ‡å®š container åç¨±</li><li><code>-d</code>ï¼šèƒŒæ™¯åŸ·è¡Œ</li><li><code>microsoft/mssql-server-linux:2017-latest</code>ï¼šä½¿ç”¨ SQL Server 2017 Linux image å»ºç«‹ container</li></ul><p>å¦‚æœåˆ—è¡¨ <code>NAMES</code> é¡¯ç¤º sql1 ä¸¦ä¸” <code>STATUS</code> é¡¯ç¤º UP å°±ä»£è¡¨ SQL Server å·²åœ¨èƒŒæ™¯åŸ·è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥çœ‹ container çš„ç‹€æ…‹</span><br><span class="hljs-meta">$</span><span class="bash"> docker ps</span><br>CONTAINER ID   IMAGE                                      COMMAND                  CREATED          STATUS          PORTS                    NAMES<br>08e2f151d579   microsoft/mssql-server-linux:2017-latest   "/bin/sh -c /opt/mssâ€¦"   31 minutes ago   Up 31 minutes   0.0.0.0:1401-&gt;1433/tcp   sql1<br></code></pre></td></tr></table></figure><h2 id="é€£æ¥è‡³-SQL-Server"><a class="header-anchor" href="#é€£æ¥è‡³-SQL-Server"></a>é€£æ¥è‡³ SQL Server</h2><p>ä½¿ç”¨ SQL Server å‘½ä»¤åˆ—å·¥å…· <code>sqlcmd</code>ï¼Œé€£æ¥åˆ° SQL Server containerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åœ¨å¤–éƒ¨å‘åŸ·è¡Œä¸­çš„ container å…§éƒ¨ä¸‹æŒ‡ä»¤ï¼Œå•Ÿå‹• Container å…§éƒ¨çš„äº’å‹•å¼ bash shellï¼Œä¾†åŸ·è¡Œä½ ä¸‹çš„æŒ‡ä»¤</span><br><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it sql1 bash</span><br><br><span class="hljs-meta">#</span><span class="bash"> ä½¿ç”¨ SQL Server å‘½ä»¤åˆ—å·¥å…· `sqlcmd`ï¼Œä¸¦ç™»å…¥å¸³è™Ÿå¯†ç¢¼é€£æ¥åˆ° SQL Server</span><br><span class="hljs-meta">$</span><span class="bash"> /opt/mssql-tools/bin/sqlcmd -S localhost -U SA</span><br>Password:<br><br><span class="hljs-meta">#</span><span class="bash"> å‡ºç¾ <span class="hljs-string">"1&gt;"</span> å°±ä»£è¡¨å·²æˆåŠŸç™»å…¥ä¸¦å·²é€²å…¥ sqlcmd</span><br><span class="hljs-meta">1&gt;</span><br></code></pre></td></tr></table></figure><h2 id="è®Šæ›´-SA-çš„å¯†ç¢¼"><a class="header-anchor" href="#è®Šæ›´-SA-çš„å¯†ç¢¼"></a>è®Šæ›´ SA çš„å¯†ç¢¼</h2><p>SA å¸³è™Ÿæ˜¯åœ¨å®‰è£æœŸé–“å»ºç«‹çš„ SQL Server å¯¦ä¾‹ä¸Šçš„ç³»çµ±ç®¡ç†å“¡ã€‚å»ºç«‹ SQL Server container ä¹‹å¾Œï¼Œåœ¨ container ä¸­åŸ·è¡Œ <code>echo $MSSQL_SA_PASSWORD</code>ï¼Œå³å¯æŸ¥çœ‹ SA çš„å¯†ç¢¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it sql1 bash</span><br>root@xxx:/# echo $MSSQL_SA_PASSWORD<br>YourStrong!Passw0rd<br></code></pre></td></tr></table></figure><p>åŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥è®Šæ›´ SA çš„å¯†ç¢¼ï¼Œè€Œ <code>opt/mssql-tools/bin/sqlcmd</code> æ˜¯ <code>sqlcmd</code> æ‰€åœ¨çš„è·¯å¾‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it sql1 /opt/mssql-tools/bin/sqlcmd \</span><br>  -S localhost -U SA -P '&lt;YourStrong!Passw0rd&gt;' \<br>  -Q 'ALTER LOGIN SA WITH PASSWORD="&lt;YourNewStrong!Passw0rd&gt;"'<br></code></pre></td></tr></table></figure><p>åƒæ•¸èªªæ˜ï¼š</p><ul><li><code>-S</code>ï¼šserver</li><li><code>-U</code>ï¼šuser name</li><li><code>-P</code>ï¼špassword</li><li><code>-Q</code>ï¼šqueryï¼ŒåŸ·è¡Œ SQL æŒ‡ä»¤å¾ŒçµæŸ <code>sqlcmd</code></li></ul><h2 id="å»ºç«‹è³‡æ–™åº«åŠæŸ¥è©¢è³‡æ–™"><a class="header-anchor" href="#å»ºç«‹è³‡æ–™åº«åŠæŸ¥è©¢è³‡æ–™"></a>å»ºç«‹è³‡æ–™åº«åŠæŸ¥è©¢è³‡æ–™</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥è©¢ server ä¸Šæ‰€æœ‰ DB åç¨±</span><br><span class="hljs-meta">1&gt;</span><span class="bash"> SELECT Name from sys.Databases</span><br><span class="hljs-meta">#</span><span class="bash"> åœ¨ sqlcmd æŒ‡ä»¤æ¨¡å¼ä¸‹ï¼Œè¦è¼¸å…¥ GO æŒ‡ä»¤æ‰æœƒåŸ·è¡Œ</span><br><span class="hljs-meta">2&gt;</span><span class="bash"> GO</span><br>Name<br>------------<br>master<br>tempdb<br>model<br>msdb<br><br>(4 rows affected)<br><br><span class="hljs-meta">#</span><span class="bash"> å»ºç«‹è³‡æ–™åº«</span><br><span class="hljs-meta">1&gt;</span><span class="bash"> CREATE DATABASE TestDB</span><br><span class="hljs-meta">2&gt;</span><span class="bash"> GO</span><br><span class="hljs-meta">#</span><span class="bash"> å‡ºç¾ä¸‹é¢ç•«é¢ <span class="hljs-string">"1&gt;"</span> å°±ä»£è¡¨å·²æˆåŠŸå»ºç«‹è³‡æ–™åº«</span><br><span class="hljs-meta">1&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> é›¢é–‹ sqlcmd</span><br><span class="hljs-meta">1&gt;</span><span class="bash"> quit</span><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-Azure-Data-Studio-é€£æ¥-SQL-Server"><a class="header-anchor" href="#ä½¿ç”¨-Azure-Data-Studio-é€£æ¥-SQL-Server"></a>ä½¿ç”¨ Azure Data Studio é€£æ¥ SQL Server</h2><p><a href="https://github.com/Microsoft/azuredatastudio" target="_blank" rel="noopener">Azure Data Studio</a> (ä»¥å‰ç¨±ç‚º SQL Operations Studio) æ˜¯ä¸€å€‹è¼•é‡ä¸”å…è²»çš„è·¨å¹³å° SQL Server é–‹æºç®¡ç†å·¥å…·ï¼Œæ”¯æ´ Windowsã€macOSã€Linuxã€‚</p><p><img src="../images/docker-mssql-server-for-linux/2019-01-30_21-20-32.png" alt=""></p><h3 id="å®‰è£-Azure-Data-Studio"><a class="header-anchor" href="#å®‰è£-Azure-Data-Studio"></a>å®‰è£ Azure Data Studio</h3><h4 id="for-Windows"><a class="header-anchor" href="#for-Windows"></a>for Windows</h4><p>ä¸‹è¼‰ä¸¦è§£å£“ç¸®ï¼Œæ¥è‘—åŸ·è¡Œ <code>\azuredatastudio-windows\sqlops.exe</code> å³å¯é–‹å§‹ä½¿ç”¨ã€‚</p><h4 id="for-Linux"><a class="header-anchor" href="#for-Linux"></a>for Linux</h4><p>ä¸‹è¼‰ä¸¦è§£å£“ç¸®ï¼Œæ¥è‘—å°‡ Azure Data Studio åŸ·è¡Œæª”åŠ å…¥ <code>PATH</code> ç’°å¢ƒè®Šæ•¸ï¼Œä»¥å¾Œå³å¯åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ <code>azuredatastudio</code> é–‹å•Ÿ Azure Data Studioï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> ~</span><br><span class="hljs-meta">$</span><span class="bash"> cp ~/Downloads/azuredatastudio-linux-&lt;version string&gt;.tar.gz ~</span><br><span class="hljs-meta">$</span><span class="bash"> tar -xvf ~/azuredatastudio-linux-&lt;version string&gt;.tar.gz</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="$PATH:~/azuredatastudio-linux-x64"'</span> &gt;&gt; ~/.bashrc</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">source</span> ~/.bashrc</span><br><span class="hljs-meta">$</span><span class="bash"> azuredatastudio</span><br></code></pre></td></tr></table></figure><h4 id="for-macOS"><a class="header-anchor" href="#for-macOS"></a>for macOS</h4><p>ä¸‹è¼‰ä¸¦è§£å£“ç¸®ï¼Œç„¶å¾Œå°‡ Azure Data Studio åŠ å…¥ Launchpadï¼Œå°‡ <code>Studio.app</code> æ‹–æ›³åˆ°æ‡‰ç”¨ç¨‹å¼ç›®éŒ„ (Applications folder) å³å¯ã€‚</p><blockquote><p>å®‰è£è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.microsoft.com/zh-tw/sql/azure-data-studio/download?view=sql-server-2017" target="_blank" rel="noopener">ä¸‹è¼‰ä¸¦å®‰è£ - Azure Data Studio | Microsoft Docs</a> æ–‡ä»¶ã€‚</p></blockquote><h3 id="ç™»å…¥-SQL-Server"><a class="header-anchor" href="#ç™»å…¥-SQL-Server"></a>ç™»å…¥ SQL Server</h3><p>Server name çš„æ ¼å¼ï¼š <code>IP, Port</code></p><ul><li>IPï¼š<ul><li>Linuxï¼šä½¿ç”¨ <code>ifconfig</code> æŒ‡ä»¤æŸ¥è©¢ IP</li><li>Windowsï¼šä½¿ç”¨ <code>ipconfig</code> æŒ‡ä»¤æŸ¥è©¢ IP</li></ul></li><li>Portï¼šè¦çœ‹å‰é¢å»ºç«‹çš„ container æ˜¯è¨­å®šå¤šå°‘ Port</li></ul><p>æ­¤ç¯„ä¾‹ (ä¹Ÿå°±æ˜¯ä¸‹é¢çš„æŒ‡ä»¤) æ˜¯è¨­å®šä½¿ç”¨ 1401 portï¼Œæ‰€ä»¥åªè¦è¼¸å…¥ <code>YourIP, 1401</code> å°±èƒ½èˆ‡ SQL Server é€£æ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker run -e <span class="hljs-string">'ACCEPT_EULA=Y'</span> -e <span class="hljs-string">'MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;'</span> \</span><br>  -p 1401:1433 --name sql1 \<br>  -d microsoft/mssql-server-linux:2017-latest<br></code></pre></td></tr></table></figure><p><img src="../images/docker-mssql-server-for-linux/2019-01-30_23-02-20.png" alt=""></p><h2 id="å»ºç«‹è³‡æ–™è¡¨å’Œè³‡æ–™ï¼Œä¸¦æŸ¥è©¢è³‡æ–™"><a class="header-anchor" href="#å»ºç«‹è³‡æ–™è¡¨å’Œè³‡æ–™ï¼Œä¸¦æŸ¥è©¢è³‡æ–™"></a>å»ºç«‹è³‡æ–™è¡¨å’Œè³‡æ–™ï¼Œä¸¦æŸ¥è©¢è³‡æ–™</h2><p>åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œå»ºç«‹è³‡æ–™è¡¨å’Œè³‡æ–™ï¼Œä¸¦æŸ¥è©¢è³‡æ–™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- åˆ‡æ›è‡³ TestDB è³‡æ–™åº«</span><br><span class="hljs-keyword">use</span> TestDB;<br><span class="hljs-comment">-- å»ºç«‹è³‡æ–™è¡¨</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> People(<span class="hljs-keyword">Name</span> <span class="hljs-keyword">nvarchar</span>(<span class="hljs-number">50</span>), Age <span class="hljs-built_in">int</span>);<br><span class="hljs-comment">-- æ–°å¢è³‡æ–™</span><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> People <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'Titan'</span>, <span class="hljs-number">18</span>), (<span class="hljs-string">'John'</span>, <span class="hljs-number">6</span>), (<span class="hljs-string">'Alex'</span>, <span class="hljs-number">40</span>);<br><span class="hljs-comment">-- æŸ¥è©¢å¹´é½¡å°æ–¼ 20 æ­²çš„äºº</span><br><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> People <span class="hljs-keyword">WHERE</span> Age &lt; <span class="hljs-number">20</span>;<br></code></pre></td></tr></table></figure><p>åŸ·è¡Œå®Œçš„çµæœå¦‚ä¸‹åœ–ï¼Œçœ‹åˆ°æ­¤æŸ¥è©¢çµæœå°±ä»£è¡¨å·²æˆåŠŸæ–°å¢è³‡æ–™ï¼š</p><p><img src="../images/docker-mssql-server-for-linux/2019-01-30_21-20-32.png" alt=""></p><h2 id="åˆªé™¤-Container"><a class="header-anchor" href="#åˆªé™¤-Container"></a>åˆªé™¤ Container</h2><p>æŒ‡å®šåˆªé™¤åç‚º <code>sql1</code> çš„ containerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥è©¢ç›®å‰çš„æ­£åœ¨åŸ·è¡Œçš„ container</span><br><span class="hljs-meta">$</span><span class="bash"> docker ps</span><br><br><span class="hljs-meta">#</span><span class="bash"> container åœæ­¢åŸ·è¡Œ</span><br><span class="hljs-meta">$</span><span class="bash"> docker stop sql</span><br><br><span class="hljs-meta">#</span><span class="bash"> åˆªé™¤ container</span><br><span class="hljs-meta">$</span><span class="bash"> docker rm sql1</span><br></code></pre></td></tr></table></figure><p>æˆ–æ˜¯å¯ä»¥åœ¨æœªåœæ­¢åŸ·è¡Œ container çš„æƒ…æ³ä¸‹ï¼Œç›´æ¥å¼·åˆ¶åˆªé™¤ containerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å¼·åˆ¶åˆªé™¤ container</span><br><span class="hljs-meta">$</span><span class="bash"> docker rm -f sql1</span><br></code></pre></td></tr></table></figure><h2 id="é€é-Volume-å°‡è³‡æ–™åº«çš„è³‡æ–™å„²å­˜è‡³ä¸»æ©Ÿ"><a class="header-anchor" href="#é€é-Volume-å°‡è³‡æ–™åº«çš„è³‡æ–™å„²å­˜è‡³ä¸»æ©Ÿ"></a>é€é Volume å°‡è³‡æ–™åº«çš„è³‡æ–™å„²å­˜è‡³ä¸»æ©Ÿ</h2><p>åœ¨ <code>docker run</code> æŒ‡ä»¤ä¸ŠåŠ  <code>-v</code> åƒæ•¸å¯ä»¥å»ºç«‹å¯¦é«”è³‡æ–™å¤¾èˆ‡ container è³‡æ–™å¤¾çš„å°æ‡‰é—œä¿‚ï¼Œå°‡ä¸»æ©Ÿä¸Šçš„æŒ‡å®šç›®éŒ„ç¶å®šåˆ° container çš„æŒ‡å®šç›®éŒ„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å­˜è³‡æ–™åº«çš„è³‡æ–™è‡³ä¸»æ©Ÿï¼Œåƒæ•¸èªæ³•ç‚º <code>-v &lt;host directory&gt;:/var/opt/mssql</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åŸ·è¡Œ Docker container image</span><br><span class="hljs-meta">$</span><span class="bash"> docker run -e <span class="hljs-string">'ACCEPT_EULA=Y'</span> -e <span class="hljs-string">'MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;'</span> \</span><br>  -p 1402:1433 --name sql2 \<br>  -v `pwd`/mssql:/var/opt/mssql \<br>  -d microsoft/mssql-server-linux:2017-latest<br></code></pre></td></tr></table></figure><h2 id="å‚™ä»½èˆ‡é‚„åŸè³‡æ–™åº«"><a class="header-anchor" href="#å‚™ä»½èˆ‡é‚„åŸè³‡æ–™åº«"></a>å‚™ä»½èˆ‡é‚„åŸè³‡æ–™åº«</h2><h3 id="ç¯„ä¾‹å‰ç½®æº–å‚™ï¼šå»ºç«‹è³‡æ–™åº«ã€è³‡æ–™è¡¨å’Œè³‡æ–™"><a class="header-anchor" href="#ç¯„ä¾‹å‰ç½®æº–å‚™ï¼šå»ºç«‹è³‡æ–™åº«ã€è³‡æ–™è¡¨å’Œè³‡æ–™"></a>ç¯„ä¾‹å‰ç½®æº–å‚™ï¼šå»ºç«‹è³‡æ–™åº«ã€è³‡æ–™è¡¨å’Œè³‡æ–™</h3><p>ä¸‹é¢çš„ SQL æŒ‡ä»¤æ˜¯ç”¨ä¾†ç«‹è³‡æ–™åº«ã€è³‡æ–™è¡¨å’Œè³‡æ–™ï¼Œå› ç‚ºæ­¤ container æ˜¯å‰›å‰›å¦å¤–æ–°å»ºçš„ï¼Œä¹‹å‰çš„ container å·²ç¶“åˆªé™¤äº† (å› ç‚ºæ²’æœ‰åˆ©ç”¨ Volume å„²å­˜è³‡æ–™åº«çš„è³‡æ–™)ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°å»ºç«‹è³‡æ–™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å»ºç«‹ è³‡æ–™åº«</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> TestDB;<br>GO<br><span class="hljs-comment">-- åˆ‡æ›è‡³ TestDB è³‡æ–™åº«</span><br><span class="hljs-keyword">use</span> TestDB;<br><span class="hljs-comment">-- å»ºç«‹è³‡æ–™è¡¨</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> People(<span class="hljs-keyword">Name</span> <span class="hljs-keyword">nvarchar</span>(<span class="hljs-number">50</span>), Age <span class="hljs-built_in">int</span>);<br><span class="hljs-comment">-- æ–°å¢è³‡æ–™</span><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> People <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'Titan'</span>, <span class="hljs-number">18</span>), (<span class="hljs-string">'John'</span>, <span class="hljs-number">6</span>), (<span class="hljs-string">'Alex'</span>, <span class="hljs-number">40</span>);<br></code></pre></td></tr></table></figure><h3 id="å‚™ä»½è³‡æ–™åº«"><a class="header-anchor" href="#å‚™ä»½è³‡æ–™åº«"></a>å‚™ä»½è³‡æ–™åº«</h3><p>ä½¿ç”¨ sqlcmd é€£æ¥åˆ° SQL Serverï¼Œä¸¦å®Œæ•´å‚™ä»½ TestDB è³‡æ–™åº«ï¼Œå‚™ä»½æª”å­˜è‡³ <code>./data/testdb.bak</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it sql2 /opt/mssql-tools/bin/sqlcmd -S localhost -U SA \</span><br>  -Q "BACKUP DATABASE TestDB TO DISK = N'/var/opt/mssql/data/testdb.bak' WITH NOFORMAT, NOINIT, NAME = 'demodb-full', SKIP, NOREWIND, NOUNLOAD, STATS = 10"<br></code></pre></td></tr></table></figure><p>ç•¶åŸ·è¡Œæ­¤æŒ‡ä»¤æ™‚ï¼ŒSQL Server å°‡æœƒæç¤ºéœ€è¼¸å…¥å¯†ç¢¼ã€‚è¼¸å…¥å¯†ç¢¼å¾Œï¼Œå¾ˆå¿«å°±æœƒå‚™ä»½å®Œæˆï¼Œå¦‚æœå‚™ä»½æˆåŠŸç•«é¢å°±æœƒé¡¯ç¤ºã€ŒBACKUP DATABASE successfully â€¦ã€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">Password: <br>10 percent processed.<br>20 percent processed.<br>30 percent processed.<br>40 percent processed.<br>50 percent processed.<br>60 percent processed.<br>70 percent processed.<br>80 percent processed.<br>90 percent processed.<br>Processed 312 pages for database 'TestDB', file 'TestDB' on file 1.<br>100 percent processed.<br>Processed 6 pages for database 'TestDB', file 'TestDB_log' on file 1.<br>BACKUP DATABASE successfully processed 318 pages in 0.348 seconds (7.139 MB/sec).<br></code></pre></td></tr></table></figure><h3 id="ç¯„ä¾‹å‰ç½®è™•ç†ï¼šåˆªé™¤-container-å’Œè³‡æ–™åº«è³‡æ–™"><a class="header-anchor" href="#ç¯„ä¾‹å‰ç½®è™•ç†ï¼šåˆªé™¤-container-å’Œè³‡æ–™åº«è³‡æ–™"></a>ç¯„ä¾‹å‰ç½®è™•ç†ï¼šåˆªé™¤ container å’Œè³‡æ–™åº«è³‡æ–™</h3><p>ä¸‹é¢æ˜¯è¦æ¨¡æ“¬æŠŠ container åˆªé™¤å¾Œï¼Œè¦å¦‚ä½•å°‡å‰›å‰›å‚™ä»½çš„è³‡æ–™åº«è³‡æ–™ (ä¹Ÿå°±æ˜¯ <code>./data/testdb.bak</code> ) é‚„åŸï¼Œå› æ­¤ä¹Ÿè¦åˆªé™¤é€é Volume å„²å­˜çš„è³‡æ–™åº«è³‡æ–™ï¼Œå¦‚ä»¥ä¸‹æ­¥é©Ÿï¼š</p><ol><li>åˆªé™¤ container</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥è©¢ç›®å‰çš„æ­£åœ¨åŸ·è¡Œçš„ container</span><br><span class="hljs-meta">$</span><span class="bash"> docker ps</span><br><span class="hljs-meta">#</span><span class="bash"> å¼·åˆ¶åˆªé™¤ container</span><br><span class="hljs-meta">$</span><span class="bash"> docker rm -f sql2</span><br></code></pre></td></tr></table></figure><ol start="2"><li>åˆªé™¤é€é Volume å„²å­˜çš„è³‡æ–™åº«è³‡æ–™</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥çœ‹å‰›å‰›åˆªé™¤çš„ container ä¿å­˜ä¸‹ä¾†çš„ DB è³‡æ–™æª” (TestDB_log.ldf å’Œ TestDB.mdf)</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> mssql/data</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/home/titan/project/mssql/data<br><span class="hljs-meta">$</span><span class="bash"> tree</span><br>â”œâ”€â”€ master.mdf<br>â”œâ”€â”€ mastlog.ldf<br>â”œâ”€â”€ modellog.ldf<br>â”œâ”€â”€ model.mdf<br>â”œâ”€â”€ msdbdata.mdf<br>â”œâ”€â”€ msdblog.ldf<br>â”œâ”€â”€ tempdb.mdf<br>â”œâ”€â”€ templog.ldf<br>â”œâ”€â”€ testdb.bak<br>â”œâ”€â”€ TestDB_log.ldf   &lt;---<br>â””â”€â”€ TestDB.mdf       &lt;---<br><br><span class="hljs-meta">#</span><span class="bash"> åˆªé™¤ TestDB.mdf å’Œ TestDB_log.ldf</span><br><span class="hljs-meta">$</span><span class="bash"> sudo rm TestDB*</span><br><span class="hljs-meta">$</span><span class="bash"> tree</span><br>â”œâ”€â”€ master.mdf<br>â”œâ”€â”€ mastlog.ldf<br>â”œâ”€â”€ modellog.ldf<br>â”œâ”€â”€ model.mdf<br>â”œâ”€â”€ msdbdata.mdf<br>â”œâ”€â”€ msdblog.ldf<br>â”œâ”€â”€ tempdb.mdf<br>â”œâ”€â”€ templog.ldf<br>â””â”€â”€ testdb.bak<br></code></pre></td></tr></table></figure><ol start="3"><li>åœ¨å»ºç«‹ä¸€å€‹æ–°çš„ container (ç”¨ä¾†åšé‚„åŸè³‡æ–™åº«ç”¨çš„)</li></ol><p>å…ˆå›åˆ°å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/home/titan/project/mssql/data<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> ../..</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/home/titan/project<br></code></pre></td></tr></table></figure><p>æ¥è‘—å»ºç«‹ä¸€å€‹æ–°çš„ containerï¼Œåç¨±å«åš sql3ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker run -e <span class="hljs-string">'ACCEPT_EULA=Y'</span> -e <span class="hljs-string">'MSSQL_SA_PASSWORD=&lt;YourStrong!Passw0rd&gt;'</span> \</span><br>  -p 1403:1433 --name sql3 \<br>  -v `pwd`/mssql:/var/opt/mssql \<br>  -d microsoft/mssql-server-linux:2017-latest<br></code></pre></td></tr></table></figure><h3 id="é‚„åŸè³‡æ–™åº«"><a class="header-anchor" href="#é‚„åŸè³‡æ–™åº«"></a>é‚„åŸè³‡æ–™åº«</h3><p>ä½¿ç”¨ sqlcmd é€£æ¥åˆ° SQL Serverï¼Œä¸¦é‚„åŸ TestDB è³‡æ–™åº« (è¦é‚„åŸçš„å‚™ä»½æª”å­˜è‡³ <code>./data/testdb.bak</code> )ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it sql3 /opt/mssql-tools/bin/sqlcmd -S localhost -U SA \</span><br>  -Q "RESTORE DATABASE TestDB FROM DISK = N'/var/opt/mssql/data/testdb.bak' WITH  FILE = 1, NOUNLOAD, REPLACE, STATS = 5"<br></code></pre></td></tr></table></figure><p>ç•¶åŸ·è¡Œæ­¤æŒ‡ä»¤æ™‚ï¼ŒSQL Server å°‡æœƒæç¤ºéœ€è¼¸å…¥å¯†ç¢¼ã€‚è¼¸å…¥å¯†ç¢¼å¾Œï¼Œå¾ˆå¿«å°±æœƒé‚„åŸå®Œæˆï¼Œå¦‚æœé‚„åŸæˆåŠŸç•«é¢å°±æœƒé¡¯ç¤ºã€ŒRESTORE DATABASE successfully â€¦ã€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell">Password: <br>6 percent processed.<br>11 percent processed.<br>15 percent processed.<br>20 percent processed.<br>25 percent processed.<br>31 percent processed.<br>36 percent processed.<br>41 percent processed.<br>45 percent processed.<br>50 percent processed.<br>57 percent processed.<br>61 percent processed.<br>66 percent processed.<br>70 percent processed.<br>75 percent processed.<br>82 percent processed.<br>86 percent processed.<br>91 percent processed.<br>95 percent processed.<br>100 percent processed.<br>Processed 344 pages for database 'TestDB', file 'TestDB' on file 1.<br>Processed 7 pages for database 'TestDB', file 'TestDB_log' on file 1.<br>RESTORE DATABASE successfully processed 351 pages in 0.321 seconds (8.530 MB/sec).<br></code></pre></td></tr></table></figure><p>æª¢æŸ¥ä¸€ä¸‹å‰›å‰›åˆªé™¤çš„ <code>TestDB.mdf</code> å’Œ <code>TestDB_log.ldf</code> éƒ½æ­£ç¢ºçš„é‚„åŸäº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> mssql/data</span><br><span class="hljs-meta">$</span><span class="bash"> tree</span><br>â”œâ”€â”€ master.mdf<br>â”œâ”€â”€ mastlog.ldf<br>â”œâ”€â”€ modellog.ldf<br>â”œâ”€â”€ model.mdf<br>â”œâ”€â”€ msdbdata.mdf<br>â”œâ”€â”€ msdblog.ldf<br>â”œâ”€â”€ tempdb.mdf<br>â”œâ”€â”€ templog.ldf<br>â”œâ”€â”€ testdb.bak<br>â”œâ”€â”€ TestDB_log.ldf   &lt;---<br>â””â”€â”€ TestDB.mdf       &lt;---<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>select</code> SQL æŒ‡ä»¤å¯ä»¥çœ‹åˆ°è³‡æ–™ç¢ºå¯¦å·²é‚„åŸï¼š</p><p><img src="../images/docker-mssql-server-for-linux/2019-01-30_22-04-08.png" alt=""></p><h2 id="ä½¿ç”¨-Azure-Data-Studio-å‚™ä»½æˆ–é‚„åŸè³‡æ–™åº«"><a class="header-anchor" href="#ä½¿ç”¨-Azure-Data-Studio-å‚™ä»½æˆ–é‚„åŸè³‡æ–™åº«"></a>ä½¿ç”¨ Azure Data Studio å‚™ä»½æˆ–é‚„åŸè³‡æ–™åº«</h2><p>å¦‚æœè¦ºå¾—æ‰“æŒ‡ä»¤å¾ˆéº»ç…©ï¼Œå…¶å¯¦ Azure Data Studioã€<a href="https://docs.microsoft.com/zh-tw/sql/linux/sql-server-linux-manage-ssms?view=sql-server-2017" target="_blank" rel="noopener">SQL Server Management Studio (SSMS)</a>ã€<a href="https://docs.microsoft.com/zh-tw/sql/linux/sql-server-linux-develop-use-ssdt?view=sql-server-2017" target="_blank" rel="noopener">SQL Server Data Tools (SSDT)</a> æˆ– <a href="https://docs.microsoft.com/zh-tw/sql/linux/sql-server-linux-develop-use-vscode?view=sql-server-2017" target="_blank" rel="noopener">Visual Studio Code (VS Code) çš„ mssql æ“´å……åŠŸèƒ½</a> éƒ½æœ‰æä¾› GUI çš„ä»‹é¢ï¼Œå¯ä»¥ç›´æ¥å‚™ä»½æˆ–é‚„åŸè³‡æ–™åº«ã€‚</p><p>ä¸‹åœ–æ˜¯ Azure Data Studio å‚™ä»½æˆ–é‚„åŸè³‡æ–™åº«çš„ç•«é¢ï¼š</p><p><img src="https://i.imgur.com/wexszt5.png" alt=""></p><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.microsoft.com/zh-tw/sql/azure-data-studio/tutorial-backup-restore-sql-server?view=sql-server-2017" target="_blank" rel="noopener">å‚™ä»½èˆ‡é‚„åŸçš„è³‡æ–™åº« - Azure Data Studio | Microsoft Docs</a> æ–‡ä»¶ã€‚</p></blockquote><h2 id="åƒè€ƒé€£çµ"><a class="header-anchor" href="#åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ul><li><a href="https://docs.microsoft.com/zh-tw/sql/linux/quickstart-install-connect-docker?view=sql-server-2017" target="_blank" rel="noopener">é–‹å§‹ä½¿ç”¨ Docker ï¼ˆLinux ä¸ŠåŸ·è¡Œ SQL Serverï¼‰ ä¸Šçš„ SQL Server å®¹å™¨ - SQL Server | Microsoft Docs</a></li><li><a href="https://docs.microsoft.com/zh-tw/sql/linux/sql-server-linux-configure-docker?view=sql-server-2017" target="_blank" rel="noopener">åœ¨ Docker ä¸Šçš„ SQL Server çµ„æ…‹é¸é … - SQL Server | Microsoft Docs</a></li><li><a href="https://docs.microsoft.com/zh-tw/sql/linux/tutorial-restore-backup-in-sql-server-container?view=sql-server-2017" target="_blank" rel="noopener">åœ¨ Docker ä¸­çš„ SQL Server è³‡æ–™åº«é‚„åŸ - SQL Server | Microsoft Docs</a></li><li><a href="https://github.com/Microsoft/mssql-docker/tree/master/linux/preview" target="_blank" rel="noopener">Github repo: Microsoft/mssql-docker</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> SQL Server </category>
          
          <category> Linux </category>
          
          <category> Database </category>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Container </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°‡ Hexo çš„ Markdown æ¸²æŸ“å¼•æ“æ›æˆ markdown-it</title>
      <link href="/article/hexo-markdown-it.html"/>
      <url>/article/hexo-markdown-it.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/hexo.jpg" alt=""></p><p>å€‹äººå¾ˆå¸¸ç”¨ HackMD ç´€éŒ„ç­†è¨˜ï¼Œå¸Œæœ› blog ä¹Ÿå¯ä»¥æ”¯æ´ HackMD çš„ Markdown æ ¼å¼ï¼Œå› æ­¤æœ¬ç¯‡çš„ç›®æ¨™å°±æ˜¯è¦å°‡ Hexo åŸæœ¬çš„ Markdown æ¸²æŸ“å¼•æ“ <code>marked</code>ï¼Œæ›æˆ HackMD çš„ Markdown æ¸²æŸ“å¼•æ“ï¼š<code>markdown-it</code>ã€‚</p><a id="more"></a><h2 id="æ›´æ›æ¸²æŸ“å¼•æ“"><a class="header-anchor" href="#æ›´æ›æ¸²æŸ“å¼•æ“"></a>æ›´æ›æ¸²æŸ“å¼•æ“</h2><p>Hexo é è¨­çš„ markdown æ¸²æŸ“å¼•æ“æ˜¯ <a href="https://github.com/markedjs/marked" target="_blank" rel="noopener"><code>marked</code></a>ï¼Œä¸¦ä½¿ç”¨ <a href="https://github.com/hexojs/hexo-renderer-marked" target="_blank" rel="noopener"><code>hexo-renderer-marked</code></a> æ­¤ Hexo å¤–æ›ä¾†å°‡ Markdown è½‰æ›æˆéœæ…‹æª”æ¡ˆ HTMLï¼Œä½†å› å‰é¢æåˆ°çš„éœ€æ±‚ï¼Œæ‰€ä»¥è¦åˆªé™¤åŸæœ¬çš„æ¸²æŸ“å¼•æ“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm uninstall hexo-renderer-marked --save</span><br></code></pre></td></tr></table></figure><p>å®‰è£æˆ‘å€‘è¦æ”¹ç”¨çš„ Markdown æ¸²æŸ“å¼•æ“ï¼š<code>markdown-it</code>ï¼Œè€Œä½¿ç”¨æ­¤æ¸²æŸ“å¼•æ“çš„ Hexo å¤–æ›å°±æ˜¯ <a href="https://github.com/hexojs/hexo-renderer-markdown-it" target="_blank" rel="noopener"><code>hexo-renderer-markdown-it</code></a>ï¼Œæ‰€ä»¥è¦åœ¨ hexo çš„å°ˆæ¡ˆä¸­å®‰è£æ­¤å¤–æ›ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm install git+https://github.com/hexojs/hexo-renderer-markdown-it.git --save</span><br></code></pre></td></tr></table></figure><p>ç‚ºä½•å®‰è£ NPM å¥—ä»¶æ™‚è¦æŒ‡å®š github çš„ repo å‘¢ï¼Ÿå› ç‚º <code>hexo-renderer-markdown-it</code> æ­¤ NPM å¥—ä»¶çš„ç¨‹å¼æ²’æœ‰æ›´æ–°æˆ Github ä¸Šé¢çš„ç¨‹å¼ç‰ˆæœ¬ï¼Œè«‹ç¢ºå®šå‰›å‰›å®‰è£å¥—ä»¶ä¸­ï¼Œ<code>node_modules\hexo-renderer-markdown-it\lib\renderer.js</code> é€™å€‹æª”æ¡ˆå…§çš„ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼æ˜¯å¦ç›¸åŒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (opt.plugins) &#123;<br>  parser = opt.plugins.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parser, pugs</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (pugs <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span> &amp;&amp; pugs.name) &#123;<br>      <span class="hljs-keyword">return</span> parser.use(<span class="hljs-built_in">require</span>(pugs.name), pugs.options);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> parser.use(<span class="hljs-built_in">require</span>(pugs));<br>    &#125;<br>  &#125;, parser);<br>&#125;<br></code></pre></td></tr></table></figure><p>è‹¥æ˜¯å¾ NPM ä¸‹è¼‰çš„å¥—ä»¶ç‰ˆæœ¬ (ä¹Ÿå°±æ˜¯ç›´æ¥ä½¿ç”¨ <code>npm install hexo-renderer-markdown-it --save</code> æ­¤æŒ‡ä»¤)ï¼Œæœƒå°‘å¹¾å¥ç¨‹å¼ï¼Œå°‘äº†å¯åœ¨è¼‰å…¥ <code>markdown-it</code> çš„å¤–æ›æ™‚ç‚ºè©²å¤–æ›è¨­å®šæ‰€éœ€çš„ optionsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (opt.plugins) &#123;<br>  parser = opt.plugins.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parser, pugs</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> parser.use(<span class="hljs-built_in">require</span>(pugs));<br>  &#125;, parser);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å®‰è£æ¸²æŸ“å¼•æ“å¤–æ›å¥—ä»¶"><a class="header-anchor" href="#å®‰è£æ¸²æŸ“å¼•æ“å¤–æ›å¥—ä»¶"></a>å®‰è£æ¸²æŸ“å¼•æ“å¤–æ›å¥—ä»¶</h2><p>æˆ‘å€‘å¯ä»¥åƒè€ƒ <a href="https://github.com/hackmdio/codimd/blob/master/package.json" target="_blank" rel="noopener">HackMD</a> çš„ç›¸ä¾å¥—ä»¶ï¼Œåªè¦æ˜¯åç‚º <code>markdown-it-xxx</code> çš„å¥—ä»¶å°±æ˜¯æ¸²æŸ“å¼•æ“ <code>markdown-it</code> çš„å¤–æ›ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">"dependencies"</span>: &#123;<br>    <span class="hljs-comment">// ...</span><br>    <span class="hljs-attr">"markdown-it"</span>: <span class="hljs-string">"^8.2.2"</span>,<br>    <span class="hljs-attr">"markdown-it-abbr"</span>: <span class="hljs-string">"^1.0.4"</span>,<br>    <span class="hljs-attr">"markdown-it-container"</span>: <span class="hljs-string">"^2.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-deflist"</span>: <span class="hljs-string">"^2.0.1"</span>,<br>    <span class="hljs-attr">"markdown-it-emoji"</span>: <span class="hljs-string">"^1.3.0"</span>,<br>    <span class="hljs-attr">"markdown-it-footnote"</span>: <span class="hljs-string">"^3.0.1"</span>,<br>    <span class="hljs-attr">"markdown-it-imsize"</span>: <span class="hljs-string">"^2.0.1"</span>,<br>    <span class="hljs-attr">"markdown-it-ins"</span>: <span class="hljs-string">"^2.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-mark"</span>: <span class="hljs-string">"^2.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-mathjax"</span>: <span class="hljs-string">"^2.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-regexp"</span>: <span class="hljs-string">"^0.4.0"</span>,<br>    <span class="hljs-attr">"markdown-it-sub"</span>: <span class="hljs-string">"^1.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-sup"</span>: <span class="hljs-string">"^1.0.0"</span>,<br>    <span class="hljs-attr">"markdown-it-task-checkbox"</span>: <span class="hljs-string">"^1.0.6"</span>,<br>    <span class="hljs-comment">// ...</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è€Œä¸‹åˆ—æ˜¯æˆ‘é¸æ“‡è¦å®‰è£çš„å¤–æ›ï¼š</p><ul><li><a href="https://github.com/markdown-it/markdown-it-abbr" target="_blank" rel="noopener">markdown-it-abbr</a></li><li><a href="https://github.com/markdown-it/markdown-it-container" target="_blank" rel="noopener">markdown-it-container</a></li><li><a href="https://github.com/markdown-it/markdown-it-deflist" target="_blank" rel="noopener">markdown-it-deflist</a></li><li><a href="https://github.com/markdown-it/markdown-it-emoji" target="_blank" rel="noopener">markdown-it-emoji</a></li><li><a href="https://github.com/markdown-it/markdown-it-footnote" target="_blank" rel="noopener">markdown-it-footnote</a></li><li><a href="https://github.com/tatsy/markdown-it-imsize" target="_blank" rel="noopener">markdown-it-imsize</a></li><li><a href="https://github.com/markdown-it/markdown-it-ins" target="_blank" rel="noopener">markdown-it-ins</a></li><li><a href="https://github.com/markdown-it/markdown-it-mark" target="_blank" rel="noopener">markdown-it-mark</a></li><li><a href="https://github.com/rlidwka/markdown-it-regexp" target="_blank" rel="noopener">markdown-it-regexp</a></li><li><a href="https://github.com/markdown-it/markdown-it-sub" target="_blank" rel="noopener">markdown-it-sub</a></li><li><a href="https://github.com/markdown-it/markdown-it-sup" target="_blank" rel="noopener">markdown-it-sup</a></li><li><a href="https://github.com/linsir/markdown-it-task-checkbox" target="_blank" rel="noopener">markdown-it-task-checkbox</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> npm i markdown-it-abbr \</span><br>        markdown-it-task-checkbox \<br>        markdown-it-container \<br>        markdown-it-deflist \<br>        markdown-it-emoji \<br>        markdown-it-footnote \<br>        markdown-it-imsize \<br>        markdown-it-ins \<br>        markdown-it-mark \<br>        markdown-it-regexp \<br>        markdown-it-sub \<br>        markdown-it-sup --save<br></code></pre></td></tr></table></figure><h3 id="markdown-it-mathjax"><a class="header-anchor" href="#markdown-it-mathjax"></a>markdown-it-mathjax</h3><p>ç‚ºä½•æˆ‘æœªå®‰è£ <code>markdown-it-mathjax</code> é€™å€‹å¤–æ›ï¼Ÿé€™æ˜¯å› ç‚ºâ€¦æˆ‘ä¹‹å¾Œå†å–®ç¨å¯«ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹å¦‚ä½•åœ¨ Markdown åŠ ä¸Šæ•¸å­¸å¼ MathJaxã€‚</p><h3 id="markdown-it-task-checkbox"><a class="header-anchor" href="#markdown-it-task-checkbox"></a>markdown-it-task-checkbox</h3><p>ç‚ºä½•æˆ‘æœƒæ¯” HackMD å¤šå®‰è£ <code>markdown-it-task-checkbox</code> é€™å€‹å¤–æ›ï¼Ÿ</p><p>æœ‰ä½¿ç”¨é HackMD çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œåªè¦åœ¨ HackMD è¼¸å…¥ä¸‹åˆ— Markdown èªæ³•ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">- </span>[ ] task 1<br><span class="hljs-bullet">- </span>[x] task 2<br></code></pre></td></tr></table></figure><p>å°±æœƒè¢«è½‰æ›æˆ HTML çš„ checkboxï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-list-item"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-list-item-checkbox "</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>task 1<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-list-item"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-list-item-checkbox"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">""</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>task 2<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç•«é¢æœƒçœ‹åˆ°ä¸€å€‹æœªè¢«å‹¾é¸ä»¥åŠä¸€å€‹å·²è¢«å‹¾é¸çš„ checkboxï¼š</p><p><img src="../images/hexo-markdown-it/markdown-it_checkbox.png" alt=""></p><p>ä¸é HackMD ä¸æ˜¯é è‘— Markdown æ¸²æŸ“å¼•æ“ <code>markdown-it</code> çš„å¤–æ›ä¾†è½‰æ›æˆ HTML çš„ï¼Œè€Œæ˜¯ç›´æ¥åˆ©ç”¨æ­£è¦è¡¨ç¤ºæ³• (Regular Expression) æ‰¾åˆ° <code>[ ]</code> æˆ– <code>[x]</code> çš„æ–‡å­—ï¼Œå†å°‡é€™äº›æ–‡å­—ç›´æ¥è½‰æ›æˆ HTML çš„ checkboxã€‚æˆ‘æ“·å–äº† HackMD çš„é€™æ®µç¨‹å¼é‚è¼¯ï¼Œè‹¥æƒ³çœ‹è©³ç´°çš„åŸå§‹ç¢¼å¯è‡³ HackMD çš„åŸå§‹ç¢¼å…§çš„ <a href="https://github.com/hackmdio/codimd/blob/master/public/js/extra.js#L263" target="_blank" rel="noopener"><code>public/js/extra.js</code> æª”æ¡ˆä¸­çš„ç¬¬ 263 è¡Œå·¦å³</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\s*\[[x ]\]\s*/</span>.test(html)) &#123;<br>  li.innerHTML = html<br>    .replace(<br>      /^\s*\[ \]\s*<span class="hljs-regexp">/,</span><br><span class="hljs-regexp">      `&lt;input type="checkbox" class="task-list-item-checkbox" $&#123;disabled&#125;&gt;&lt;label&gt;&lt;/</span>label&gt;<span class="hljs-string">`,</span><br><span class="hljs-string">    )</span><br><span class="hljs-string">    .replace(</span><br><span class="hljs-string">      /^\s*\[x\]\s*/,</span><br><span class="hljs-string">      `</span>&lt;input type=<span class="hljs-string">"checkbox"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"task-list-item-checkbox"</span> checked $&#123;disabled&#125;&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><span class="hljs-string">`,</span><br><span class="hljs-string">    );</span><br><span class="hljs-string">  if (li.tagName.toLowerCase() !== 'li') &#123;</span><br><span class="hljs-string">    li.parentElement.setAttribute('class', 'task-list-item');</span><br><span class="hljs-string">  &#125; else &#123;</span><br><span class="hljs-string">    li.setAttribute('class', 'task-list-item');</span><br><span class="hljs-string">  &#125;</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="è¨­å®š-config-yml"><a class="header-anchor" href="#è¨­å®š-config-yml"></a>è¨­å®š _config.yml</h2><p>å°‡ä¸‹é¢é€™äº›è¨­å®šåœ¨æ ¹ç›®éŒ„çš„ <code>_config.yml</code> è¨­å®šæª”ä¸­ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Markdown-it config</span><br><span class="hljs-comment"># Docs: https://github.com/hexojs/hexo-renderer-markdown-it/wiki</span><br><span class="hljs-attr">markdown:</span><br>  <span class="hljs-attr">render:</span><br>    <span class="hljs-attr">html:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">xhtmlOut:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-attr">breaks:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">linkify:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">typographer:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">quotes:</span> <span class="hljs-string">'â€œâ€â€˜â€™'</span><br>  <span class="hljs-attr">plugins:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-abbr</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-footnote</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-ins</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-sub</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-sup</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-deflist</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-imsize</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-mark</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-regexp</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-task-checkbox</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">markdown-it-container</span><br>      <span class="hljs-attr">options:</span> <span class="hljs-string">success</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">markdown-it-container</span><br>      <span class="hljs-attr">options:</span> <span class="hljs-string">info</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">markdown-it-container</span><br>      <span class="hljs-attr">options:</span> <span class="hljs-string">warning</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">markdown-it-container</span><br>      <span class="hljs-attr">options:</span> <span class="hljs-string">danger</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">markdown-it-deflist</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">markdown-it-emoji</span><br>      <span class="hljs-attr">options:</span><br>        <span class="hljs-attr">shortcuts:</span> <span class="hljs-string">&#123;&#125;</span><br>  <span class="hljs-attr">anchors:</span><br>    <span class="hljs-attr">level:</span> <span class="hljs-number">1</span><br>    <span class="hljs-attr">collisionSuffix:</span> <span class="hljs-string">'v'</span><br>    <span class="hljs-attr">permalink:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">permalinkClass:</span> <span class="hljs-string">header-anchor</span><br>    <span class="hljs-attr">permalinkSymbol:</span> <span class="hljs-string">''</span><br></code></pre></td></tr></table></figure><blockquote><p>æƒ³äº†è§£è¨­å®šè©³æƒ…å¯åƒè€ƒ <a href="https://github.com/hexojs/hexo-renderer-markdown-it/wiki/Advanced-Configuration" target="_blank" rel="noopener">Advanced Configuration | hexojs/hexo-renderer-markdown-it Wiki</a> å®˜æ–¹æ–‡ä»¶ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter è¼‰å…¥åœ–ç‰‡</title>
      <link href="/article/flutter-loading-images.html"/>
      <url>/article/flutter-loading-images.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/flutter.jpg" alt=""></p><p>è¦å¦‚ä½•åœ¨ Flutter å…§è¼‰å…¥åœ–ç‰‡ï¼Ÿé€™ç¯‡åšå€‹å°è¨˜éŒ„ã€‚</p><a id="more"></a><h2 id="æŒ‡å®šè³‡æº"><a class="header-anchor" href="#æŒ‡å®šè³‡æº"></a>æŒ‡å®šè³‡æº</h2><p>Flutter æ˜¯åœ¨æ ¹ç›®éŒ„å…§çš„ <code>pubspec.yaml</code> æª”æ¡ˆä¾†è¨­å®šæ‡‰ç”¨ç¨‹å¼æ‰€éœ€çš„è³‡æºï¼Œè¨­å®šçš„è³‡æºæ²’æœ‰é †åºé—œä¿‚ã€‚</p><p>è‹¥è¦æŒ‡å®šæŸäº›è³‡æºï¼Œè³‡æºçš„è·¯å¾‘æ˜¯ç›¸å°æ–¼ <code>pubspec.yaml</code> æª”æ¡ˆçš„ç›¸å°è·¯å¾‘ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">flutter:</span><br>  <span class="hljs-attr">assets:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/images/avatar.jpg</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/images/background.jpg</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šæŸå€‹ç›®éŒ„ï¼Œä»£è¡¨å¯ä»¥å­˜å–åˆ°é€™å€‹ç›®éŒ„ä¸‹çš„æ‰€æœ‰è³‡æºï¼Œä½†è¨˜å¾—è¦åœ¨ç›®éŒ„çš„æœ€å¾ŒåŠ ä¸Š <code>/</code> é€™å€‹ç¬¦è™Ÿï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">flutter:</span><br>  <span class="hljs-attr">assets:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/</span><br></code></pre></td></tr></table></figure><p>è‹¥è¦å­˜å–å­ç›®éŒ„å…§çš„è³‡æºï¼Œè«‹è¨˜å¾—è¦å¦å¤–ç‚ºå­ç›®éŒ„è¨­å®šï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">flutter:</span><br>  <span class="hljs-attr">assets:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/images/</span><br></code></pre></td></tr></table></figure><h2 id="è¼‰å…¥åœ–ç‰‡"><a class="header-anchor" href="#è¼‰å…¥åœ–ç‰‡"></a>è¼‰å…¥åœ–ç‰‡</h2><p>å¯ä½¿ç”¨ <code>Image.asset()</code> ä¾†è¼‰å…¥åœ–ç‰‡ï¼Œè£¡é¢çš„åƒæ•¸å°±æ˜¯åœ–ç‰‡çš„è·¯å¾‘ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">Widget build(BuildContext context) &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-keyword">return</span> Image.asset(<span class="hljs-string">'assets/images/background.jpg'</span>);<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ–æ˜¯åœ¨ <code>Image()</code> å…§çš„ <code>image</code> åƒæ•¸ä½¿ç”¨ <code>AssetImage()</code>ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart">Widget build(BuildContext context) &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-keyword">return</span> Image(<br>    image: AssetImage(<span class="hljs-string">'assets/images/background.jpg'</span>),<br>  );<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€å¾Œé¡¯ç¤ºçš„çµæœæœƒä¸€æ¨£ï¼š</p><p><img src="../images/flutter-loading-images/flutter_loading-images.png" alt=""></p><h2 id="åƒè€ƒé€£çµ"><a class="header-anchor" href="#åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ul><li><a href="https://flutter.io/docs/development/ui/assets-and-images" target="_blank" rel="noopener">Adding assets and images - Flutter</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
          <category> Mobile App </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python - æ—¥èªŒ (logging) æ¨¡çµ„</title>
      <link href="/article/python-logging.html"/>
      <url>/article/python-logging.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/python.png" alt=""></p><p>é–‹ç™¼ Python æ™‚ï¼Œå¾ˆå¸¸ä½¿ç”¨ <code>print()</code> ä¾†è¼¸å‡ºè®Šæ•¸ä»¥æ–¹ä¾¿ debugï¼Œä½†è¦éƒ¨ç½²æ™‚ï¼Œä¸éœ€è¦é€™äº›è¨Šæ¯ï¼Œéœ€è¦è‡ªå·±æ‰‹å‹•å»è¨»è§£æˆ–åˆªé™¤é‚£äº›æ”¾åœ¨å„è™•çš„ <code>print()</code>ã€‚è€Œ Python å…§å»ºæä¾›äº† <code>logging</code> æ¨¡çµ„å¯ä»¥ç”¨ä¾†å–ä»£ <code>print()</code>ï¼Œ<code>logging</code> é™¤äº†å¯ä»¥è¼¸å‡ºè¨Šæ¯ï¼Œä¹Ÿå¯ä»¥å°‡è¨Šæ¯å„²å­˜è‡³æ—¥èªŒæª”ä¿å­˜ã€‚ä¸‹é¢ç´€éŒ„å¦‚ä½•ä½¿ç”¨ <code>logging</code> æ¨¡çµ„ã€‚</p><a id="more"></a><h2 id="è¼‰å…¥-logging-æ¨¡çµ„"><a class="header-anchor" href="#è¼‰å…¥-logging-æ¨¡çµ„"></a>è¼‰å…¥ logging æ¨¡çµ„</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br></code></pre></td></tr></table></figure><h2 id="logging-ç­‰ç´š"><a class="header-anchor" href="#logging-ç­‰ç´š"></a>logging ç­‰ç´š</h2><p><code>logging</code> æ¨¡çµ„é å…ˆå®šç¾©äº† 6 ç¨®ç­‰ç´šä»¥åŠå°æ‡‰çš„ log è¼¸å‡ºå‡½æ•¸ (é™¤äº† <code>logging.NOTSET</code> æ²’æœ‰å°æ‡‰çš„è¼¸å‡ºå‡½æ•¸)ï¼š</p><table><thead><tr><th>ç­‰ç´š</th><th>ç­‰ç´šæ•¸å€¼</th><th>è¼¸å‡ºå‡½æ•¸</th><th>èªªæ˜</th></tr></thead><tbody><tr><td>NOTSET</td><td>0</td><td>ç„¡å°æ‡‰çš„è¼¸å‡ºå‡½æ•¸</td><td>æœªè¨­å®š</td></tr><tr><td>DEBUG</td><td>10</td><td><code>logging.debug()</code></td><td>é™¤éŒ¯</td></tr><tr><td>INFO</td><td>20</td><td><code>logging.info()</code></td><td>è¨Šæ¯</td></tr><tr><td>WARNING</td><td>30</td><td><code>logging.warning()</code></td><td>è­¦å‘Š</td></tr><tr><td>ERROR</td><td>40</td><td><code>logging.error()</code></td><td>éŒ¯èª¤</td></tr><tr><td>CRITICAL</td><td>50</td><td><code>logging.critical()</code></td><td>åš´é‡éŒ¯èª¤</td></tr></tbody></table><p>è‹¥è¦æŸ¥è©¢å„ç­‰ç´šçš„æ•¸å€¼ï¼Œå¯ç›´æ¥å‘¼å«è©²ç­‰ç´šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>print(logging.NOTSET)   <span class="hljs-comment"># 0</span><br>print(logging.DEBUG)    <span class="hljs-comment"># 10</span><br>print(logging.INFO)     <span class="hljs-comment"># 20</span><br>print(logging.WARNING)  <span class="hljs-comment"># 30</span><br>print(logging.ERROR)    <span class="hljs-comment"># 40</span><br>print(logging.CRITICAL) <span class="hljs-comment"># 50</span><br></code></pre></td></tr></table></figure><p>è‹¥è¦ç”¨ç­‰ç´šæ•¸å€¼ä¾†æŸ¥è©¢æ˜¯å“ªå€‹ç­‰ç´šçš„è¨Šæ¯ï¼Œå¯ä½¿ç”¨ <code>logging.getLevelName(level)</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>print(logging.getLevelName(<span class="hljs-number">0</span>))    <span class="hljs-comment"># NOTSET</span><br>print(logging.getLevelName(<span class="hljs-number">10</span>))   <span class="hljs-comment"># DEBUG</span><br>print(logging.getLevelName(<span class="hljs-number">20</span>))   <span class="hljs-comment"># INFO</span><br>print(logging.getLevelName(<span class="hljs-number">30</span>))   <span class="hljs-comment"># WARNING</span><br>print(logging.getLevelName(<span class="hljs-number">40</span>))   <span class="hljs-comment"># ERROR</span><br>print(logging.getLevelName(<span class="hljs-number">50</span>))   <span class="hljs-comment"># CRITICAL</span><br></code></pre></td></tr></table></figure><h2 id="è¼¸å‡º-logging"><a class="header-anchor" href="#è¼¸å‡º-logging"></a>è¼¸å‡º logging</h2><p><code>logging</code> æ¨¡çµ„é è¨­ç­‰ç´šç‚º <code>WARNING</code>ï¼Œå¤§æ–¼æˆ–ç­‰æ–¼ <code>WARNING</code> ç­‰ç´šçš„è¨Šæ¯æ‰æœƒè¢«è¨˜éŒ„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>logging.debug(<span class="hljs-string">'debug message'</span>)<br>logging.info(<span class="hljs-string">'info message'</span>)<br>logging.warning(<span class="hljs-string">'warning message'</span>)<br>logging.error(<span class="hljs-string">'error message'</span>)<br>logging.critical(<span class="hljs-string">'critical message'</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è¼¸å‡ºçµæœï¼Œå¯ä»¥çœ‹åˆ°æ¯” <code>WARNING</code> ç­‰ç´šé‚„è¦ä½çš„è¨Šæ¯æœ‰ <code>DEBUG</code> å’Œ <code>INFO</code> å°±ä¸æœƒè¢«è¼¸å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">WARNING:root:warning message<br>ERROR:root:error message<br>CRITICAL:root:critical message<br></code></pre></td></tr></table></figure><p>è‹¥å°‡ç­‰ç´šè¨­ç‚º <code>DEBUG</code>ï¼Œå°±æœƒå°‡æ‰€æœ‰ç­‰ç´šçš„è¨Šæ¯éƒ½è¼¸å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>logging.basicConfig(level=logging.DEBUG)<br><br>logging.debug(<span class="hljs-string">'debug message'</span>)<br>logging.info(<span class="hljs-string">'info message'</span>)<br>logging.warning(<span class="hljs-string">'warning message'</span>)<br>logging.error(<span class="hljs-string">'error message'</span>)<br>logging.critical(<span class="hljs-string">'critical message'</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è¼¸å‡ºçµæœï¼Œé è¨­çš„è¨Šæ¯è¼¸å‡ºæ ¼å¼æ˜¯ <code>%(levelname)s:%(name)s:%(message)s</code> (å¾Œé¢æœƒä»‹ç´¹å¦‚ä½•è‡ªè¨‚è¼¸å‡ºæ ¼å¼)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">DEBUG:root:debug message<br>INFO:root:info message<br>WARNING:root:warning message<br>ERROR:root:error message<br>CRITICAL:root:critical message<br></code></pre></td></tr></table></figure><h2 id="ç´€éŒ„å †ç–Šè¿½è¹¤è³‡è¨Š"><a class="header-anchor" href="#ç´€éŒ„å †ç–Šè¿½è¹¤è³‡è¨Š"></a>ç´€éŒ„å †ç–Šè¿½è¹¤è³‡è¨Š</h2><p><code>logging</code> æ¨¡çµ„ä¹Ÿæä¾›å¯ä»¥ç´€éŒ„å®Œæ•´çš„å †ç–Šè¿½è¹¤ (stack traces)ï¼Œè‹¥åœ¨ <code>logging.error()</code> åŠ ä¸Š <code>exc_info</code> åƒæ•¸ï¼Œä¸¦å°‡è©²åƒæ•¸è¨­ç‚º <code>True</code>ï¼Œå°±å¯ä»¥ç´€éŒ„ Exceptionï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-keyword">try</span>:<br>    x = <span class="hljs-number">5</span> / <span class="hljs-number">0</span><br><span class="hljs-keyword">except</span>:<br>    logging.error(<span class="hljs-string">"Catch an exception."</span>, exc_info=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è¼¸å‡ºçµæœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">ERROR:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br></code></pre></td></tr></table></figure><p>è‹¥æ²’æœ‰åŠ ä¸Š <code>exc_info=True</code> å‰‡ç„¡æ³•ç´€éŒ„ Exceptionï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-keyword">try</span>:<br>    x = <span class="hljs-number">5</span> / <span class="hljs-number">0</span><br><span class="hljs-keyword">except</span>:<br>    logging.error(<span class="hljs-string">"Catch an exception."</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è¼¸å‡ºçµæœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ERROR:root:Catch an exception.<br></code></pre></td></tr></table></figure><p>è‹¥è¦åœ¨ logging å…§ç´€éŒ„ exception è¨Šæ¯ï¼Œå¯ä½¿ç”¨ <code>logging.exception()</code>ï¼Œå®ƒæœƒå°‡ exception æ·»åŠ è‡³è¨Šæ¯ä¸­ï¼Œæ­¤æ–¹æ³•çš„ç­‰ç´šç‚º <code>ERROR</code>ï¼Œä¹Ÿå°±æ˜¯èªª <code>logging.exception()</code> å°±ç­‰åŒæ–¼ <code>logging.error(exc_info=True)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-keyword">try</span>:<br>    x = <span class="hljs-number">5</span> / <span class="hljs-number">0</span><br><span class="hljs-keyword">except</span>:<br>    logging.exception(<span class="hljs-string">'Catch an exception.'</span>)<br></code></pre></td></tr></table></figure><p>è¼¸å‡ºçµæœå’Œ <code>logging.error(exc_info=True)</code> ç›¸åŒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">ERROR:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br></code></pre></td></tr></table></figure><p>è‹¥ä¸æƒ³ä½¿ç”¨ <code>ERROR</code> ç´šåˆ¥ç´€éŒ„ exception è¨Šæ¯ï¼Œå¯ä½¿ç”¨ <code>DEBUG</code>ã€<code>INFO</code>ã€<code>WARNING</code>ã€<code>CRITICAL</code> ç´šåˆ¥ä¸¦åŠ ä¸Šåƒæ•¸ <code>exc_info=True</code> çš„è¨­å®šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>logging.basicConfig(level=logging.DEBUG)<br><br><span class="hljs-keyword">try</span>:<br>    x = <span class="hljs-number">5</span> / <span class="hljs-number">0</span><br><span class="hljs-keyword">except</span>:<br>    logging.debug(<span class="hljs-string">'Catch an exception.'</span>, exc_info=<span class="hljs-literal">True</span>)<br>    logging.info(<span class="hljs-string">'Catch an exception.'</span>, exc_info=<span class="hljs-literal">True</span>)<br>    logging.warning(<span class="hljs-string">'Catch an exception.'</span>, exc_info=<span class="hljs-literal">True</span>)<br>    logging.critical(<span class="hljs-string">'Catch an exception.'</span>, exc_info=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è¼¸å‡ºçµæœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell">DEBUG:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br>INFO:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br>WARNING:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br>CRITICAL:root:Catch an exception.<br>Traceback (most recent call last):<br>  File "main.py", line 14, in &lt;module&gt;<br>    x = 5 / 0<br>ZeroDivisionError: division by zero<br></code></pre></td></tr></table></figure><h2 id="è‡ªè¨‚-logging-è¼¸å‡ºæ ¼å¼"><a class="header-anchor" href="#è‡ªè¨‚-logging-è¼¸å‡ºæ ¼å¼"></a>è‡ªè¨‚ logging è¼¸å‡ºæ ¼å¼</h2><p>é è¨­çš„è¨Šæ¯è¼¸å‡ºæ ¼å¼åªæœ‰ <code>levelname</code>ã€<code>name</code>ã€<code>message</code>ï¼Œä¸‹é¢æ˜¯å…¶ä»–ç›¸é—œçš„è³‡è¨Šï¼š</p><table><thead><tr><th>æ ¼å¼åŒ–å­—ä¸²</th><th>èªªæ˜</th></tr></thead><tbody><tr><td><code>%(asctime)s</code></td><td>æ—¥æœŸæ™‚é–“, æ ¼å¼ç‚º <code>YYYY-MM-DD HH:mm:SS,ms</code>ï¼Œä¾‹å¦‚ï¼š2018-12-13 17:20:30,567</td></tr><tr><td><code>%(filename)s</code></td><td>æ¨¡çµ„æª”å</td></tr><tr><td><code>%(funcName)s</code></td><td>å‡½æ•¸åç¨±</td></tr><tr><td><code>%(levelname)s</code></td><td>æ—¥èªŒçš„ç­‰ç´šåç¨±</td></tr><tr><td><code>%(levelno)s</code></td><td>æ—¥èªŒçš„ç­‰ç´šæ•¸å€¼</td></tr><tr><td><code>%(lineno)d</code></td><td>å‘¼å«æ—¥èªŒå‡½æ•¸æ‰€åœ¨çš„è¡Œæ•¸</td></tr><tr><td><code>%(message)s</code></td><td>è¨Šæ¯</td></tr><tr><td><code>%(module)s</code></td><td>æ¨¡çµ„åç¨±</td></tr><tr><td><code>%(name)s</code></td><td>logger çš„åç¨±</td></tr><tr><td><code>%(pathname)s</code></td><td>æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘ (å¦‚æœå¯ç”¨)</td></tr><tr><td><code>%(process)d</code></td><td>process ID (å¦‚æœå¯ç”¨)</td></tr><tr><td><code>%(thread)d</code></td><td>åŸ·è¡Œç·’ ID (å¦‚æœå¯ç”¨)</td></tr><tr><td><code>%(threradName)s</code></td><td>åŸ·è¡Œç·’åç¨±</td></tr></tbody></table><p>å¯å°‡é€™äº›è³‡è¨ŠåŠ å…¥ <code>logging.basicConfig()</code> å…§çš„ <code>format</code> åƒæ•¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>FORMAT = <span class="hljs-string">'%(asctime)s %(levelname)s: %(message)s'</span><br>logging.basicConfig(level=logging.DEBUG, format=FORMAT)<br><br>logging.debug(<span class="hljs-string">'debug message'</span>)<br>logging.info(<span class="hljs-string">'info message'</span>)<br>logging.warning(<span class="hljs-string">'warning message'</span>)<br>logging.error(<span class="hljs-string">'error message'</span>)<br>logging.critical(<span class="hljs-string">'critical message'</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è‡ªè¨‚è¨Šæ¯çš„è¼¸å‡ºçµæœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">2018-12-13 17:40:34,604 DEBUG: debug message<br>2018-12-13 17:40:34,604 INFO: info message<br>2018-12-13 17:40:34,604 WARNING: warning message<br>2018-12-13 17:40:34,604 ERROR: error message<br>2018-12-13 17:40:34,608 CRITICAL: critical message<br></code></pre></td></tr></table></figure><h3 id="è‡ªè¨‚è¼¸å‡ºçš„æ™‚é–“æ ¼å¼"><a class="header-anchor" href="#è‡ªè¨‚è¼¸å‡ºçš„æ™‚é–“æ ¼å¼"></a>è‡ªè¨‚è¼¸å‡ºçš„æ™‚é–“æ ¼å¼</h3><p>åœ¨ <code>logging.basicConfig()</code> å…§çš„ <code>datefmt</code> åƒæ•¸å¯è¨­å®šæ‰€éœ€çš„æ™‚é–“æ ¼å¼ï¼Œè¦ä½¿ç”¨ <code>time.strftime()</code> æ¥å—çš„æ™‚é–“æ ¼å¼ï¼š</p><table><thead><tr><th>åƒæ•¸</th><th>èªªæ˜</th></tr></thead><tbody><tr><td>%Y</td><td>é•·å¹´ä»½ï¼Œä¾‹å¦‚ï¼š2019</td></tr><tr><td>%y</td><td>çŸ­å¹´ä»½ï¼Œä¾‹å¦‚ï¼š19</td></tr><tr><td>%m</td><td>æœˆä»½ï¼š01 ~ 12</td></tr><tr><td>%B</td><td>æœˆä»½å®Œæ•´åç¨±ï¼Œä¾‹å¦‚ï¼šFebruary</td></tr><tr><td>%b</td><td>æœˆä»½ç¸®å¯«åç¨±ï¼Œä¾‹å¦‚ï¼šFeb</td></tr><tr><td>%d</td><td>æ—¥æœŸï¼š01 ~ 31</td></tr><tr><td>%H</td><td>å°æ™‚ (24 å°æ™‚åˆ¶)ï¼š00 ~ 23</td></tr><tr><td>%I</td><td>å°æ™‚ (12 å°æ™‚åˆ¶)ï¼š01 ~ 12</td></tr><tr><td>%w</td><td>æ˜ŸæœŸï¼š0 ~ 6ï¼Œ0 ä»£è¡¨æ˜ŸæœŸæ—¥</td></tr><tr><td>%A</td><td>æ˜ŸæœŸå®Œæ•´åç¨±ï¼Œä¾‹å¦‚ï¼šFriday</td></tr><tr><td>%a</td><td>æ˜ŸæœŸç¸®å¯«åç¨±ï¼Œä¾‹å¦‚ï¼šFri</td></tr><tr><td>%P</td><td>AM æˆ– PM</td></tr><tr><td>%M</td><td>åˆ†é˜ï¼š00 ~ 59</td></tr><tr><td>%S</td><td>ç§’ï¼š00 ~ 61</td></tr></tbody></table><blockquote><p><code>time.strftime()</code> çš„æ™‚é–“åƒæ•¸è©³æƒ…å¯åƒè€ƒ Python å®˜æ–¹çš„ <a href="https://docs.python.org/3/library/time.html#time.strftime" target="_blank" rel="noopener">time â€” Time access and conversions â€” Python 3.7.2 documentation</a> æ–‡ä»¶ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>LOGGING_FORMAT = <span class="hljs-string">'%(asctime)s %(levelname)s: %(message)s'</span><br>DATE_FORMAT = <span class="hljs-string">'%Y%m%d %H:%M:%S'</span><br>logging.basicConfig(level=logging.DEBUG, format=LOGGING_FORMAT, datefmt=DATE_FORMAT)<br><br>logging.debug(<span class="hljs-string">'debug message'</span>)<br>logging.info(<span class="hljs-string">'info message'</span>)<br>logging.warning(<span class="hljs-string">'warning message'</span>)<br>logging.error(<span class="hljs-string">'error message'</span>)<br>logging.critical(<span class="hljs-string">'critical message'</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯è‡ªè¨‚è¨Šæ¯çš„è¼¸å‡ºçµæœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs log">20190107 08:57:07 DEBUG: debug message<br>20190107 08:57:07 INFO: info message<br>20190107 08:57:07 WARNING: warning message<br>20190107 08:57:07 ERROR: error message<br>20190107 08:57:07 CRITICAL: critical message<br></code></pre></td></tr></table></figure><h2 id="å„²å­˜-logging"><a class="header-anchor" href="#å„²å­˜-logging"></a>å„²å­˜ logging</h2><p>åªè¦åœ¨ <code>logging.basicConfig()</code> å…§çš„ <code>filename</code> åƒæ•¸è¨­å®šè¦å„²å­˜çš„æ—¥èªŒæª”åï¼Œå°±å¯ä»¥å°‡ logging å„²å­˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>FORMAT = <span class="hljs-string">'%(asctime)s %(levelname)s: %(message)s'</span><br>logging.basicConfig(level=logging.DEBUG, filename=<span class="hljs-string">'myLog.log'</span>, filemode=<span class="hljs-string">'w'</span>, format=FORMAT)<br><br>logging.debug(<span class="hljs-string">'debug message'</span>)<br>logging.info(<span class="hljs-string">'info message'</span>)<br>logging.warning(<span class="hljs-string">'warning message'</span>)<br>logging.error(<span class="hljs-string">'error message'</span>)<br>logging.critical(<span class="hljs-string">'critical message'</span>)<br></code></pre></td></tr></table></figure><p>é è¨­ <code>filemode</code> åƒæ•¸æ˜¯è¨­ç‚º <code>a</code>ï¼Œä»£è¡¨ append (é™„åŠ ) çš„æ„æ€ï¼Œæ¯æ¬¡åŸ·è¡Œç¨‹å¼æ™‚ï¼ŒLogging æœƒå°‡æ–°çš„è¨Šæ¯åŠ åœ¨èˆŠçš„è¨Šæ¯å¾Œé¢ï¼Œä¸æœƒè¦†è“‹èˆŠçš„è¨Šæ¯ã€‚è‹¥è¦æ”¹æˆæ–°è¨Šæ¯è¦†è“‹å°±è¨Šæ¯ï¼Œé‚£å¯ä»¥å°‡ <code>filemode</code> åƒæ•¸è¨­ç‚º <code>w</code>ï¼Œä»£è¡¨ write çš„æ„æ€ã€‚</p><p>ä¸‹é¢æ˜¯å‰›å‰›åŸ·è¡Œå¾Œå„²å­˜çš„ <code>myLog.log</code> æ—¥èªŒæª”ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs log">2018-12-13 17:47:18,686 DEBUG: debug message<br>2018-12-13 17:47:18,687 INFO: info message<br>2018-12-13 17:47:18,687 WARNING: warning message<br>2018-12-13 17:47:18,687 ERROR: error message<br>2018-12-13 17:47:18,687 CRITICAL: critical message<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶ <a href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener">Logging facility for Python â€” Python documentation</a>ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¨­å®š Windows å·¥ä½œæ’ç¨‹å®šæœŸåŸ·è¡Œ Python çˆ¬èŸ²ç¨‹å¼</title>
      <link href="/article/set-up-windows-task-scheduler-to-periodically-execute-python-crawler.html"/>
      <url>/article/set-up-windows-task-scheduler-to-periodically-execute-python-crawler.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/python_crawler.png" alt=""></p><p>å¦‚ä½•å°‡ Python çˆ¬èŸ²ç¨‹å¼å®šæœŸåŸ·è¡Œï¼Ÿä½¿ç”¨ Windows çš„ä½¿ç”¨è€…å¯ä»¥é¸æ“‡ã€Œå·¥ä½œæ’ç¨‹å™¨ã€ä¾†è§£æ±ºã€‚</p><a id="more"></a><p>æœ€è¿‘æœ‰äº›è³‡æ–™æƒ³é€éçˆ¬èŸ²ä¾†æ“·å–ï¼Œè€Œä¸”å¸Œæœ›å¯ä»¥å®šæœŸ (ä¾‹å¦‚ï¼šæ¯ 10 åˆ†é˜ä¸€æ¬¡) è‡ªå‹•åŸ·è¡Œçˆ¬èŸ²ç¨‹å¼ï¼Œå› æ­¤å°±æœ‰äº†é€™ç¯‡ç­†è¨˜ã€‚ä¸‹é¢ä»‹ç´¹å¦‚ä½•ä»¥ Windows å·¥ä½œæ’ç¨‹å™¨ä¾†å®šæœŸåŸ·è¡Œçˆ¬èŸ²ç¨‹å¼ã€‚</p><h2 id="ç›®æ¨™"><a class="header-anchor" href="#ç›®æ¨™"></a>ç›®æ¨™</h2><p>æ¯ 10 åˆ†é˜è‡ªå‹•åŸ·è¡Œ Python çˆ¬èŸ²ç¨‹å¼ï¼Œå°‡çˆ¬èŸ²æŠ“åˆ°çš„æœ€æ–°é™é›¨é‡è³‡æ–™å­˜å…¥ CSV æª”å…§æ”¶é›†ã€‚</p><h2 id="æº–å‚™"><a class="header-anchor" href="#æº–å‚™"></a>æº–å‚™</h2><ul><li>Windows</li><li>Python ç’°å¢ƒï¼šå»ºè­°å®‰è£ Anacondaï¼Œå¯åƒè€ƒ <a href="./create-a-virtual-environment-and-manage-dependencies-with-conda.html">ç”¨ Conda å»ºç«‹è™›æ“¬ç’°å¢ƒå’Œç®¡ç†ç›¸ä¾å¥—ä»¶</a></li><li>Python å¥—ä»¶ (é€™æ˜¯æœ¬ç¯‡çˆ¬èŸ²ç¯„ä¾‹æ‰€éœ€çš„ç›¸ä¾å¥—ä»¶ï¼Œå¯ä¾å„è‡ªéœ€æ±‚ä¾†é¸æ“‡)<ul><li><a href="https://pandas.pydata.org/" target="_blank" rel="noopener">Pandas</a></li><li><a href="http://www.numpy.org/" target="_blank" rel="noopener">Numpy</a></li><li><a href="http://docs.python-requests.org/en/master/" target="_blank" rel="noopener">Requests</a></li></ul></li></ul><h2 id="Python-çˆ¬èŸ²ç¨‹å¼åŸå§‹ç¢¼"><a class="header-anchor" href="#Python-çˆ¬èŸ²ç¨‹å¼åŸå§‹ç¢¼"></a>Python çˆ¬èŸ²ç¨‹å¼åŸå§‹ç¢¼</h2><p>source code: <a href="https://github.com/titangene/cwb-opendata-crawler-demo/blob/master/crawler.py" target="_blank" rel="noopener">titangene/cwb-opendata-crawler-demo/crawler.py</a></p><p>ç°¡å–®èªªæ˜ä¸€ä¸‹ç¨‹å¼çš„åŸ·è¡Œæ­¥é©Ÿï¼š</p><ol><li>åˆ©ç”¨ Python çš„ <a href="http://docs.python-requests.org/en/master/" target="_blank" rel="noopener">Requests</a> å¥—ä»¶ä¾†å»ºç«‹ HTTP çš„ GET è«‹æ±‚ï¼Œå¾ä¸­å¤®æ°£è±¡å±€æä¾›çš„é–‹æ”¾è³‡æ–™ API ä¸­å–å¾—è³‡æ–™ï¼Œå›å‚³çš„æ ¼å¼æ˜¯ JSON</li><li>è§£æ API å›å‚³çš„ JSON è³‡æ–™ï¼Œä¸¦å°‡ JSON è½‰æˆ <a href="https://pandas.pydata.org/" target="_blank" rel="noopener">Pandas</a> çš„ <code>DataFrame</code> å‹åˆ¥çš„è³‡æ–™æ ¼å¼</li><li>å°‡ <code>DataFrame</code> å„²å­˜æˆ CSV æª”ä¿å­˜è³‡æ–™</li></ol><blockquote><p>è‹¥æƒ³äº†è§£ä¸­å¤®æ°£è±¡å±€é–‹æ”¾è³‡æ–™çš„ç›¸é—œå…§å®¹ï¼Œè©³æƒ…å¯åƒè€ƒ <a href="https://opendata.cwb.gov.tw/devManual/insrtuction" target="_blank" rel="noopener">ä¸­å¤®æ°£è±¡å±€é–‹æ”¾è³‡æ–™ - é–‹ç™¼æŒ‡å—</a>ã€‚</p></blockquote><h2 id="Python-çˆ¬èŸ²ç¨‹å¼çš„æ‰¹æ¬¡æª”"><a class="header-anchor" href="#Python-çˆ¬èŸ²ç¨‹å¼çš„æ‰¹æ¬¡æª”"></a>Python çˆ¬èŸ²ç¨‹å¼çš„æ‰¹æ¬¡æª”</h2><p>å»ºç«‹ä¸€å€‹å‰¯æª”åç‚º <code>.bat</code> çš„æ‰¹æ¬¡æª”ï¼Œæ‰¹æ¬¡æª”æ˜¯ç”¨ä¾†åŸ·è¡Œ Python çˆ¬èŸ²ç¨‹å¼ï¼Œå› æ­¤å°±èƒ½è®“ Windows å·¥ä½œæ’ç¨‹å™¨åœ¨å®šæœŸæ™‚é–“è‡ªå‹•åŸ·è¡Œæ‰¹æ¬¡æª”ï¼Œä»¥é”æˆè‡ªå‹•åŒ–åŸ·è¡Œçˆ¬èŸ²çš„ç›®çš„ã€‚</p><p>ä¸‹é¢å°±ä¾†èªªæ˜æ‰¹æ¬¡æª”æ¯è¡Œéƒ½åšäº†ç”šéº¼ï¼š</p><ul><li>ç¬¬ä¸€è¡Œï¼šåˆ‡åˆ°æŒ‡å®šç›®éŒ„</li><li>ç¬¬äºŒè¡Œï¼šæŒ‡å®š Python è™›æ“¬ç’°å¢ƒ (å¯åƒè€ƒ <a href="./create-a-virtual-environment-and-manage-dependencies-with-conda.html">ç”¨ Conda å»ºç«‹è™›æ“¬ç’°å¢ƒå’Œç®¡ç†ç›¸ä¾å¥—ä»¶</a>ã€‚å¦‚æœè¦åœ¨å…¨åŸŸç’°å¢ƒä¸‹åŸ·è¡Œå°±ä¸éœ€è¦é€™è¡Œ)</li><li>ç¬¬ä¸‰è¡Œï¼šåŸ·è¡Œ Python çˆ¬èŸ²ç¨‹å¼</li><li>ç¬¬å››è¡Œï¼šè‹¥æƒ³æŸ¥çœ‹ Python çˆ¬èŸ²ç¨‹å¼åŸ·è¡Œéç¨‹ä¸­æ‰€è¼¸å‡º (ä¹Ÿå°±æ˜¯åŸ·è¡Œ <code>print</code> æ–¹æ³•çš„éƒ¨åˆ†) å…§å®¹ï¼Œå°±éœ€è¦å–æ¶ˆé€™è¡Œçš„è¨»è§£<ul><li><code>REM</code>ï¼šå–®è¡Œè¨»è§£</li><li><code>pause</code>ï¼šç”¨ä¾†æš«åœæ‰¹æ¬¡æª”çš„åŸ·è¡Œ</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /d D:/Project/Python/cwb-opendata-crawler<br>call activate dev<br>call python crawler.py<br>REM pause<br></code></pre></td></tr></table></figure><p>source code: <a href="https://github.com/titangene/cwb-opendata-crawler-demo/blob/master/crawler.bat" target="_blank" rel="noopener">titangene/cwb-opendata-crawler-demo/crawler.bat</a></p><h2 id="Windows-å·¥ä½œæ’ç¨‹å™¨-ç°¡ä»‹"><a class="header-anchor" href="#Windows-å·¥ä½œæ’ç¨‹å™¨-ç°¡ä»‹"></a>Windows å·¥ä½œæ’ç¨‹å™¨ ç°¡ä»‹</h2><p>å¯é å…ˆè¨­å®šå·¥ä½œåœ¨ç‰¹å®šæ™‚é–“æˆ–æŒ‡å®šæ™‚é–“æ™‚ï¼Œæœƒè‡ªå‹•åŸ·è¡Œç¨‹å¼æˆ–æ‰¹æ¬¡æª”ä»¥é”æˆå·¥ä½œè‡ªå‹•åŒ–ã€‚ä¸‹åœ–ç‚º Windows 10 çš„å·¥ä½œæ’ç¨‹å™¨ä»‹é¢ï¼š</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-46-33.png" alt=""></p><h2 id="å»ºç«‹å·¥ä½œï¼Œè¨­å®šå®šæœŸåŸ·è¡Œçˆ¬èŸ²ç¨‹å¼"><a class="header-anchor" href="#å»ºç«‹å·¥ä½œï¼Œè¨­å®šå®šæœŸåŸ·è¡Œçˆ¬èŸ²ç¨‹å¼"></a>å»ºç«‹å·¥ä½œï¼Œè¨­å®šå®šæœŸåŸ·è¡Œçˆ¬èŸ²ç¨‹å¼</h2><p>é–‹å•Ÿ Windows çš„ã€Œå·¥ä½œæ’ç¨‹å™¨ã€ï¼Œé»æ“Šå³ä¸Šè§’çš„ã€Œå»ºç«‹å·¥ä½œã€</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-47-29.png" alt=""></p><p>è‡ªè¨‚å·¥ä½œåç¨±ï¼Œè‹¥æœ‰æ¬Šé™éœ€æ±‚å¯å‹¾é¸ã€Œä»¥æœ€é«˜æ¬Šé™åŸ·è¡Œã€é¸é …</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-48-27.png" alt=""></p><p>æ¥è‘—æ–°å¢ã€Œè§¸ç™¼ç¨‹åºã€</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_22-13-47.png" alt=""></p><p>è¨­å®šå·¥ä½œçš„é–‹å§‹æ™‚é–“ï¼Œä¸¦é¸æ“‡ã€Œåƒ…ä¸€æ¬¡ã€ï¼Œä»¥åŠè¨­å®šå·¥ä½œè¦æ¯éš”å¤šä¹…å°±åŸ·è¡Œä¸€æ¬¡ï¼Œä¸¦ä¸”è¦æŒçºŒå¤šä¹…æ™‚é–“</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-49-02.png" alt=""></p><p>ç„¶å¾Œæ–°å¢ã€Œå‹•ä½œã€</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_22-14-07.png" alt=""></p><p>è¨­å®šè¦è‡ªå‹•åŸ·è¡Œçš„ç¨‹å¼ï¼Œé€™é‚Šé¸æ“‡çš„å°±æ˜¯å‰›å‰›æåˆ°çš„ <a href="#Python-%E7%88%AC%E8%9F%B2%E7%A8%8B%E5%BC%8F%E7%9A%84%E6%89%B9%E6%AC%A1%E6%AA%94">æ‰¹æ¬¡æª”</a> (<a href="https://github.com/titangene/cwb-opendata-crawler-demo/blob/master/crawler.bat" target="_blank" rel="noopener">åŸå§‹ç¢¼</a>)</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-49-54.png" alt=""></p><p>å¦‚æœè¨­å®šå¥½äº†å°±å¯ä»¥æŒ‰ç¢ºå®šå®Œæˆå»ºç«‹å·¥ä½œï¼Œæ­¤æ™‚å°±æœƒçœ‹åˆ°åœ¨ã€Œå·¥ä½œæ’ç¨‹å™¨ç¨‹å¼åº«ã€å…§çš„å·¥ä½œæ¸…å–®ä¸­ï¼Œå¤šäº†å‰›å‰›æ–°å¢çš„å·¥ä½œ</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-11-30_13-46-05.png" alt=""></p><h2 id="æˆæœ"><a class="header-anchor" href="#æˆæœ"></a>æˆæœ</h2><p>å¯ä»¥çœ‹åˆ°çˆ¬èŸ²ç¨‹å¼æœƒåœ¨å®šæœŸè‡ªå‹•åŸ·è¡Œï¼ŒåŸ·è¡Œçš„æ™‚å€™æœƒè·³å‡ºä¸€å€‹ <code>cmd</code> è¦–çª—ã€‚è‹¥å‰›å‰›æåˆ°çš„ <a href="#Python-%E7%88%AC%E8%9F%B2%E7%A8%8B%E5%BC%8F%E7%9A%84%E6%89%B9%E6%AC%A1%E6%AA%94">æ‰¹æ¬¡æª”</a> å…§æ²’æœ‰å°‡ <code>REM pause</code> é€™è¡Œè¨»è§£ï¼Œå°±æœƒçœ‹åˆ°çˆ¬èŸ²ç¨‹å¼åŸ·è¡Œå®Œæˆå¾Œï¼Œä¸æœƒè‡ªå‹•é—œé–‰ <code>cmd</code> è¦–çª—ï¼Œé€™æ˜¯ç‚ºäº†å¯ä»¥ç«‹å³çœ‹åˆ°è©²æ¬¡çˆ¬èŸ²åŸ·è¡Œéç¨‹ä¸­è¼¸å‡ºçš„è¨Šæ¯ã€‚</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-12-01_00-19-10.png" alt=""></p><p>ä¸‹åœ–å°±æ˜¯è‡ªå‹•åŸ·è¡Œçˆ¬èŸ²æ‰€æŠ“åˆ°çš„è³‡æ–™ï¼š</p><p><img src="../images/set-up-windows-task-scheduler-to-periodically-execute-python-crawler/2018-12-01_09-14-48.png" alt=""></p><blockquote><p>å®Œæ•´ source codeï¼š<a href="https://github.com/titangene/cwb-opendata-crawler-demo" target="_blank" rel="noopener">titangene/cwb-opendata-crawler-demo</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
          <category> Python </category>
          
          <category> Crawler </category>
          
          <category> OS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python Requests </tag>
            
            <tag> Windows å·¥ä½œæ’ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨ Conda å»ºç«‹è™›æ“¬ç’°å¢ƒå’Œç®¡ç†ç›¸ä¾å¥—ä»¶</title>
      <link href="/article/create-a-virtual-environment-and-manage-dependencies-with-conda.html"/>
      <url>/article/create-a-virtual-environment-and-manage-dependencies-with-conda.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/python_anaconda.png" alt=""></p><p>å­¸ç¿’å¦‚ä½•åˆ©ç”¨ Conda ä¾†å»ºç«‹ä¸åŒéœ€æ±‚æ‰€éœ€çš„ Python é–‹ç™¼ç’°å¢ƒï¼Œä¸¦å¦‚ä½•ç®¡ç†ç›¸ä¾å¥—ä»¶ã€‚</p><a id="more"></a><h2 id="Anaconda"><a class="header-anchor" href="#Anaconda"></a>Anaconda</h2><p><img src="../images/create-a-virtual-environment-and-manage-dependencies-with-conda/anaconda-logo.png" alt=""></p><p>Anaconda æ˜¯æœ€å—æ­¡è¿çš„ Python è³‡æ–™ç§‘å­¸ (Data Science) å¹³å°ï¼Œå®ƒç‰¹é»å°±æ˜¯æœ¬ä¾†å°±åŒ…å«äº†å„ç¨®æ•¸æ“šåˆ†æã€ç§‘å­¸è¨ˆç®—çš„ç›¸é—œå¥—ä»¶ (ä¾‹å¦‚ï¼šNumPyã€SciPyã€Matplotlibã€SymPyã€Pandas â€¦ ç­‰)ï¼Œè€Œ Anaconda çš„å¥—ä»¶ç®¡ç†å·¥å…·å°±æ˜¯ condaã€‚</p><h2 id="Conda"><a class="header-anchor" href="#Conda"></a>Conda</h2><p><img src="../images/create-a-virtual-environment-and-manage-dependencies-with-conda/conda-logo.png" alt=""></p><p>Conda æ˜¯ä¸€å€‹é–‹æºçš„å¥—ä»¶èˆ‡ç’°å¢ƒç®¡ç†çš„ç³»çµ±ï¼Œå¯ä»¥åœ¨ Windowsã€macOS å’Œ Linux ä¸Šä½¿ç”¨ã€‚å¯åˆ©ç”¨ Conda ä¾†å®‰è£ã€åŸ·è¡Œã€æ›´æ–°å¥—ä»¶ä»¥åŠå…¶ç›¸ä¾çš„å¥—ä»¶ï¼Œä¸¦ä¸”é‚„å¯ç”¨ä¾†å»ºç«‹ä¸åŒçš„é–‹ç™¼ç’°å¢ƒ (ä¾‹å¦‚ï¼šä¸åŒç’°å¢ƒæœ‰ä¸åŒçš„ Python ç‰ˆæœ¬)ã€‚</p><!-- more --><h2 id="å®‰è£-Anaconda"><a class="header-anchor" href="#å®‰è£-Anaconda"></a>å®‰è£ Anaconda</h2><p>è‡³ <a href="https://www.anaconda.com/download/" target="_blank" rel="noopener">Anaconda</a> å®˜ç¶²ä¸‹è¼‰ä¸¦å®‰è£ï¼Œå»ºè­°é¸æ“‡ Python 3.x çš„ç‰ˆæœ¬ã€‚</p><h2 id="å»ºç«‹è™›æ“¬ç’°å¢ƒ"><a class="header-anchor" href="#å»ºç«‹è™›æ“¬ç’°å¢ƒ"></a>å»ºç«‹è™›æ“¬ç’°å¢ƒ</h2><p>å¾æŒ‡å®šå¥—ä»¶åˆ—è¡¨ä¸­å»ºç«‹æ–°çš„ conda ç’°å¢ƒï¼š</p><ul><li><code>-n</code>ï¼Œ<code>--name</code>ï¼šè¨­å®šç’°å¢ƒåç¨±</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda create -n &lt;environment&gt; &lt;package&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> å®‰è£åŒ…å« Anaconda ç™¼è¡Œç‰ˆçš„å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda create -n &lt;environment&gt; anaconda</span><br><br><span class="hljs-meta">#</span><span class="bash"> æŒ‡å®š Python ç‰ˆæœ¬</span><br><span class="hljs-meta">$</span><span class="bash"> conda create -n &lt;environment&gt; python=3.6</span><br></code></pre></td></tr></table></figure><ul><li><code>-e</code>ï¼Œ<code>--envs</code>ï¼šåˆ—å‡ºå·²å»ºç«‹çš„ç’°å¢ƒ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> é¡¯ç¤ºè™›æ“¬ç’°å¢ƒåˆ—è¡¨ï¼Œä¸¦é¡¯ç¤ºæ­£åœ¨ä½¿ç”¨çš„è™›æ“¬ç’°å¢ƒ</span><br><span class="hljs-meta">$</span><span class="bash"> conda info -e</span><br><span class="hljs-meta">#</span><span class="bash"> conda environments:</span><br><span class="hljs-meta">#</span><br>base                  *  D:\Users\Titan\Anaconda3<br>hello                    D:\Users\Titan\Anaconda3\envs\hello<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æˆ– <code>activate</code> è‡³æŒ‡å®šç’°å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Windows</span><br><span class="hljs-meta">$</span><span class="bash"> activate &lt;environment&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> Linux and macOS</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">source</span> activate &lt;environment&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> é¡¯ç¤ºè™›æ“¬ç’°å¢ƒåˆ—è¡¨ï¼Œä¸¦é¡¯ç¤ºæ­£åœ¨ä½¿ç”¨çš„è™›æ“¬ç’°å¢ƒ</span><br><span class="hljs-meta">$</span><span class="bash"> conda info -e</span><br><span class="hljs-meta">#</span><span class="bash"> conda environments:</span><br><span class="hljs-meta">#</span><br>base                     D:\Users\Titan\Anaconda3<br>hello                 *  D:\Users\Titan\Anaconda3\envs\hello<br></code></pre></td></tr></table></figure><blockquote><p><code>*</code> ä»£è¡¨ç›®å‰æ­£åœ¨ä½¿ç”¨çš„è™›æ“¬ç’°å¢ƒ</p></blockquote><h2 id="é›¢é–‹è™›æ“¬ç’°å¢ƒ"><a class="header-anchor" href="#é›¢é–‹è™›æ“¬ç’°å¢ƒ"></a>é›¢é–‹è™›æ“¬ç’°å¢ƒ</h2><p>å¦‚æœè¦å°‡ç¾åœ¨ç’°å¢ƒæ”¹å›é è¨­å€¼ <code>base</code> (é›¢é–‹ç›®å‰ç’°å¢ƒ) å¯ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Windows</span><br><span class="hljs-meta">$</span><span class="bash"> deactivate</span><br><br><span class="hljs-meta">#</span><span class="bash"> Linux and macOS</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">source</span> deactivate</span><br></code></pre></td></tr></table></figure><h2 id="åˆ©ç”¨-conda-å®‰è£å¥—ä»¶"><a class="header-anchor" href="#åˆ©ç”¨-conda-å®‰è£å¥—ä»¶"></a>åˆ©ç”¨ conda å®‰è£å¥—ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda install &lt;package&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> å®‰è£å¤šå€‹å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda install &lt;package-1&gt; &lt;package-2&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹è³‡è¨Š"><a class="header-anchor" href="#æŸ¥çœ‹è³‡è¨Š"></a>æŸ¥çœ‹è³‡è¨Š</h2><p>æŸ¥çœ‹ conda ç›®å‰ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda -V</span><br>conda 4.5.11<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ç›®å‰ç’°å¢ƒå·²å®‰è£çš„å¥—ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda list</span><br><span class="hljs-meta">#</span><span class="bash"> packages <span class="hljs-keyword">in</span> environment at D:\Users\Titan\Anaconda3:</span><br><span class="hljs-meta">#</span><br><span class="hljs-meta">#</span><span class="bash"> Name                    Version                   Build  Channel</span><br>...<br>jupyter                   1.0.0                    py35_3<br>jupyter_client            5.2.3                    py35_0<br>jupyter_console           4.1.1                    py35_0<br>jupyter_core              4.4.0            py35h629ba7f_0<br>jupyterlab                0.32.1                    &lt;pip&gt;<br>jupyterlab-launcher       0.10.5                    &lt;pip&gt;<br>...<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ conda æ˜¯å¦æœ‰æŸå¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda search &lt;package&gt;</span><br><br><span class="hljs-meta">$</span><span class="bash"> conda search pandas</span><br>Loading channels: done<br><span class="hljs-meta">#</span><span class="bash"> Name                  Version           Build  Channel</span><br>pandas                    0.9.0      np16py27_0  pkgs/free<br>pandas                    0.9.1      np16py27_0  pkgs/free<br>...<br></code></pre></td></tr></table></figure><p>å¦‚æœ conda æ²’æœ‰è©²å¥—ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ pip ä¾†å®‰è£å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å®‰è£å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> pip install &lt;package&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ›´æ–°å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> pip install --upgrade &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åˆªé™¤å¥—ä»¶"><a class="header-anchor" href="#åˆªé™¤å¥—ä»¶"></a>åˆªé™¤å¥—ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åˆªé™¤ç’°å¢ƒå…§çš„å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda remove -n &lt;environment&gt; &lt;package&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> åˆªé™¤ç›®å‰ç’°å¢ƒå…§çš„å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda remove &lt;package&gt;</span><br><br><span class="hljs-meta">#</span><span class="bash"> åˆªé™¤å¤šå€‹å¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda remove &lt;package-1&gt; &lt;package-2&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ›´æ–°å¥—ä»¶"><a class="header-anchor" href="#æ›´æ–°å¥—ä»¶"></a>æ›´æ–°å¥—ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æ›´æ–° conda</span><br><span class="hljs-meta">$</span><span class="bash"> conda update conda</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ›´æ–° Anaconda</span><br><span class="hljs-meta">$</span><span class="bash"> conda update anaconda</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ›´æ–° Python</span><br><span class="hljs-meta">$</span><span class="bash"> conda update python</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ›´æ–°ç‰¹å®šå¥—ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> conda update &lt;package&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åˆªé™¤è™›æ“¬ç’°å¢ƒ"><a class="header-anchor" href="#åˆªé™¤è™›æ“¬ç’°å¢ƒ"></a>åˆªé™¤è™›æ“¬ç’°å¢ƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda env remove -n &lt;environment&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ›´æ–°-Python"><a class="header-anchor" href="#æ›´æ–°-Python"></a>æ›´æ–° Python</h2><h3 id="æ›´æ–°å…¨åŸŸç’°å¢ƒ"><a class="header-anchor" href="#æ›´æ–°å…¨åŸŸç’°å¢ƒ"></a>æ›´æ–°å…¨åŸŸç’°å¢ƒ</h3><p>è‹¥ç›®å‰ Python ç‰ˆæœ¬æ˜¯ 3.6.1ï¼Œä¸‹é¢æŒ‡ä»¤åªæœƒå°‡ Python æ›´æ–°è‡³ 3.6.x çš„æœ€æ–°ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda update python</span><br></code></pre></td></tr></table></figure><p>è‹¥æ˜¯è¦æ›´æ–°åˆ°å…¶ä»–ç‰ˆæœ¬å¯æŒ‡å®š Python ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda install python=3.6</span><br></code></pre></td></tr></table></figure><h2 id="æ›´æ–°-Anaconda"><a class="header-anchor" href="#æ›´æ–°-Anaconda"></a>æ›´æ–° Anaconda</h2><p>æ›´æ–°å¥—ä»¶ç®¡ç†å™¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda update conda</span><br></code></pre></td></tr></table></figure><div class="warning"><p>æ³¨æ„ï¼šConda æœƒæ›´æ–°è©²ç‰ˆæœ¬åˆ—è¡¨ä¸­çš„æœ€é«˜ç‰ˆæœ¬ï¼Œå› æ­¤ Python 2.7 æ›´æ–°åˆ° 2.x ä¸­çš„æœ€é«˜ç‰ˆæœ¬ï¼Œè€Œ 3.x ç³»åˆ—ä¾æ­¤é¡æ¨ã€‚</p></div><p>æ›´æ–° anaconda æ­¤ meta-packageï¼Œå¯æ›´æ–° Anaconda ç™¼è¡Œç‰ˆåŒ…å«çš„å¥—ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda update anaconda</span><br></code></pre></td></tr></table></figure><p>å¦‚æœè¦æ›´æ–° Python çš„ç‰¹å®šç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda install python==<span class="hljs-variable">$pythonversion</span>$</span><br></code></pre></td></tr></table></figure><h2 id="åƒè€ƒé€£çµ"><a class="header-anchor" href="#åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ul><li><a href="https://conda.io/docs/user-guide/tasks/manage-pkgs.html" target="_blank" rel="noopener">Managing packages | Conda documentation</a></li><li><a href="https://stackoverflow.com/questions/41535881/how-do-i-upgrade-to-python-3-6-with-conda" target="_blank" rel="noopener">macos - How do I upgrade to Python 3.6 with conda? - Stack Overflow</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Anaconda </tag>
            
            <tag> Conda </tag>
            
            <tag> Virtual Environment </tag>
            
            <tag> Package Management </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows Subsystem for Linux (WSL)</title>
      <link href="/article/windows-subsystem-for-linux.html"/>
      <url>/article/windows-subsystem-for-linux.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/windows-subsystem-for-linux.png" alt=""></p><p>Windows Subsystem for Linux (ç°¡ç¨± WSL)ï¼Œç”± Microsoft èˆ‡ Canonical å…¬å¸åˆä½œé–‹ç™¼ï¼Œå¯ç›´æ¥åœ¨ Windows 10 ä¸­å»ºç«‹ä¸€å€‹ Linux å­ç³»çµ±ï¼ŒåŸç”ŸåŸ·è¡Œ Linuxï¼Œé‚„å¯è‡ªè¡Œé¸æ“‡ä½ æƒ³å®‰è£çš„ Linux ç™¼è¡Œç‰ˆï¼Œä¾‹å¦‚ï¼šUbuntuã€Kali Linuxã€SUSEã€‚</p><a id="more"></a><h2 id="å•Ÿç”¨-Windows-Subsystem-for-Linux"><a class="header-anchor" href="#å•Ÿç”¨-Windows-Subsystem-for-Linux"></a>å•Ÿç”¨ Windows Subsystem for Linux</h2><p>ä½¿ç”¨ç³»çµ±ç®¡ç†è€…æ¬Šé™é–‹å•Ÿ PowerShellï¼Œä¸¦åŸ·è¡Œä¸‹é¢å‘½ä»¤å•Ÿç”¨ <code>Windows Subsystem for Linux</code> åŠŸèƒ½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</span><br></code></pre></td></tr></table></figure><p>å¦‚æœé¡¯ç¤ºä¸‹é¢è¨Šæ¯å°±ä»£è¡¨ä½ æ²’æœ‰ä½¿ç”¨ç³»çµ±ç®¡ç†å“¡é–‹å•Ÿ PowerShellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">Enable-WindowsOptionalFeature : è¦æ±‚çš„ä½œæ¥­éœ€è¦æå‡çš„æ¬Šé™ã€‚<br>ä½æ–¼ ç·šè·¯:1 å­—å…ƒ:1<br>+ Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows- ...<br>+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>    + CategoryInfo          : NotSpecified: (:) [Enable-WindowsOptionalFeature], COMException<br>    + FullyQualifiedErrorId : Microsoft.Dism.Commands.EnableWindowsOptionalFeatureCommand<br></code></pre></td></tr></table></figure><p><img src="../images../images/windows-subsystem-for-linux/2018-11-17-19-04-25.png" alt=""></p><p>æ¥è‘—ç­‰ä»–è·‘ä¸€ä¸‹â€¦ï¼š</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-04-37.png" alt=""></p><p>æ¥è‘—ä»–æœƒå•æ˜¯å¦è¦é‡å•Ÿé›»è…¦ï¼Œå› ç‚ºé è¨­æ˜¯ Yesï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŒ‰ <code>Enter</code>ï¼š</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-04-47.png" alt=""></p><p>å…¶å¯¦ä¸Šé¢æŒ‡ä»¤å°±ç­‰æ–¼å»ã€Œæ§åˆ¶å° &gt; ç¨‹å¼é›† &gt; é–‹å•Ÿæˆ–é—œé–‰ Windows åŠŸèƒ½ã€é–‹å•Ÿã€Œé©ç”¨æ–¼ Linux çš„ Windows å­ç³»çµ±ã€ã€‚</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-05-10.png" alt=""></p><h2 id="å®‰è£-Linux-ç™¼è¡Œç‰ˆ"><a class="header-anchor" href="#å®‰è£-Linux-ç™¼è¡Œç‰ˆ"></a>å®‰è£ Linux ç™¼è¡Œç‰ˆ</h2><p>ç³»çµ±çµ„å»º (build) å¿…é ˆè¦ Windows build 16215 æˆ–æ›´æ–°ç‰ˆæœ¬ã€‚è‹¥è¦æƒ³çŸ¥é“ç³»çµ±çµ„å»ºï¼Œå¯è‡³ Windows çš„ã€Œè¨­å®šã€å…§çš„ã€Œé—œæ–¼ã€å³å¯æŸ¥çœ‹ã€‚</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-05-23.png" alt=""></p><p>ä½ å¯ä»¥é¸æ“‡ä½ æƒ³å®‰è£çš„ Linux ç™¼è¡Œç‰ˆï¼š</p><ul><li><a href="https://www.microsoft.com/zh-tw/p/ubuntu-1604-lts/9pjn388hp8c9" target="_blank" rel="noopener">Ubuntu 16.04 LTS</a></li><li><a href="https://www.microsoft.com/zh-tw/p/ubuntu-1804-lts/9n9tngvndl3q" target="_blank" rel="noopener">Ubuntu 18.04 LTS</a></li><li><a href="https://www.microsoft.com/zh-tw/p/debian-gnu-linux/9msvkqc78pk6" target="_blank" rel="noopener">Debian GNU/Linux</a></li><li><a href="https://www.microsoft.com/zh-tw/p/opensuse-leap-42/9njvjts82tjx" target="_blank" rel="noopener">OpenSUSE Leap 42</a></li><li><a href="https://www.microsoft.com/zh-tw/p/suse-linux-enterprise-server-12/9p32mwbh6cns" target="_blank" rel="noopener">SUSE Linux Enterprise Server 12</a></li><li><a href="https://blogs.msdn.microsoft.com/commandline/2018/03/05/kali-linux-for-wsl/" target="_blank" rel="noopener">Kali Linux</a></li></ul><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-05-41.png" alt=""></p><p>å¦‚æœåœ¨å®‰è£å¾Œç›´æ¥é–‹å•Ÿ Ubuntuï¼Œå°±æœƒé¡¯ç¤º <code>Error: 0x8007007e</code> éŒ¯èª¤å°±ä»£è¡¨ä½ æ²’æœ‰å•Ÿç”¨ <code>Windows Subsystem for Linux</code> åŠŸèƒ½ï¼Œè©³æƒ…è«‹åƒè€ƒä¸Šé¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">The WSL optional component is not enabled. Please enable it and try again.<br>See https://aka.ms/wslinstall for details.<br>Error: 0x8007007e<br>Press any key to continue...<br></code></pre></td></tr></table></figure><p>å®‰è£å¾Œå•Ÿå‹• Linux ç™¼è¡Œç‰ˆï¼Œæ­¤æ™‚æœƒé–‹å•Ÿä¸€å€‹ console è¦–çª—ã€‚å› ç‚ºæ˜¯ç¬¬ä¸€æ¬¡é–‹å•Ÿï¼Œæ‰€ä»¥æœƒå…ˆå®‰è£ WSLï¼Œç­‰å®ƒå®‰è£å®Œå¾Œï¼Œå°±æœƒçœ‹åˆ°ä¸‹é¢ç•«é¢ï¼Œç³»çµ±è¦ä½ å»ºç«‹ä¸€å€‹æ–°çš„ Unix ä½¿ç”¨è€…åç¨±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">Installing, this may take a few minutes...<br>Installation successful!<br>Please create a default UNIX user account. The username does not need to match your Windows username.<br>For more information visit: https://aka.ms/wslusers<br>Enter new UNIX username:<br></code></pre></td></tr></table></figure><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-06-06.png" alt=""></p><p>æ¥è‘—æ˜¯è¨­å®šæ­¤ä½¿ç”¨è€…çš„å¯†ç¢¼ï¼Œé€™é‚Šçš„ä½¿ç”¨è€…èˆ‡ä½ çš„ Windows ä½¿ç”¨è€…åç¨±å’Œå¯†ç¢¼æ²’æœ‰ä»»ä½•é—œä¿‚ã€‚è©³æƒ…å¯åƒè€ƒå®˜æ–¹çš„ <a href="https://docs.microsoft.com/zh-tw/windows/wsl/user-support" target="_blank" rel="noopener">Linux User Account and Permissions | Microsoft Docs</a> æ–‡ä»¶ã€‚</p><p>å¦‚æœé¡¯ç¤º <code>$</code> å°±ä»£è¡¨è¨­å®šå®Œæˆå›‰ï¼</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-06-17.png" alt=""></p><p>åŸ·è¡Œ <code>lsb_release -a</code> æŒ‡ä»¤å°±æœƒçœ‹åˆ° Linux çš„ç³»çµ±ç‰ˆæœ¬ï¼š</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-06-28.png" alt=""></p><h2 id="åœ¨å…¶ä»–çµ‚ç«¯ä½¿ç”¨-Bash"><a class="header-anchor" href="#åœ¨å…¶ä»–çµ‚ç«¯ä½¿ç”¨-Bash"></a>åœ¨å…¶ä»–çµ‚ç«¯ä½¿ç”¨ Bash</h2><p>å¦‚æœåœ¨ä½¿ç”¨ CMD ã€ PowerShell æˆ–å…¶ä»–çµ‚ç«¯ (ä¾‹å¦‚æˆ‘å¸¸ç”¨çš„ Cmder) æ™‚æƒ³ç”¨ bash shellï¼Œå¯ä½¿ç”¨ <code>bash</code> æŒ‡ä»¤å°±å¯ä»¥å•Ÿå‹•æ–°çš„ Ubuntu shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> bash</span><br></code></pre></td></tr></table></figure><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-06-42.png" alt=""></p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-06-53.png" alt=""></p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-07-01.png" alt=""></p><h2 id="å­˜å–ç›®éŒ„"><a class="header-anchor" href="#å­˜å–ç›®éŒ„"></a>å­˜å–ç›®éŒ„</h2><p>å¦‚æœæƒ³å­˜å– <code>D:\project</code>ï¼Œåœ¨æ­¤ç’°å¢ƒä¸‹çš„è·¯å¾‘å°±æ˜¯ <code>/mnt/d/project</code>ã€‚</p><p><img src="../images/windows-subsystem-for-linux/2018-11-17-19-07-14.png" alt=""></p><h2 id="å°çµ"><a class="header-anchor" href="#å°çµ"></a>å°çµ</h2><p>å¦‚æœæœ‰åœ¨è·¨å¹³å°é–‹ç™¼æˆ–ç¶­é‹çš„æœ‹å‹ï¼Œé€™å€‹åŠŸèƒ½æ‡‰è©²æ˜¯ä¸€ç›´ä»¥ä¾†çš„é¡˜æœ›å§ï¼Ÿè®“ä½ åœ¨ Windows ä¸Šå¯ä»¥ç›´æ¥è™•ç†äº‹æƒ…ï¼Œä¸ç”¨å†å¤šé–‹ VM ä¾†ä½¿ç”¨ï¼Œä¸åªçœè³‡æºï¼Œä¹Ÿçœç¡¬ç¢Ÿç©ºé–“ï¼Œé‡é»æ˜¯ä¸ç”¨ç­‰ VM é–‹æ©Ÿâ€¦</p><h2 id="åƒè€ƒé€£çµ"><a class="header-anchor" href="#åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ul><li><a href="https://docs.microsoft.com/zh-tw/windows/wsl/install-win10" target="_blank" rel="noopener">Install the Linux Subsystem on Windows 10 | Microsoft Docs</a></li><li><a href="https://blogs.msdn.microsoft.com/microsoft_student_partners_in_taiwan/2017/10/03/wsltune/" target="_blank" rel="noopener">ã€WSLã€‘Windows Subsystem for Linux å®‰è£åŠåŸºæœ¬é…ç½®ï¼ | å°ç£å¾®è»Ÿå­¸ç”Ÿå¤§ä½¿</a></li><li><a href="https://kheresy.wordpress.com/2016/04/12/bash-on-ubuntu-on-windows/" target="_blank" rel="noopener">Bash on Ubuntu on Windows çš„ç°¡å–®ä½¿ç”¨ | Heresyâ€™s Space</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> WSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub ç¸®ç¶²å€æœå‹™ Git.io</title>
      <link href="/article/github-url-shortener.html"/>
      <url>/article/github-url-shortener.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/github-url-shortener.png" alt=""></p><p>æœ€è¿‘ç™¼ç¾åŸä¾† Github ä¹Ÿæœ‰æä¾›ç¸®ç¶²å€ (URL Shortener) æœå‹™ã€Œ<a href="https://git.io/" target="_blank" rel="noopener">Git.io</a>ã€ï¼Œå®ƒåªé©ç”¨æ–¼ <code>gist.github.com</code> åŠ <code>github.com</code> å…©å€‹ hostnameã€‚</p><a id="more"></a><p>ä¸‹åˆ—ç¶²å€éƒ½å¯ä»¥é€é <a href="http://Git.io" target="_blank" rel="noopener">Git.io</a> ä¾†å»ºç«‹ç¸®ç¶²å€ï¼š</p><ul><li>Github å€‹äººæˆ–çµ„ç¹”å°ˆæ¥­ ( <code>https://github.com/&lt;github-id&gt;</code> )</li><li>Github repository ( <code>https://github.com/&lt;github-id&gt;/&lt;repo-name&gt;</code> ) æˆ– repository å…§ç›®éŒ„æˆ–æª”æ¡ˆ</li><li>Gist ( <code>https://gist.github.com/&lt;github-id&gt;/&lt;gist-id&gt;</code> )</li></ul><p><a href="http://Git.io" target="_blank" rel="noopener">Git.io</a> æœ‰å…©ç¨®å»ºç«‹çŸ­ç¶²å€çš„æ–¹æ³•ï¼Œä¸‹é¢æœƒåˆ†åˆ¥ä»‹ç´¹ï¼š</p><ul><li>ç›´æ¥åˆ° <a href="https://git.io/" target="_blank" rel="noopener">Git.io</a> ç·šä¸Šè¨­å®š</li><li>ä½¿ç”¨ <code>curl</code> æŒ‡ä»¤è¨­å®šï¼š<a href="https://blog.github.com/2011-11-10-git-io-github-url-shortener/" target="_blank" rel="noopener">Git.io: GitHub URL Shortener | GitHub Blog</a></li></ul><h2 id="Git-io-ç·šä¸Šè¨­å®š"><a class="header-anchor" href="#Git-io-ç·šä¸Šè¨­å®š"></a><a href="https://git.io/" target="_blank" rel="noopener">Git.io</a> ç·šä¸Šè¨­å®š</h2><p>æœ€ç°¡å–®çš„æ–¹æ³•ç•¶ç„¶æ˜¯ç›´æ¥æ‰“é–‹ <a href="https://git.io/" target="_blank" rel="noopener">Git.io</a>ï¼Œæ¥è‘—è¼¸å…¥ç¶²å€ä¸¦é»æ“Šã€Œshortenã€æŒ‰éˆ•å°±æœƒå°‡ä½ å‰›å‰›è¼¸å…¥çš„ç¶²å€è®ŠæˆçŸ­ç¶²å€ï¼ŒçŸ­ç¶²å€çš„æ ¼å¼æ˜¯ <code>git.io/xxx</code>ã€‚</p><p>ä½†ç¼ºé»æ˜¯ç„¡æ³•è‡ªè¨‚çŸ­ç¶²å€åç¨±ï¼Œé è¨­æ˜¯è‡ªå‹•éš¨æ©Ÿè‹±æ–‡ + æ•¸å­—çš„å­—ä¸²ã€‚</p><p><img src="../images/github-url-shortener/github-url-shortener.png" alt=""></p><h2 id="ä½¿ç”¨-curl-æŒ‡ä»¤å»ºç«‹çŸ­ç¶²å€"><a class="header-anchor" href="#ä½¿ç”¨-curl-æŒ‡ä»¤å»ºç«‹çŸ­ç¶²å€"></a>ä½¿ç”¨ <code>curl</code> æŒ‡ä»¤å»ºç«‹çŸ­ç¶²å€</h2><ul><li><code>-i</code>ã€<code>--include</code>ï¼šé¡¯ç¤º HTTP response headers</li><li><code>-F</code>ã€<code>--form &lt;name=content&gt;</code>ï¼šè¨­å®šè¡¨å–®è³‡æ–™ï¼Œ<code>Content-Type</code> æœƒè¢«è¨­ç‚º <code>multipart/form-data</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -i https://git.io -F <span class="hljs-string">"url=&lt;æƒ³ç¸®çŸ­çš„ç¶²å€&gt;"</span> -F <span class="hljs-string">"code=&lt;è‡ªè¨‚çŸ­ç¶²å€åç¨±&gt;"</span></span><br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘æƒ³å°‡è‡ªå·±çš„ Github profile URLï¼š<code>github.com/titangene</code> ç¸®çŸ­æˆ <code>git.io/titan</code>ï¼Œå°±è¦åŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -i https://git.io -F <span class="hljs-string">"url=https://github.com/titangene"</span> -F <span class="hljs-string">"code=titan"</span></span><br>HTTP/1.1 201 Created<br>...<br>Location: https://git.io/titan<br>...<br><br><span class="hljs-meta">$</span><span class="bash"> curl -i https://git.io -F <span class="hljs-string">"url=https://titangene.github.io/"</span> -F <span class="hljs-string">"code=titan-blog"</span></span><br></code></pre></td></tr></table></figure><p>åªè¦è¼¸å…¥ä¸‹é¢æŒ‡ä»¤å°±å¯ä»¥ç¢ºèªæ˜¯å¦å»ºç«‹æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -i https://git.io/titan</span><br>HTTP/1.1 302 Found<br>...<br>Location: https://github.com/titangene<br>...<br></code></pre></td></tr></table></figure><h2 id="å°æ’æ›²-ç¸®ç¶²å€ä¸å°å¿ƒè¨­å®šéŒ¯èª¤"><a class="header-anchor" href="#å°æ’æ›²-ç¸®ç¶²å€ä¸å°å¿ƒè¨­å®šéŒ¯èª¤"></a>[å°æ’æ›²] ç¸®ç¶²å€ä¸å°å¿ƒè¨­å®šéŒ¯èª¤</h2><p>ä¸€é–‹å§‹åœ¨ <a href="http://Git.io" target="_blank" rel="noopener">Git.io</a> æ¸¬è©¦æ™‚ï¼Œç›´æ¥ç”¨è‡ªå·±çš„ Github profile URL ( <code>github.com/titangene</code> ) ä¾†ç”¢ç”Ÿé è¨­éš¨æ©Ÿè‹±æ–‡ + æ•¸å­—çš„çŸ­ç¶²å€ï¼Œæƒ³è¦ä¿®æ”¹æˆ <code>git.io/titan</code> å»æ²’è¾¦æ³•ï¼é€™æ˜¯å› ç‚º <a href="http://Git.io" target="_blank" rel="noopener">Git.io</a> æ²’æœ‰ç›´æ¥æä¾›ä¿®æ”¹çŸ­ç¶²å€çš„åŠŸèƒ½ã€‚</p><p>å¾Œä¾† Google ä¸€ä¸‹æ‰ç™¼ç¾åªèƒ½è¯ç¹« <a href="https://github.com/contact" target="_blank" rel="noopener">Github å®¢æœ</a>ä¾†å¹«å¿™åˆªé™¤çŸ­ç¶²å€ï¼Œç„¶å¾Œå†è‡ªè¡Œé‡æ–°è¨­å®šã€‚éäº†ä¸åˆ°åŠå¤©å®¢æœå°±å›ä¿¡å¹«æˆ‘è§£æ±ºäº†ï¼çœŸæ˜¯å¤ªæ„Ÿè¬ Github å®¢æœäº†ï¼</p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> URL </tag>
            
            <tag> URL Shortener </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter è‡ªè¨‚å­—å‹</title>
      <link href="/article/flutter-custom-fonts.html"/>
      <url>/article/flutter-custom-fonts.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/flutter.jpg" alt=""></p><p>é›–ç„¶ Android å’Œ iOS å…§å»ºéƒ½æœ‰å­—å‹ï¼Œä½†å¸¸æœ‰è‡ªè¨‚å­—å‹çš„éœ€æ±‚ï¼Œæ‰€ä»¥é€™ç¯‡æœƒæ•™ä½ å¦‚ä½•åœ¨ Flutter ä½¿ç”¨è‡ªè¨‚å­—å‹ã€‚</p><a id="more"></a><h2 id="å°‡å­—å‹æª”æ”¾å…¥å°ˆæ¡ˆè³‡æ–™å¤¾å…§"><a class="header-anchor" href="#å°‡å­—å‹æª”æ”¾å…¥å°ˆæ¡ˆè³‡æ–™å¤¾å…§"></a>å°‡å­—å‹æª”æ”¾å…¥å°ˆæ¡ˆè³‡æ–™å¤¾å…§</h2><p>æ­¤ç¯„ä¾‹æ˜¯æ”¾åœ¨ <code>./assets/fonts</code> è³‡æ–™å¤¾å…§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plain">assets&#x2F;<br>  fonts&#x2F;<br>    FiraCode-Medium.ttf<br>    mononoki-Bold.ttf<br>    mononoki-BoldItalic.ttf<br>    mononoki-Italic.ttf<br>    mononoki-Regular.ttf<br></code></pre></td></tr></table></figure><h2 id="åœ¨-pubspec-yaml-å®šç¾©å­—å‹è³‡è¨Š"><a class="header-anchor" href="#åœ¨-pubspec-yaml-å®šç¾©å­—å‹è³‡è¨Š"></a>åœ¨ <code>pubspec.yaml</code> å®šç¾©å­—å‹è³‡è¨Š</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">flutter:</span><br>  <span class="hljs-attr">fonts:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">family:</span> <span class="hljs-string">FiraCode</span><br>      <span class="hljs-attr">fonts:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">asset:</span> <span class="hljs-string">assets/fonts/FiraCode-Medium.ttf</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">family:</span> <span class="hljs-string">Mononoki</span><br>      <span class="hljs-attr">fonts:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">asset:</span> <span class="hljs-string">assets/fonts/mononoki-Regular.ttf</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">asset:</span> <span class="hljs-string">assets/fonts/mononoki-Bold.ttf</span><br>          <span class="hljs-attr">weight:</span> <span class="hljs-number">700</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">asset:</span> <span class="hljs-string">assets/fonts/mononoki-Italic.ttf</span><br>          <span class="hljs-attr">style:</span> <span class="hljs-string">italic</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">asset:</span> <span class="hljs-string">assets/fonts/mononoki-BoldItalic.ttf</span><br>          <span class="hljs-attr">weight:</span> <span class="hljs-number">700</span><br>          <span class="hljs-attr">style:</span> <span class="hljs-string">italic</span><br></code></pre></td></tr></table></figure><h2 id="è¨­å®šé è¨­å­—å‹"><a class="header-anchor" href="#è¨­å®šé è¨­å­—å‹"></a>è¨­å®šé è¨­å­—å‹</h2><p><img src="../images/flutter-custom-fonts/flutter_set-default-font.png" alt=""></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">MaterialApp(<br>  title: <span class="hljs-string">'Custom Fonts'</span>,<br>  theme: ThemeData(fontFamily: <span class="hljs-string">'FiraCode'</span>),<br>  home: MyHomePage(title: <span class="hljs-string">'Custom Fonts'</span>),<br>);<br></code></pre></td></tr></table></figure><h2 id="åœ¨ç‰¹å®š-Widget-è¨­å®šå­—å‹"><a class="header-anchor" href="#åœ¨ç‰¹å®š-Widget-è¨­å®šå­—å‹"></a>åœ¨ç‰¹å®š Widget è¨­å®šå­—å‹</h2><p><img src="../images/flutter-custom-fonts/flutter_set-the-font-on-a-specific-widget.png" alt=""></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart">Text(<br>  <span class="hljs-string">'Custom Fonts'</span>,<br>  style: TextStyle(<br>    fontFamily: <span class="hljs-string">'Mononoki'</span>,<br>    fontSize: <span class="hljs-number">30.0</span>,<br>    fontWeight: FontWeight.w700,<br>    fontStyle: FontStyle.italic,<br>  ),<br>)<br></code></pre></td></tr></table></figure><h2 id="å®Œæ•´ç¯„ä¾‹ç¨‹å¼ç¢¼"><a class="header-anchor" href="#å®Œæ•´ç¯„ä¾‹ç¨‹å¼ç¢¼"></a>å®Œæ•´ç¯„ä¾‹ç¨‹å¼ç¢¼</h2><p><img src="../images/flutter-custom-fonts/flutter_custom-fonts_demo.png" alt=""></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;<br><br><span class="hljs-keyword">void</span> main() =&gt; runApp(<span class="hljs-keyword">new</span> MyApp());<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MaterialApp(<br>      title: <span class="hljs-string">'Custom Fonts'</span>,<br>      theme: <span class="hljs-keyword">new</span> ThemeData(<br>        primarySwatch: Colors.blue,<br>        fontFamily: <span class="hljs-string">'FiraCode'</span>,<br>      ),<br>      home: <span class="hljs-keyword">new</span> MyHomePage(title: <span class="hljs-string">'Custom Fonts'</span>),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  MyHomePage(&#123;Key key, <span class="hljs-keyword">this</span>.title&#125;) : <span class="hljs-keyword">super</span>(key: key);<br><br>  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> title;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Scaffold(<br>      appBar: <span class="hljs-keyword">new</span> AppBar(<br>        title: <span class="hljs-keyword">new</span> Text(<span class="hljs-keyword">this</span>.title),<br>      ),<br>      body: Column(<br>        children: &lt;Widget&gt;[<br>          <span class="hljs-keyword">new</span> Text(<br>            <span class="hljs-string">'&lt;-- Custom Fonts -&gt;&gt;'</span>,<br>            style: TextStyle(fontSize: <span class="hljs-number">30.0</span>),<br>          ),<br>          <span class="hljs-keyword">new</span> Text(<br>            <span class="hljs-string">'Custom Fonts'</span>,<br>            style: TextStyle(<br>              fontFamily: <span class="hljs-string">'Mononoki'</span>,<br>              fontSize: <span class="hljs-number">30.0</span>,<br>            ),<br>          ),<br>          <span class="hljs-keyword">new</span> Text(<br>            <span class="hljs-string">'Custom Fonts'</span>,<br>            style: TextStyle(<br>              fontFamily: <span class="hljs-string">'Mononoki'</span>,<br>              fontSize: <span class="hljs-number">30.0</span>,<br>              fontWeight: FontWeight.w700,<br>            ),<br>          ),<br>          <span class="hljs-keyword">new</span> Text(<br>            <span class="hljs-string">'Custom Fonts'</span>,<br>            style: TextStyle(<br>              fontFamily: <span class="hljs-string">'Mononoki'</span>,<br>              fontSize: <span class="hljs-number">30.0</span>,<br>              fontStyle: FontStyle.italic,<br>            ),<br>          ),<br>          <span class="hljs-keyword">new</span> Text(<br>            <span class="hljs-string">'Custom Fonts'</span>,<br>            style: TextStyle(<br>              fontFamily: <span class="hljs-string">'Mononoki'</span>,<br>              fontSize: <span class="hljs-number">30.0</span>,<br>              fontWeight: FontWeight.w700,<br>              fontStyle: FontStyle.italic,<br>            ),<br>          ),<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è©³æƒ…å¯åƒè€ƒ <a href="https://flutter.io/cookbook/design/fonts/" target="_blank" rel="noopener">Using custom fonts - Flutter</a> å®˜æ–¹æ–‡ä»¶</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
          <category> Mobile App </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dart </tag>
            
            <tag> Font </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter ç’°å¢ƒå»ºç½® (Windows)</title>
      <link href="/article/flutter-install-on-windows.html"/>
      <url>/article/flutter-install-on-windows.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/flutter.jpg" alt=""></p><p>æœ€è¿‘å‰›æ¥è§¸ Flutterï¼Œæ–¼æ˜¯å°±æŠŠåœ¨ Windows ä¸Šå»ºç½®ç’°å¢ƒçš„è¨˜éŒ„å¯«æˆä¸€ç¯‡ç­†è¨˜ï¼Œè£¡é¢åŒ…æ‹¬ Android Studio å’Œ VS Code çš„é–‹ç™¼æµç¨‹ã€‚</p><a id="more"></a><p>è©³æƒ…å¯åƒè€ƒå®˜æ–¹é€£çµï¼š<a href="https://flutter.io/setup-windows/" target="_blank" rel="noopener">Get Started: Install on Windows | Flutter</a></p><h2 id="ç³»çµ±è¦æ±‚"><a class="header-anchor" href="#ç³»çµ±è¦æ±‚"></a>ç³»çµ±è¦æ±‚</h2><ul><li>OSï¼šWindows 7 SP1 æˆ–ä»¥ä¸Š (64-bit)</li><li>ç¡¬ç¢Ÿç©ºé–“ï¼š400 MB (ä¸åŒ…æ‹¬ IDE å’Œå·¥å…·çš„ç©ºé–“)</li><li>å·¥å…·<ul><li><a href="https://docs.microsoft.com/en-us/powershell/scripting/setup/installing-windows-powershell?view=powershell-6#upgrading-existing-windows-powershell" target="_blank" rel="noopener">PowerShell 5.0</a> æˆ–æ›´æ–°ç‰ˆ</li><li><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git for Windows</a> (å‹¾é¸ <code>Use Git from the Windows Command Prompt</code> é¸é …ï¼Œè‹¥æ²’æ‰“å‹¾å¯è‡ªè¡Œå°‡ Git å®‰è£ç›®éŒ„å…§çš„ <code>bin</code> è³‡æ–™å¤¾è¨­å®šç‚º <code>Path</code> ç’°å¢ƒè®Šæ•¸ï¼Œé è¨­ç›®éŒ„ç‚º <code>C:\Program Files\Git\bin</code> )</li></ul></li></ul><h2 id="å®‰è£-Flutter-SDK"><a class="header-anchor" href="#å®‰è£-Flutter-SDK"></a>å®‰è£ Flutter SDK</h2><ol><li>ä¸‹è¼‰ Flutter SDKï¼Œå¯ä¸‹è¼‰<a href="https://flutter.io/sdk-archive/#windows" target="_blank" rel="noopener">æ­·å²ç‰ˆæœ¬</a>ï¼Œä½†å»ºè­°å®‰è£æ–°ç‰ˆã€‚</li><li>è§£å£“æª”å…§æœ‰ä¸€å€‹ <code>flutter</code> è³‡ç­å¤¾ï¼Œå°‡æ­¤è³‡æ–™å¤¾æ”¾åœ¨ Flutter SDK æ‰€éœ€çš„å®‰è£ç›®éŒ„ (e.g <code>D:\dev\flutter</code>ï¼Œè«‹å‹¿å°‡ <code>flutter</code> è³‡ç­å¤¾æ”¾åœ¨éœ€è¦æé«˜æ¬Šé™ä¹‹é¡çš„ç›®éŒ„å…§ï¼Œe.g. <code>C:\Program Files\</code> )ã€‚</li><li>å°‡ <code>flutter\bin</code> çš„å®Œæ•´ç›®éŒ„ (e.g. <code>D:\dev\flutter\bin</code> ) åŠ å…¥ <code>Path</code> ç’°å¢ƒè®Šæ•¸ (å„å®Œæ•´è·¯å¾‘è¨˜å¾—ç”¨ <code>;</code> åˆ†è™Ÿåˆ†éš”)</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-09-08.png" alt=""></p><ol start="4"><li>æ¥è‘—å°±å¯ä»¥åœ¨ Console å…§åŸ·è¡Œ Flutter commands</li><li>åŸ·è¡Œ <code>flutter --version</code> æŒ‡ä»¤ç¢ºå®šå·²æˆåŠŸå®‰è£ Flutter SDK</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter --version</span><br>Flutter 0.7.3 â€¢ channel beta â€¢ https://github.com/flutter/flutter.git<br>Framework â€¢ revision 3b309bda07 (12 days ago) â€¢ 2018-08-28 12:39:24 -0700<br>Engine â€¢ revision af42b6dc95<br>Tools â€¢ Dart 2.1.0-dev.1.0.flutter-ccb16f7282<br></code></pre></td></tr></table></figure><ol start="6"><li>ä¹‹å¾Œè«‹å®šæœŸåŸ·è¡Œ <code>flutter upgrade</code> æŒ‡ä»¤æ›´æ–° Flutter (å› ç‚ºç›®å‰é‚„åœ¨ betaï¼Œå¤§ç´„å¹¾é€±å°±æœƒæœ‰æ–°ç‰ˆ)</li></ol><p>åŸ·è¡Œ <code>flutter --version</code> æŒ‡ä»¤å¾Œï¼Œè‹¥çœ‹åˆ°ä¸‹é¢ç•«é¢å°±ä»£è¡¨ç¾åœ¨æœ‰æ–°ç‰ˆå¯ä»¥æ›´æ–°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter --version</span><br>  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—<br>  â•‘ A new version of Flutter is available!                                     â•‘<br>  â•‘                                                                            â•‘<br>  â•‘ To update to the latest version, run "flutter upgrade".                    â•‘<br>  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•<br><br><br>Flutter 0.7.3 â€¢ channel beta â€¢ https://github.com/flutter/flutter.git<br>Framework â€¢ revision 3b309bda07 (3 weeks ago) â€¢ 2018-08-28 12:39:24 -0700<br>Engine â€¢ revision af42b6dc95<br>Tools â€¢ Dart 2.1.0-dev.1.0.flutter-ccb16f7282<br></code></pre></td></tr></table></figure><p>åŸ·è¡Œ <code>flutter upgrade</code> æŒ‡ä»¤æ›´æ–° Flutterï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter upgrade</span><br>Upgrading Flutter from D:\dev\flutter...<br>...<br>Flutter 0.7.3 â€¢ channel beta â€¢ https://github.com/flutter/flutter.git<br>Framework â€¢ revision 3b309bda07 (3 weeks ago) â€¢ 2018-09-07 12:33:05 -0700<br>Engine â€¢ revision 58a1894a1c<br>Tools â€¢ Dart 2.1.0-dev.1.0.flutter-ccb16f7282<br><br>Running flutter doctor...<br>Doctor summary (to see all details, run flutter doctor -v):<br>[âˆš] Flutter (Channel beta, v0.8.2, on Microsoft Windows [Version 10.0.17134.285], locale zh-TW)<br>[âˆš] Android toolchain - develop for Android devices (Android SDK 28.0.2)<br>[âˆš] Android Studio (version 3.1)<br>[âˆš] VS Code (version 1.27.2)<br>[!] Connected devices<br>    ! No devices available<br><br>! Doctor found issues in 1 category.<br></code></pre></td></tr></table></figure><p>åœ¨åŸ·è¡Œä¸€æ¬¡ <code>flutter --version</code> ç¢ºèªå·²æ›´æ–°è‡³æ–°çš„ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter --version</span><br>Flutter 0.8.2 â€¢ channel beta â€¢ https://github.com/flutter/flutter.git<br>Framework â€¢ revision 5ab9e70727 (13 days ago) â€¢ 2018-09-07 12:33:05 -0700<br>Engine â€¢ revision 58a1894a1c<br>Tools â€¢ Dart 2.1.0-dev.3.1.flutter-760a9690c2<br></code></pre></td></tr></table></figure><h2 id="flutter-doctor"><a class="header-anchor" href="#flutter-doctor"></a>flutter doctor</h2><p>ä¸‹é¢æŒ‡ä»¤æ˜¯ç”¨ä¾†æŸ¥çœ‹æ˜¯å¦éœ€è¦å®‰è£ä»»ä½•ä¾è³´æ‰èƒ½å®Œæˆè¨­å®šï¼Œå› æ­¤ä»–æœƒæª¢æŸ¥ä½ çš„ç’°å¢ƒä¸¦é¡¯ç¤ºæª¢æŸ¥å ±å‘Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter doctor</span><br></code></pre></td></tr></table></figure><p>Dart SDK is bundled with Flutterï¼Œä¸ç”¨å¦å¤–å®‰è£ Dartã€‚å¾æª¢æŸ¥å ±å‘Šçš„è¼¸å‡ºä¸­å¯ä»¥äº†è§£éœ€è¦å®‰è£çš„å…¶ä»–è»Ÿé«”æˆ–åŸ·è¡Œçš„å…¶ä»–ä»»å‹™ (ä»¥ç²—é«”é¡¯ç¤º)ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter doctor</span><br>Doctor summary (to see all details, run flutter doctor -v):<br>[âˆš] Flutter (Channel beta, v0.7.3, on Microsoft Windows [Version 10.0.17134.228], locale zh-TW)<br>[!] Android toolchain - develop for Android devices (Android SDK 28.0.2)<br>    X Android license status unknown.<br>[âˆš] Android Studio (version 3.1)<br>    X Flutter plugin not installed; this adds Flutter specific functionality.<br>    X Dart plugin not installed; this adds Dart specific functionality.<br>[!] Connected devices<br>    ! No devices available<br><br>! Doctor found issues in 2 categories.<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æœƒä»‹ç´¹å¦‚ä½•åŸ·è¡Œé€™äº›ä»»å‹™ä¸¦å®Œæˆè¨­å®šéç¨‹ã€‚å¯å†æ¬¡åŸ·è¡Œ <code>flutter doctor</code> æŒ‡ä»¤ä¾†é©—è­‰æ˜¯å¦å·²æ­£ç¢ºè¨­å®šæ‰€æœ‰å…§å®¹ã€‚</p><p>å¦‚æœå·²é©—è­‰è¨­å®šæ‰€æœ‰å…§å®¹ï¼Œå°±æœƒçœ‹åˆ°ä¸‹é¢è¼¸å‡ºçµæœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter doctor</span><br>Doctor summary (to see all details, run flutter doctor -v):<br>[âˆš] Flutter (Channel beta, v0.7.3, on Microsoft Windows [Version 10.0.17134.285], locale zh-TW)<br>[âˆš] Android toolchain - develop for Android devices (Android SDK 28.0.2)<br>[âˆš] Android Studio (version 3.1)<br>[âˆš] Connected devices (1 available)<br><br>â€¢ No issues found!<br></code></pre></td></tr></table></figure><p>åŠ ä¸Šåƒæ•¸ <code>-v</code>ï¼Œå¯ä»¥çœ‹æ›´è©³ç´°çš„é©—è­‰èªªæ˜ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter doctor -v</span><br>[âˆš] Flutter (Channel beta, v0.7.3, on Microsoft Windows [Version 10.0.17134.285], locale zh-TW)<br>    â€¢ Flutter version 0.7.3 at D:\dev\flutter<br>    â€¢ Framework revision 3b309bda07 (3 weeks ago), 2018-08-28 12:39:24 -0700<br>    â€¢ Engine revision af42b6dc95<br>    â€¢ Dart version 2.1.0-dev.1.0.flutter-ccb16f7282<br><br>[âˆš] Android toolchain - develop for Android devices (Android SDK 28.0.2)<br>    â€¢ Android SDK at C:\Users\Titan\AppData\Local\Android\sdk<br>    â€¢ Android NDK location not configured (optional; useful for native profiling support)<br>    â€¢ Platform android-28, build-tools 28.0.2<br>    â€¢ ANDROID_HOME = C:\Users\Titan\AppData\Local\Android\sdk<br>    â€¢ Java binary at: C:\Program Files\Android\Android Studio\jre\bin\java<br>    â€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1024-b02)<br>    â€¢ All Android licenses accepted.<br><br>[âˆš] Android Studio (version 3.1)<br>    â€¢ Android Studio at C:\Program Files\Android\Android Studio<br>    â€¢ Flutter plugin version 28.0.1<br>    â€¢ Dart plugin version 173.4700<br>    â€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1024-b02)<br><br>[âˆš] Connected devices (1 available)<br>    â€¢ SM N950F â€¢ 988a98444d********** â€¢ android-arm64 â€¢ Android 8.0.0 (API 26)<br><br>â€¢ No issues found!<br></code></pre></td></tr></table></figure><h2 id="Android-è¨­å®š"><a class="header-anchor" href="#Android-è¨­å®š"></a>Android è¨­å®š</h2><div class="info"><p>Flutter ä¾è³´æ–¼ Android Studio ä»¥æä¾› Android å¹³å°çš„ä¾è³´æ€§ã€‚ä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç·¨è¼¯å™¨ä¾†å¯« Flutter Appã€‚</p></div><h3 id="å®‰è£-Java-JDK"><a class="header-anchor" href="#å®‰è£-Java-JDK"></a>å®‰è£ Java JDK</h3><ol><li>å®‰è£ <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">JDK</a></li><li>å°‡ Java JDK å®‰è£ç›®éŒ„è¨­å®šç‚º <code>JAVA_HOME</code> ç’°å¢ƒè®Šæ•¸ (e.g. <code>C:\Program Files\Java\jdk1.8.0_151</code> )ï¼Œä¸¦åœ¨å°‡ Java JDK å®‰è£ç›®éŒ„å…§çš„ <code>bin</code> è³‡æ–™å¤¾è¨­å®šç‚º <code>Path</code> ç’°å¢ƒè®Šæ•¸ (e.g. <code>C:\Program Files\Java\jdk1.8.0_151\bin</code>ï¼Œä¹Ÿå¯è¨­å®šç‚º <code>%JAVA_HOME%\bin</code> )</li></ol><h3 id="å®‰è£-Android-Studio"><a class="header-anchor" href="#å®‰è£-Android-Studio"></a>å®‰è£ Android Studio</h3><ol><li>å®‰è£ <a href="https://developer.android.com/studio/" target="_blank" rel="noopener">Android Studio</a>ï¼Œè«‹å®‰è£ Recommended (å»ºè­°) ç‰ˆ</li><li>åŸ·è¡Œ Android Studioï¼Œä¸¦ç€è¦½ <code>Android Studio Setup Wizard</code>ï¼Œå®‰è£æœ€æ–°çš„ Android SDKã€Android SDK Platform-Toolsã€Android SDK Build-Toolsï¼Œé€™äº›éƒ½æ˜¯ Flutter åœ¨é–‹ç™¼ Android æ™‚æ‰€å¿…é ˆçš„ã€‚</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-10-14.png" alt=""></p><ol start="3"><li>å°‡ Android SDK ç›®éŒ„è¨­å®šç‚º <code>ANDROID_HOME</code> ç’°å¢ƒè®Šæ•¸ (é è¨­ç›®éŒ„ç‚º <code>C:\Users\Titan\AppData\Local\Android\sdk</code> )</li><li>å®šæœŸæ›´æ–° Android SDK (æ–¼ <code>Android Studio</code> &gt; <code>Configure</code> &gt; <code>SDK Manager</code> å®‰è£)</li></ol><h3 id="è¨­å®šä½ çš„-Android-è£ç½®"><a class="header-anchor" href="#è¨­å®šä½ çš„-Android-è£ç½®"></a>è¨­å®šä½ çš„ Android è£ç½®</h3><p>æƒ³åœ¨ Android è£ç½®ä¸ŠåŸ·è¡Œå’Œæ¸¬è©¦ Flutter Appï¼Œéœ€è¦ Android 4.1 (API level 16) æˆ–æ›´é«˜ç‰ˆæœ¬çš„ Android è¨­å‚™ã€‚</p><ol><li>è£ç½®è«‹é–‹å•Ÿ <code>é–‹ç™¼è€…æ¨¡å¼</code> å…§çš„ <code>USB åµéŒ¯</code>ï¼Œè©³æƒ…å¯åƒè€ƒ <a href="https://developer.android.com/studio/debug/dev-options" target="_blank" rel="noopener">Configure on-device developer options Â |Â  Android Developers</a> æ­¤ Android å®˜æ–¹æ–‡ä»¶</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-10-23.png" alt=""></p><ol start="2"><li>å®‰è£ <a href="https://developer.android.com/studio/run/win-usb" target="_blank" rel="noopener">Google USB Driver</a> (é™ Windows)</li><li>ä½¿ç”¨ USB ç·šå°‡è£ç½®é€£æ¥è‡³é›»è…¦ï¼Œå¦‚æœä½ çš„è£ç½®æœ‰å‡ºç¾æç¤ºï¼Œè«‹æˆæ¬Šä½ çš„é›»è…¦å¯è¨ªå•ä½ çš„è£ç½®</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-10-36.png" alt=""></p><ol start="4"><li>é–‹å•Ÿçµ‚ç«¯æ©Ÿï¼ŒåŸ·è¡Œ <code>flutter devices</code> æŒ‡ä»¤ä»¥é©—è­‰ Flutter æ˜¯å¦æˆåŠŸé€£çµ Android è£ç½®</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åƒæˆ‘é€£æ¥åˆ° Note 8</span><br><span class="hljs-meta">$</span><span class="bash"> flutter devices</span><br>1 connected device:<br><br>SM N950F â€¢ 988a98444d********** â€¢ android-arm64 â€¢ Android 8.0.0 (API 26)<br></code></pre></td></tr></table></figure><p>Flutter é è¨­æœƒä»¥ <code>adb</code> å·¥å…·åŸºæ–¼çš„ Android SDK ç‰ˆæœ¬ä¾†ä½¿ç”¨ï¼Œè‹¥æƒ³ç”¨å…¶ä»–ç‰ˆæœ¬çš„ Android SDKï¼Œå¯è¨­å®šä½ æ‰€éœ€çš„ Android SDK ç›®éŒ„ç‚º <code>ANDROID_HOME</code> ç’°å¢ƒè®Šæ•¸ã€‚</p><p>å¦‚æœåŸ·è¡Œ <code>flutter run</code>æŒ‡ä»¤ï¼Œè€Œä¸”æˆåŠŸå°‡ App å®‰ç½®æ‰‹æ©Ÿä¸¦åŸ·è¡Œï¼Œå°±æœƒçœ‹åˆ° App çš„ç•«é¢</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-10-45.png" alt=""></p><h3 id="è¨­å®š-Android-æ¨¡æ“¬å™¨-emulator"><a class="header-anchor" href="#è¨­å®š-Android-æ¨¡æ“¬å™¨-emulator"></a>è¨­å®š Android æ¨¡æ“¬å™¨ (emulator)</h3><p>æƒ³åœ¨ Android æ¨¡æ“¬å™¨ä¸ŠåŸ·è¡Œå’Œæ¸¬è©¦ Flutter Appï¼Œè«‹ä¾ç…§ä¸‹é¢æ­¥é©Ÿï¼š</p><ol><li>åœ¨ä¸»æ©Ÿä¸Šå•Ÿç”¨ <a href="https://developer.android.com/studio/run/emulator-acceleration" target="_blank" rel="noopener">VM acceleration</a></li><li>å•Ÿå‹• <strong>Android Studio</strong> &gt; <strong>Tools</strong> &gt; <strong>AVD Manager</strong> ä¸¦é»é¸ <strong>Create Virtual Device</strong></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-10-55.png" alt=""></p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-11-05.png" alt=""></p><ol><li>é¸æ“‡è¨­å‚™å®šç¾©ï¼Œç„¶å¾Œé»æ“‡ <strong>Next</strong></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-11-14.png" alt=""></p><ol start="2"><li>é¸æ“‡ä½ æ‰€éœ€çš„ Android ç‰ˆæœ¬çš„ OS imageï¼Œç„¶å¾Œé»é¸ <strong>Next</strong> (å»ºè­°é¸æ“‡ <em>x86</em> æˆ– x86_64 image)</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-11-23.png" alt=""></p><ol start="3"><li>åœ¨ Emulated Performance æ¬„ä½è«‹é¸æ“‡ <strong>Hardware - GLES 2.0</strong> ä»¥å•Ÿç”¨ <a href="https://developer.android.com/studio/run/emulator-acceleration" target="_blank" rel="noopener">hardware acceleration</a></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-11-38.png" alt=""></p><ol start="4"><li>é©—è­‰ AVD è¨­å®šæ˜¯å¦æ­£ç¢ºï¼Œè‹¥ç¢ºå®šè«‹é»é¸ <strong>Finish</strong></li><li>åœ¨ Android Virtual Device Manager ä¸­ï¼Œé¸æ“‡æŸå°æ¨¡æ“¬å™¨ä¸¦é»æ“Š Run</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-12-30.png" alt=""></p><p>æœ‰é—œä¸Šè¿°æ­¥é©Ÿçš„è©³æƒ…å¯åƒè€ƒ <a href="https://developer.android.com/studio/run/managing-avds.html" target="_blank" rel="noopener">Managing AVDs</a></p><h2 id="è¨­å®šç·¨è¼¯å™¨"><a class="header-anchor" href="#è¨­å®šç·¨è¼¯å™¨"></a>è¨­å®šç·¨è¼¯å™¨</h2><h3 id="è¨­å®š-Android-Studio"><a class="header-anchor" href="#è¨­å®š-Android-Studio"></a>è¨­å®š Android Studio</h3><p>å®‰è£ Flutter å’Œ Dart plugins (å¤–æ›)ï¼Œæœ‰å…©å€‹ plugin æ”¯æ´ Flutterï¼š</p><ul><li><code>Flutter</code> å¤–æ›ï¼šæ”¯æŒ Flutter é–‹ç™¼äººå“¡å·¥ä½œæµç¨‹ (running, debugging, hot reload â€¦ ç­‰)</li><li><code>Dart</code> å¤–æ›ï¼šæä¾›ç¨‹å¼ç¢¼åˆ†æ (è¼¸å…¥æ™‚çš„ç¨‹å¼ç¢¼é©—è­‰ã€ç¨‹å¼ç¢¼è‡ªå‹•è£œå…¨)</li></ul><p>å®‰è£æ­¥é©Ÿï¼š</p><ol><li>åŸ·è¡Œ Android Studio</li><li>é–‹å•Ÿå¤–æ›é¸é … (<strong>File</strong> &gt; <strong>Settings</strong> &gt; <strong>Plugins</strong>)</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-00.png" alt=""></p><ol start="3"><li>é»é¸ <strong>Browse repositoriesâ€¦</strong>ï¼Œæ¥è‘—æœå°‹ <code>Flutter</code> ä¸¦é¸æ“‡ä¸¦å®‰è£åç‚º <code>Flutter</code> çš„ plugin (è«‹æ³¨æ„ï¼Œå®‰è£ <code>Flutter</code> å¤–æ›æ™‚æœƒåŒæ™‚å®‰è£ <code>Dart</code> èªè¨€å¤–æ›)</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-06.png" alt=""></p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-13.png" alt=""></p><ol start="4"><li>é»æ“Š <strong>Restart Android Studio</strong></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-20.png" alt=""></p><h3 id="è¨­å®š-VS-Code"><a class="header-anchor" href="#è¨­å®š-VS-Code"></a>è¨­å®š VS Code</h3><ul><li>å®‰è£ Flutter pluginï¼š<ul><li>å®‰è£ <a href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter" target="_blank" rel="noopener">Flutter</a> æ­¤æ“´å……åŠŸèƒ½ï¼Œä¸¦é‡å•Ÿ VS Codeã€‚</li></ul></li></ul><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-30.png" alt=""></p><ul><li>ä½¿ç”¨ Flutter Doctor é©—è­‰ä½ çš„è¨­å®šç’°å¢ƒï¼š<ul><li>æŒ‰ <code>F1</code> æˆ– <code>ctrl + shift + p</code> å¾Œï¼Œè¼¸å…¥ <strong>Flutter</strong> ä¸¦é»é¸ <strong>Flutter: Run Flutter Doctor</strong> å³å¯è‡³ <strong>OUTPUT (è¼¸å‡º)</strong> æŸ¥çœ‹é©—è­‰çµæœã€‚</li></ul></li></ul><p><img src="../images/flutter-install-on-windows/2018-10-23-07-14-39.png" alt=""></p><h2 id="ä½¿ç”¨-Android-Studio-é–‹ç™¼"><a class="header-anchor" href="#ä½¿ç”¨-Android-Studio-é–‹ç™¼"></a>ä½¿ç”¨ Android Studio é–‹ç™¼</h2><h3 id="å»ºç«‹æ–°-app"><a class="header-anchor" href="#å»ºç«‹æ–°-app"></a>å»ºç«‹æ–° app</h3><p>åœ¨ Android Studio ä¸­å»ºç«‹ Flutter å°ˆæ¡ˆ ( <strong>File</strong> &gt; <strong>New</strong> &gt; <strong>New Flutter Projectâ€¦</strong> )</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-04.png" alt=""></p><p>æ¥è‘—é¸æ“‡ <strong>Flutter Application</strong>ï¼Œä¸¦é»é¸ <strong>Next</strong></p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-10.png" alt=""></p><p>è«‹è¨­å®šå°ˆæ¡ˆåç¨±ã€ç¢ºå®š Flutter SDK ç›®éŒ„ã€è¨­å®šå°ˆæ¡ˆå„²å­˜ä½ç½®èˆ‡å¡«å¯«å°ˆæ¡ˆçš„ç°¡å–®æè¿°å¾Œï¼Œé»é¸ <strong>Next</strong></p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-17.png" alt=""></p><p>æœ€å¾Œè¼¸å…¥å…¬å¸ç¶²åŸŸ (e.g. <a href="http://example.com" target="_blank" rel="noopener">example.com</a>) å¾Œï¼Œé»é¸ <strong>Finish</strong> å³å¯å»ºç«‹æ–°çš„ Flutter å°ˆæ¡ˆ</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-23.png" alt=""></p><h3 id="åŸ·è¡Œ-app"><a class="header-anchor" href="#åŸ·è¡Œ-app"></a>åŸ·è¡Œ app</h3><p>ä¸‹åœ–ç‚º Android Studio çš„å·¥å…·åˆ—ï¼š</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-29.png" alt=""></p><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://flutter.io/get-started/test-drive/#androidstudio" target="_blank" rel="noopener">Get Started: Test Drive | Flutter</a></p><ol><li>åœ¨ <strong>target selector</strong> ä¸­ï¼Œé¸æ“‡å·²åŸ·è¡Œçš„ Android è£ç½®ï¼Œè‹¥ç•¶å‰æœªå•Ÿå‹•æˆ–æœªé€£æ¥ä»»ä½• Android è£ç½®ï¼Œé¸æ“‡æŸä¸€æ¨¡æ“¬å™¨æ™‚ï¼ŒAndroid Studio å°±æœƒé–‹å•Ÿè©²é¸æ“‡çš„æ¨¡æ“¬å™¨ã€‚å¦‚æœæ²’æœ‰å¯ç”¨çš„è£ç½®ï¼Œå¯è‡³å‰é¢ä»‹ç´¹çš„ <a href="#%E8%A8%AD%E5%AE%9A-Android-%E6%A8%A1%E6%93%AC%E5%99%A8-emulator">è¨­å®š Android æ¨¡æ“¬å™¨</a> æ®µè½ä¾†æ–°å»ºæ¨¡æ“¬å™¨ã€‚</li><li>é»æ“Š <strong>Run</strong> åœ–ç¤ºåŸ·è¡Œ app</li><li>ç¨å¾Œå°±æœƒåœ¨æ¨¡æ“¬å™¨æˆ–è£ç½®ä¸Šçœ‹åˆ°ä¸‹åœ–çš„ app ç•«é¢<ol><li>ç­‰å¾…çš„éç¨‹ä¸­æœƒåˆå§‹åŒ– gradle</li><li>gradle æœƒ resolve dependencies</li><li>å°‡å°ˆæ¡ˆè½‰æˆ apk</li><li>å°‡ apk å®‰è£ä¸¦åŸ·è¡Œæ–¼è£ç½®ä¸Š</li></ol></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-41.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell">Launching lib\main.dart on Android SDK built for x86 64 in debug mode...<br>Initializing gradle...<br>Resolving dependencies...<br>Running 'gradlew assembleDebug'...<br>Built build\app\outputs\apk\debug\app-debug.apk.<br>Installing build\app\outputs\apk\app.apk...<br>D/OpenGLRenderer( 4777): HWUI GL Pipeline<br>I/OpenGLRenderer( 4777): Initialized EGL, version 1.4<br>D/OpenGLRenderer( 4777): Swap behavior 1<br>D/        ( 4777): HostConnection::get() New Host Connection established 0x7073cf2e5b00, tid 4831<br>W/OpenGLRenderer( 4777): Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...<br>D/OpenGLRenderer( 4777): Swap behavior 0<br>D/EGL_emulation( 4777): eglCreateContext: 0x7073cf2a7600: maj 2 min 0 rcv 2<br>D/EGL_emulation( 4777): eglMakeCurrent: 0x7073cf2a7600: ver 2 0 (tinfo 0x7073b4be9300)<br>D/EGL_emulation( 4777): eglCreateContext: 0x7073cf3b10a0: maj 2 min 0 rcv 2<br>D/EGL_emulation( 4777): eglMakeCurrent: 0x7073cf3b10a0: ver 2 0 (tinfo 0x7073c2fe87c0)<br>Syncing files to device Android SDK built for x86 64...<br>D/EGL_emulation( 4777): eglMakeCurrent: 0x7073cf2a7600: ver 2 0 (tinfo 0x7073b4be9300)<br>D/        ( 4777): HostConnection::get() New Host Connection established 0x7073cf2e65e0, tid 4813<br>D/EGL_emulation( 4777): eglMakeCurrent: 0x7073cf3b10a0: ver 2 0 (tinfo 0x7073c560d6c0)<br></code></pre></td></tr></table></figure><h3 id="å˜—è©¦-hot-reload"><a class="header-anchor" href="#å˜—è©¦-hot-reload"></a>å˜—è©¦ hot reload</h3><p>ä¿®æ”¹ä¸€äº›å…§å®¹ä¸¦å„²å­˜ï¼Œapp å°±æœƒè‡ªå‹•åš hot reloadï¼Œå°±æœƒå¾ˆå¿«åœ°çœ‹åˆ°æœ€æ–°çš„æ›´æ–°ã€‚</p><h2 id="ä½¿ç”¨-VS-Code-é–‹ç™¼"><a class="header-anchor" href="#ä½¿ç”¨-VS-Code-é–‹ç™¼"></a>ä½¿ç”¨ VS Code é–‹ç™¼</h2><h3 id="å»ºç«‹æ–°-app-v2"><a class="header-anchor" href="#å»ºç«‹æ–°-app-v2"></a>å»ºç«‹æ–° app</h3><ol><li>æŒ‰ <code>F1</code> æˆ– <code>ctrl + shift + p</code> å¾Œï¼Œè¼¸å…¥ <strong>Flutter</strong> ä¸¦é»é¸ <strong>Flutter: New Project</strong></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-50.png" alt=""></p><ol start="2"><li>è¼¸å…¥å°ˆæ¡ˆåç¨±å¾Œï¼ŒæŒ‰ <code>enter</code> éµ</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-15-56.png" alt=""></p><ol start="3"><li>é¸æ“‡å°ˆæ¡ˆç›®éŒ„çš„å„²å­˜ä½ç½®</li><li>ç­‰å¾…å°ˆæ¡ˆå»ºç«‹å®Œæˆï¼Œä¸¦åœ¨ç•«é¢é¡¯ç¤º <code>lib/main.dart</code> æª”æ¡ˆ</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-01.png" alt=""></p><h3 id="åŸ·è¡Œ-app-v2"><a class="header-anchor" href="#åŸ·è¡Œ-app-v2"></a>åŸ·è¡Œ app</h3><ol><li><p>å¾ VS Code åº•éƒ¨çš„è—è‰²ç‹€æ…‹æ¬„ä¸­é»é¸ <strong>Device Selector</strong></p><ul><li><p>è‹¥è¦ä½¿ç”¨å¯¦é«”è£ç½®ï¼Œè©³æƒ…è‡³ <a href="#%E8%A8%AD%E5%AE%9A%E4%BD%A0%E7%9A%84-Android-%E8%A3%9D%E7%BD%AE">è¨­å®šä½ çš„ Android è£ç½®</a> åƒè€ƒã€‚è‹¥é€£çµæˆåŠŸæœƒåœ¨ VS Code åº•éƒ¨çš„è—è‰²ç‹€æ…‹æ¬„ä¸­çœ‹åˆ°ä½ çš„è£ç½®åç¨±</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-14.png" alt=""></p></li><li><p>å¦‚æœæ²’æœ‰å¯ç”¨çš„è£ç½®ï¼Œè«‹é»é¸ <strong>No Devices</strong> ä¸¦å•Ÿå‹•æ¨¡æ“¬å™¨</p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-34.png" alt=""></p><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-41.png" alt=""></p></li></ul></li><li><p>åŸ·è¡Œ <strong>Debug</strong></p></li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-46.png" alt=""></p><ol start="3"><li>ç­‰å¾… App åŸ·è¡Œï¼Œå¯åœ¨åµéŒ¯ä¸»æ§å° (Debug Console) çœ‹åˆ°åŸ·è¡Œé€²åº¦ï¼Œç¨å¾Œå°±æœƒåœ¨æ¨¡æ“¬å™¨æˆ–è£ç½®ä¸Šçœ‹åˆ°ä¸‹åœ–çš„ app ç•«é¢</li></ol><p><img src="../images/flutter-install-on-windows/2018-10-23-07-16-52.png" alt=""></p><h2 id="ä½¿ç”¨-Terminal-Editor-é–‹ç™¼"><a class="header-anchor" href="#ä½¿ç”¨-Terminal-Editor-é–‹ç™¼"></a>ä½¿ç”¨ Terminal + Editor é–‹ç™¼</h2><h3 id="å»ºç«‹æ–°-app-v3"><a class="header-anchor" href="#å»ºç«‹æ–°-app-v3"></a>å»ºç«‹æ–° app</h3><p>ä½¿ç”¨ <code>flutter create</code> æŒ‡ä»¤ä¾†å»ºç«‹ Flutter å°ˆæ¡ˆï¼Œè£¡é¢åŒ…å« <a href="https://material.io/design/" target="_blank" rel="noopener">Material Components</a> çš„ç¯„ä¾‹ appã€‚app çš„ç¨‹å¼ç¢¼åœ¨ <code>lib/main.dart</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter create &lt;prject-name&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> &lt;prject-name&gt;</span><br></code></pre></td></tr></table></figure><h3 id="åŸ·è¡Œ-app-v3"><a class="header-anchor" href="#åŸ·è¡Œ-app-v3"></a>åŸ·è¡Œ app</h3><p>ä½¿ç”¨ <code>flutter devices</code> æŒ‡ä»¤å¯æª¢æŸ¥æ˜¯å¦æœ‰æ­£åœ¨åŸ·è¡Œçš„æ¨¡æ“¬å™¨æˆ–è£ç½®ã€‚å¦‚æœæ²’æœ‰å¯ç”¨çš„è£ç½®ï¼Œå¯è‡³å‰é¢ä»‹ç´¹çš„ <a href="#%E8%A8%AD%E5%AE%9A-Android-%E6%A8%A1%E6%93%AC%E5%99%A8-emulator">è¨­å®š Android æ¨¡æ“¬å™¨</a> æ®µè½ä¾†æ–°å»ºæ¨¡æ“¬å™¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter devices</span><br>1 connected device:<br><br>Android SDK built for x86 64 â€¢ emulator-5554 â€¢ android-x64 â€¢ Android 8.0.0 (API 26) (emulator)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>flutter run</code> æŒ‡ä»¤å¯åŸ·è¡Œ appï¼Œä¸¦æä¾›ä»¥ä¸‹åŠŸèƒ½çš„å¿«é€Ÿéµï¼š</p><ul><li><code>r</code>ï¼šhot reload</li><li><code>R</code>ï¼šhot restart (and rebuild state)</li><li><code>h</code>ï¼šé¡¯ç¤ºæ›´å¤šå¹«åŠ©è¨Šæ¯</li><li><code>q</code>ï¼šåœæ­¢åŸ·è¡Œ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> flutter run</span><br>Using hardware rendering with device Android SDK built for x86 64. If you get graphics artifacts, consider enabling software rendering with "--enable-software-rendering".<br>Launching lib/main.dart on Android SDK built for x86 64 in debug mode...<br>Initializing gradle...                                       1.7s<br>Resolving dependencies...                                   48.1s<br>Running 'gradlew assembleDebug'...                          88.5s<br>Built build\app\outputs\apk\debug\app-debug.apk.<br>Installing build\app\outputs\apk\app.apk...                 11.4s<br>Syncing files to device Android SDK built for x86 64...<br>D/        ( 5458): HostConnection::get() New Host Connection established 0x7073c31aabe0, tid 5513<br>D/EGL_emulation( 5458): eglMakeCurrent: 0x7073cf3b1280: ver 2 0 (tinfo 0x7073c2ab65c0)                                       12.3s<br><br>ğŸ”¥  To hot reload changes while running, press "r". To hot restart (and rebuild state), press "R".<br>An Observatory debugger and profiler on Android SDK built for x86 64 is available at: http://127.0.0.1:2158/<br>For a more detailed help message, press "h". To quit, press "q".<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
          <category> Flutter </category>
          
          <category> Android </category>
          
          <category> Mobile App </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dart </tag>
            
            <tag> VS Code </tag>
            
            <tag> Android Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo åŠ å…¥ Disqus ç•™è¨€ç‰ˆ (åŒ…å«ç•™è¨€æ•¸)</title>
      <link href="/article/hexo-disqus.html"/>
      <url>/article/hexo-disqus.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/cover/hexo-disqus.png" alt=""></p><p>Blog æœ€é‡è¦çš„æ˜¯å¯ä»¥å¢é€²æŠ€è¡“çš„äº¤æµï¼Œè€Œäº¤æµå°±å¯ä»¥é€éç•™è¨€ç‰ˆä¾†é”æˆã€‚å¤§éƒ¨åˆ†çš„ Blog åœ¨æ¯ç¯‡æ–‡ç« ä¸‹é¢éƒ½æœƒæœ‰ç•™è¨€æ¿ï¼Œè€Œæœ€å¸¸è¦‹çš„å°±æ˜¯ Disqus ç•™è¨€æ¿ï¼Œå› æ­¤æœ¬ç¯‡æœƒèªªæ˜å¦‚ä½•å°‡ Disqus ç•™è¨€æ¿å’Œå„æ–‡ç« çš„ç•™è¨€æ•¸åŠ å…¥ Hexo çš„ä¸»é¡Œä¸­ã€‚</p><a id="more"></a><h2 id="ç”³è«‹ç¶²ç«™ç•™è¨€ç‰ˆå¸³è™Ÿ"><a class="header-anchor" href="#ç”³è«‹ç¶²ç«™ç•™è¨€ç‰ˆå¸³è™Ÿ"></a>ç”³è«‹ç¶²ç«™ç•™è¨€ç‰ˆå¸³è™Ÿ</h2><p>è‡³ <a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a> é¦–é è¨»å†Šå¸³è™Ÿå¾Œä¸¦ç™»å…¥ï¼Œæ¥è‘—é»æ“Šé¦–é çš„ã€ŒGET STARTEDã€ï¼š</p><p><img src="../images/hexo-disqus/disqus-home-page.png" alt=""></p><p>é¸æ“‡ã€ŒI want to install Disqus on my siteã€é¸é …ï¼š</p><p><img src="../images/hexo-disqus/disqus-on-my-site.png" alt=""></p><p>éœ€è¦è¼¸å…¥çš„æ¬„ä½ï¼š</p><ul><li>Websit Nameï¼šè‡ªè¨‚ short nameï¼Œä¸”æ˜¯å”¯ä¸€ï¼Œåƒæˆ‘æ˜¯è¨­å®š titangene-blogã€‚short name æœƒåœ¨è¨­å®š Hexo æ™‚éœ€è¦</li><li>Categoryï¼šé¡åˆ¥ï¼Œè‡ªè¡Œé¸æ“‡</li><li>Languageï¼šèªè¨€ï¼Œè‡ªè¡Œé¸æ“‡</li></ul><p>å¡«å¯«å¾Œé»æ“Šã€ŒCreate Siteã€ï¼š</p><p><img src="../images/hexo-disqus/disqus-create-a-new-site.png" alt=""></p><h2 id="è¨­å®š-Hexo"><a class="header-anchor" href="#è¨­å®š-Hexo"></a>è¨­å®š Hexo</h2><p>åœ¨ <a href="https://github.com/stkevintan/hexo-theme-material-flow" target="_blank" rel="noopener">material-flow</a> ä¸»é¡Œå…§çš„ <code>_config.yml</code> åŸæœ‰è¨­å®šæ˜¯ä½¿ç”¨ <code>disqus_shortname</code> åƒæ•¸ä¾†è¨­å®š Disqus çš„ short nameï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">disqus_shortname:</span> <span class="hljs-string">your_disqus_short_name</span><br></code></pre></td></tr></table></figure><p>ä½†æˆ‘æƒ³åœ¨ blog åŠ ä¸Šç•™è¨€æ•¸ï¼Œæ‰€ä»¥æ‰å°‡åƒæ•¸è¨­å®šæ”¹æˆä¸‹é¢å…§å®¹ï¼š</p><ul><li><code>enable</code>ï¼šè¨­å®š <code>true</code> æˆ– <code>false</code> ä¾†æ±ºå®šæ˜¯å¦è¦å•Ÿç”¨ Disqus çš„ç•™è¨€ç‰ˆåŠŸèƒ½</li><li><code>shortname</code>ï¼šè¨­å®šä½ çš„ Disqus çš„ short name</li><li><code>count</code>ï¼šè¨­å®š <code>true</code> æˆ– <code>false</code> ä¾†æ±ºå®šæ˜¯å¦è¦é¡¯ç¤ºæ–‡ç« çš„ç•™è¨€æ•¸</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Comments</span><br><span class="hljs-attr">disqus:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">shortname:</span> <span class="hljs-string">your_disqus_short_name</span><br>  <span class="hljs-attr">count:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>é‚£æ¥è‘—å°±æ˜¯å°‡ Disqus çš„ç•™è¨€ç‰ˆåŠŸèƒ½åŠ å…¥ä¸»é¡Œä¸­ï¼Œä¸»è¦åˆ†æˆå¹¾å€‹æ­¥é©Ÿï¼š</p><ol><li>åŠ å…¥ Disqus script</li><li>æ–°å¢ Disqus ç•™è¨€ç‰ˆ</li><li>æ–°å¢ Disqus ç•™è¨€æ•¸</li></ol><p>å¦‚æœåœ¨å‰›å‰›ä¸Šé¢çš„ <code>count</code> åƒæ•¸è¨­å®šç‚º <code>false</code> å‰‡å¯ä»¥è·³éç¬¬ä¸‰å€‹æ­¥é©Ÿ <a href="#%E6%96%B0%E5%A2%9E-disqus-%E7%95%99%E8%A8%80%E6%95%B8">æ–°å¢ Disqus ç•™è¨€æ•¸</a>ã€‚</p><p>ä¸‹é¢æä¾›çš„ç¨‹å¼ç¢¼å¯é©ç”¨æ–¼ Hexo çš„ <a href="https://github.com/stkevintan/hexo-theme-material-flow" target="_blank" rel="noopener">material-flow</a> ä¸»é¡Œï¼ŒHTML çµæ§‹å¯ä¾å„è‡ªä½¿ç”¨çš„ç‰ˆå‹æˆ–éœ€æ±‚ä¾†ä¿®æ”¹ã€‚è‹¥æƒ³ç›´æ¥çœ‹æˆ‘è¨­å®šçš„åŸå§‹ç¢¼ï¼Œå¯è‡³æ­¤ Blog çš„ GitHub Repoã€Œ<a href="https://github.com/titangene/hexo-blog/tree/master/themes/material-flow/layout" target="_blank" rel="noopener">titangene/hexo-blog</a>ã€æŸ¥çœ‹ã€‚</p><h3 id="åŠ å…¥-Disqus-script"><a class="header-anchor" href="#åŠ å…¥-Disqus-script"></a>åŠ å…¥ Disqus script</h3><p>åœ¨ <code>themes\material-flow\layout\_partial\script\disqus.ejs</code> æª”æ¡ˆå…§åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œç•¶é é¢è¼‰å…¥æ™‚ï¼Œæœƒä»¥éåŒæ­¥çš„æ–¹å¼å°‡ Disqus çš„ script åŠ å…¥ <code>&lt;head&gt;</code> æˆ– <code>&lt;body&gt;</code> æ¨™ç±¤ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">if</span> (<span class="hljs-attr">config.disqus.enable</span>) &#123; %&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">if</span> (<span class="hljs-attr">page.comments</span>) &#123; %&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="actionscript">  <span class="hljs-keyword">var</span> disqus_shortname = <span class="hljs-string">'&lt;%= config.disqus.shortname %&gt;'</span>;</span><br><span class="actionscript">  <span class="hljs-keyword">var</span> disqus_config = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="actionscript">    <span class="hljs-keyword">this</span>.page.url = <span class="hljs-string">'&lt;%= page.permalink %&gt;'</span>;</span><br><span class="actionscript">    <span class="hljs-keyword">this</span>.page.identifier = <span class="hljs-string">'&lt;%= page.path %&gt;'</span>;</span><br><span class="actionscript">    <span class="hljs-keyword">this</span>.page.title = <span class="hljs-string">'&lt;%= page.title %&gt;'</span>;</span><br>  &#125;;<br><span class="actionscript">  (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> dsq = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);</span><br><span class="actionscript">    dsq.async = <span class="hljs-literal">true</span>;</span><br><span class="actionscript">    dsq.src = <span class="hljs-string">'//'</span> + disqus_shortname + <span class="hljs-string">'.disqus.com/embed.js'</span>;</span><br><span class="javascript">    dsq.setAttribute(<span class="hljs-string">'data-timestamp'</span>, <span class="hljs-string">''</span> + <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());</span><br><span class="javascript">    (<span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.body).appendChild(dsq);</span><br>  &#125;)();<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">%</span> &#125; %&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">if</span> (<span class="hljs-attr">config.disqus.count</span>) &#123; %&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span></span><br><span class="hljs-tag">  <span class="hljs-attr">id</span>=<span class="hljs-string">"dsq-count-scr"</span></span><br><span class="hljs-tag">  <span class="hljs-attr">src</span>=<span class="hljs-string">"https://&lt;%= config.disqus.shortname %&gt;.disqus.com/count.js"</span></span><br><span class="hljs-tag">  <span class="hljs-attr">async</span></span><br><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">%</span> &#125; %&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">%</span> &#125; %&gt;</span><br></code></pre></td></tr></table></figure><p>æ¥è‘—åœ¨ <code>themes\material-flow\layout\layout.ejs</code> æª”æ¡ˆå…§çš„ <code>&lt;body&gt;</code> æ¨™ç±¤ä¸­å°‡å‰›å‰›æ–°å¢çš„ <code>disqus.ejs</code> è¼‰å…¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%-</span> <span class="hljs-attr">partial</span>('<span class="hljs-attr">script</span>/<span class="hljs-attr">disqus</span>') %&gt;</span><br></code></pre></td></tr></table></figure><h3 id="æ–°å¢-Disqus-ç•™è¨€ç‰ˆ"><a class="header-anchor" href="#æ–°å¢-Disqus-ç•™è¨€ç‰ˆ"></a>æ–°å¢ Disqus ç•™è¨€ç‰ˆ</h3><p>åœ¨ <code>themes\material-flow\layout\_partial\article.ejs</code> æª”æ¡ˆå…§æ‰¾åˆ°é©ç•¶çš„ä½ç½®åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œå°±å¯ä»¥åœ¨æ–‡ç« å…§æ–°å¢ Disqus ç•™è¨€ç‰ˆï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">if</span> (<span class="hljs-attr">post.comments</span> &amp;&amp; <span class="hljs-attr">config.disqus.enable</span>) &#123; %&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comments"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"comments"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç•™è¨€ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"disqus_thread"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span></span><br><span class="hljs-tag">      &gt;</span>Please enable JavaScript to view the<br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://disqus.com/?ref_noscript"</span>&gt;</span>comments powered by Disqus.<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span></span><br><span class="hljs-tag">    &gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">%</span> &#125; %&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢ç¨‹å¼ç¢¼ä¸­æœ€é‡è¦çš„æ˜¯ <code>&lt;div id=&quot;disqus_thread&quot;&gt;</code> é€™å¥ï¼Œå› ç‚ºç•¶é é¢è¼‰å…¥ä¸¦å°‡ Disqus çš„ script è¼‰å…¥å¾Œï¼Œå°±æœƒå°‡æ­¤æ¨™ç±¤å…§çš„å…§å®¹å–ä»£æˆ Disqus ç•™è¨€ç‰ˆï¼Œè€Œ Disqus ç•™è¨€ç‰ˆæ˜¯ä½¿ç”¨ <code>&lt;iframe&gt;</code> æ¨™ç±¤çš„æ–¹å¼åµŒå…¥åœ¨é é¢ä¸­ï¼š</p><p><img src="../images/hexo-disqus/disqus-comments-iframe.png" alt=""></p><h3 id="æ–°å¢-Disqus-ç•™è¨€æ•¸"><a class="header-anchor" href="#æ–°å¢-Disqus-ç•™è¨€æ•¸"></a>æ–°å¢ Disqus ç•™è¨€æ•¸</h3><p>åœ¨ <code>themes\material-flow\layout\_partial\article.ejs</code> æª”æ¡ˆå…§æ‰¾åˆ°é©ç•¶çš„ä½ç½®åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œå°±å¯ä»¥åœ¨æ–‡ç« å…§æ–°å¢ Disqus ç•™è¨€æ•¸ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">if</span> (<span class="hljs-attr">post.comments</span> &amp;&amp; <span class="hljs-attr">config.disqus.enable</span> &amp;&amp; <span class="hljs-attr">config.disqus.count</span>) &#123; %&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comments-count"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"post-meta-item-icon"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-comment"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span></span><br><span class="hljs-tag">    <span class="hljs-attr">href</span>=<span class="hljs-string">"&lt;%- post.permalink %&gt;#disqus_thread"</span></span><br><span class="hljs-tag">    <span class="hljs-attr">class</span>=<span class="hljs-string">"article-comment-count"</span></span><br><span class="hljs-tag">    <span class="hljs-attr">data-disqus-identifier</span>=<span class="hljs-string">"&lt;%= post.path %&gt;"</span></span><br><span class="hljs-tag">    <span class="hljs-attr">itemprop</span>=<span class="hljs-string">"discussionUrl"</span></span><br><span class="hljs-tag">  &gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">%</span> &#125; %&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨ <code>themes\material-flow\layout\_partial\post.ejs</code> æª”æ¡ˆå…§æ–°å¢ Disqus ç•™è¨€æ•¸ï¼Œé€™æ¨£å°±å¯ä»¥åœ¨é¦–é çœ‹åˆ°å„æ–‡ç« çš„ç•™è¨€æ•¸ã€‚</p><p>ä¸Šé¢ç¨‹å¼ç¢¼ä¸­æœ€é‡è¦çš„æ˜¯ <code>&lt;a href=&quot;&lt;%- post.permalink %&gt;#disqus_thread&quot;...&gt;</code> é€™å¥ï¼Œå› ç‚ºåœ¨é€£çµçš„æœ€å¾ŒåŠ ä¸Š <code>#disqus_thread</code>ï¼Œå°±ä»£è¡¨è¦å‘Šè¨´ Disqus è¦æ‰¾å“ªå€‹é€£çµçš„ç•™è¨€æ•¸ï¼Œä¸¦å°‡ç•™è¨€æ•¸è¨­ç‚ºé€£çµåç¨± (ä¾‹å¦‚ï¼š1 ç•™è¨€)ã€‚è€Œ <code>data-disqus-identifier</code> å±¬æ€§éœ€è¨­ç‚ºæ­¤é é¢çš„è­˜åˆ¥åç¨±ï¼š</p><p><img src="../images/hexo-disqus/disqus-comments-count-link.png" alt=""></p><blockquote><p>å¯åƒè€ƒ Disqus çš„ <a href="https://help.disqus.com/developer/javascript-configuration-variables" target="_blank" rel="noopener">JavaScript configuration variables | Disqus</a> æ–‡ä»¶ã€‚</p></blockquote><p>è‹¥è¦è¨­å®šé¡¯ç¤ºåœ¨é é¢ä¸Šçš„ç•™è¨€æ•¸æ–‡å­—ï¼Œå¯è‡³ Disqus çš„ã€ŒSetting &gt; Community &gt; Comment Count Linkã€å…§è¨­å®šï¼Œå¯åˆ†åˆ¥è¨­å®šä¸‰ç¨®æƒ…æ³ï¼š</p><ul><li>0 å‰‡ç•™è¨€</li><li>1 å‰‡ç•™è¨€</li><li>å¤šå‰‡ç•™è¨€ï¼š<code>{num}</code> æ˜¯ä½œç‚ºç•™è¨€æ•¸çš„è®Šæ•¸</li></ul><p><img src="../images/hexo-disqus/disqus-setting.png" alt=""></p><h2 id="Demo"><a class="header-anchor" href="#Demo"></a>Demo</h2><p>è¨­å®šå¾Œå°±å¯ä»¥çœ‹åˆ°æ¯ç¯‡æ–‡ç« ä¸‹é¢éƒ½å¯ä»¥ç•™è¨€å›‰ï¼</p><p><img src="../images/hexo-disqus/disqus-hexo.png" alt=""></p><p>å¯åœ¨æ¯ç¯‡æ–‡ç« çœ‹åˆ°ç•™è¨€æ•¸ï¼š</p><p><img src="../images/hexo-disqus/disqus-comment-count.png" alt=""></p><h2 id="åƒè€ƒä¾†æº"><a class="header-anchor" href="#åƒè€ƒä¾†æº"></a>åƒè€ƒä¾†æº</h2><ul><li><a href="https://disqus.com/admin/install/platforms/universalcode/" target="_blank" rel="noopener">Install instructions for Universal Code | Disqus</a></li><li><a href="https://help.disqus.com/developer/adding-comment-count-links-to-your-home-page" target="_blank" rel="noopener">Adding comment count links to your home page | Disqus</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Comment </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
